/*
 * Copyright Â© 2000-2017 Kohler Company. All Rights Reserved.
 */
var axKOH=axKOH||{};axKOH.main=axKOH.main||{};var noUiSlider=noUiSlider||null;axKOH.main.productSearch=function(){var componentClass="c-koh-product-search",initSearchNav=function(){var $searchControls=$(".koh-search-controls").first(),$searchSet=$searchControls.children(".koh-search-set").first(),$menuButton=$searchControls.children(".koh-search-select").first();$menuButton.click({list:$searchSet},function(e){var $button=$(this),$list=e.data.list;$button.hasClass("open")?($button.removeClass("open"),$list.removeClass("open")):($button.addClass("open"),$list.addClass("open"))}),$(document).click({target:$menuButton,list:$searchSet},function(e){var $button=e.data.target,$list=e.data.list;$(e.target).closest($button).length||$(e.target).is($button)||$button.hasClass("open")&&($button.removeClass("open"),$list.removeClass("open"))})},initFilterExpandCollapse=function($components){$components&&$components.each(function(){var $component=$(this),filterGroupClass=".koh-filter-group.koh-filters",filterClass=".koh-filter",$filters=$component.find(filterGroupClass).children(filterClass);$filters.each(function(){var $filterName=$(this).children(".koh-filter-name").first(),$filterContent=$(this).children(".koh-filter-content").first();$filterName.click({target:$filterContent},function(e){var $target=e.data.target;$target.hasClass("open")?($(this).removeClass("open"),$target.removeClass("open")):($(this).addClass("open"),$target.addClass("open"))})});var $filterButton=$component.find(".koh-search-filters-title"),$filterContent=$component.find(".koh-search-filters-content");$filterButton.click({target:$filterContent},function(e){var $target=e.data.target;$target.hasClass("open")?$target.removeClass("open"):$target.addClass("open")})})},initRangeSliders=function($components){$components&&$components.each(function(){var $component=$(this),$rangeFilters=$component.find(".koh-filter.koh-filter-type-range");$rangeFilters.each(function(){var $rangeFilter=$(this),$sliderContainer=$rangeFilter.find(".koh-range-filter").first(),$rangeLabels=$sliderContainer.find(".koh-range-slider-labels"),$rangeMinLabel=$sliderContainer.find(".koh-range-slider-labels > .koh-range-slider-min"),$rangeMaxLabel=$sliderContainer.find(".koh-range-slider-labels > .koh-range-slider-max"),$slider=$sliderContainer.find(".koh-range-slider").first(),sliderElement=$slider[0],rangeLabelPrefix=$rangeLabels.data("label-prefix"),rangeLabelSuffix=$rangeLabels.data("label-suffix"),rangeCurrentMin=$rangeMinLabel.data("min-value"),rangeCurrentMax=$rangeMaxLabel.data("max-value"),rangeMin=$slider.data("range-min"),rangeMax=$slider.data("range-max");noUiSlider&&!isNaN(rangeMin)&&!isNaN(rangeMax)&&rangeMax>rangeMin?(noUiSlider.create(sliderElement,{start:[rangeCurrentMin,rangeCurrentMax],connect:!0,range:{min:rangeMin,max:rangeMax},format:{to:function(value){return Math.round(value)},from:function(value){return value}}}),sliderElement.noUiSlider.on("update",function(values,handleIndex){0===handleIndex?($rangeMinLabel.data("min-value",values[handleIndex]),$rangeMinLabel.text(rangeLabelPrefix+values[handleIndex]+rangeLabelSuffix)):1===handleIndex&&($rangeMaxLabel.data("max-value",values[handleIndex]),$rangeMaxLabel.text(rangeLabelPrefix+values[handleIndex]+rangeLabelSuffix))})):sliderElement.hide()})})},initQuickView=function($components){$components&&$components.each(function(componentIndex){var $component=$(this),$quickViewContainers=$component.find(".koh-product-quick-view");$quickViewContainers.each(function(quickViewIndex){var $button=$(this).children(".koh-product-quick-view-button"),$panel=$(this).children(".koh-product-quick-view-panel"),remodalID="QuickView"+componentIndex+quickViewIndex;initAsModal($button,$panel,remodalID),$panel.each(function(){initQuickViewData($(this))})})})},initTooltips=function($components){if($components){var $componentModals=$('.remodal-wrapper > div[data-koh-component="'+componentClass+'"]'),$targets=$components.add($componentModals);$targets.each(function(componentIndex){var $component=$(this),$abbreviations=$component.find("abbr[title]");$abbreviations.each(function(abbrIndex){var $abbr=$(this);$abbr.qtip({id:"abbr"+componentIndex+abbrIndex,content:{attr:"title"},position:{my:"bottom center",at:"top center"},style:{classes:"koh-qtip-tooltip koh-product-search-tooltip qtip-bootstrap",tip:{mimic:"center",width:30,height:15}}})});var $colorSwatches=$component.find("button.koh-product-color, .koh-available-filters.v-koh-colors > li > a");$colorSwatches.each(function(swatchIndex){var $colorSwatch=$(this),$colorLabel=$colorSwatch.children(".label");$colorSwatch.qtip({id:"swatch"+componentIndex+swatchIndex,content:{text:$colorLabel.clone()},position:{my:"top left",at:"bottom left",adjust:{y:6}},style:{classes:"koh-qtip-tooltip koh-product-search-tooltip qtip-bootstrap",tip:!1}})});var $facetsWithTooltips=$component.find(".koh-filter").has(".koh-filter-tooltips");$facetsWithTooltips.each(function(facetIndex){var $facet=$(this),$facetName=$facet.find(".koh-filter-name"),$facetTooltip=$facet.find(".koh-filter-tooltips");$facetName.append('<span class="koh-tooltip"></span>');var $tooltipIcon=$facetName.children(".koh-tooltip");$tooltipIcon.qtip({id:"facetTooltip"+componentIndex+facetIndex,content:{text:$facetTooltip},show:"click",hide:{event:"click unfocus"},position:{my:"center left",at:"center right",adjust:{x:6}},style:{classes:"koh-qtip-tooltip koh-product-search-facet-tooltip qtip-bootstrap",tip:{mimic:"center",width:30,height:15}}}),$tooltipIcon.click(function(e){e.stopPropagation(),e.preventDefault()})})})}},initDropdowns=function($components){$components&&$components.each(function(){var $component=$(this),$options=$component.find(".koh-search-sorting");$options.each(function(){var $optionsButton=$(this).children(".koh-sort-by"),$optionsList=$(this).children(".koh-sort-options");$optionsButton.click({list:$optionsList},function(e){var $button=$(this),$list=e.data.list;$button.hasClass("open")?($button.removeClass("open"),$list.removeClass("open")):($button.addClass("open"),$list.addClass("open"))})})})},initSimilarProducts=function($components){$components&&$components.each(function(){var $component=$(this),$productTiles=$component.find(".koh-product-tile");$productTiles.each(function(){var $productLink=$(this).find(".koh-product-tile-content > a");$productLink.on("click",function(){var similarProducts=$(this).data("similar");if(similarProducts){var minutes=5,expires=new Date;expires.setTime(expires.getTime()+60*minutes*1e3),document.cookie="kohsimprod="+similarProducts+";expires="+expires.toUTCString()+";path=/"}})})})},initSearchFacets=function($components){$components.each(function(){var $component=$(this),$sortButton=$component.find(".koh-search-sorting > .koh-sort-by"),$sortOptions=$component.find(".koh-search-sorting > .koh-sort-options"),$sortOptionItems=$sortOptions.children("li");$sortOptionItems.each(function(){var $sortOptionItem=$(this);$sortOptionItem.click({button:$sortButton,collection:$sortOptions,choices:$sortOptionItems},function(e){setActiveSorting(e.data.button,e.data.choices,$(this)),e.data.button.removeClass("open"),e.data.collection.removeClass("open"),displayNewResults($component)})});var $categories=$component.find(".koh-search-filters .koh-filter-group.koh-category");$categories.each(function(){var $selectedFilters=($categories.find(".koh-available-filters > li > a"),$categories.find(".koh-selected-filters")),$selectedFilterItems=$selectedFilters.children("li");$selectedFilterItems.each(function(){var $filterItem=$(this),$filterItemButton=$filterItem.children("button.koh-selected-filter");$filterItemButton.click({filterCount:$selectedFilterItems.length,filterSet:$selectedFilters,filterItem:$filterItem},function(e){e.data.filterCount<=1?e.data.filterSet.remove():e.data.filterItem.remove(),displayNewResults($component)})})});var $showAllCats=$component.find(".koh-search-filters .koh-filter-group.koh-category .koh-filter-group-all-link");$showAllCats.click(function(e){e.stopPropagation(),e.preventDefault(),displayNewResults($component)});var $filters=$component.find(".koh-search-filters .koh-filter-group.koh-filters .koh-filter");$filters.each(function(){var $filter=$(this),$selectedFilters=null,$selectedFilterItems=null,$availableFilters=null;if($filter.hasClass("koh-filter-type-checkbox")){var $checkbox=$filter.find(".koh-checkbox-filter > a");$checkbox.click(function(e){e.stopPropagation(),e.preventDefault(),$(this).hasClass("koh-checkbox-checked")?$(this).removeClass("koh-checkbox-checked").addClass("koh-checkbox-unchecked"):$(this).removeClass("koh-checkbox-unchecked").addClass("koh-checkbox-checked"),displayNewResults($component)})}else if($filter.hasClass("koh-filter-type-range")){var $sliderContainer=$filter.find(".koh-range-filter").first(),$rangeMinLabel=$sliderContainer.find(".koh-range-slider-labels > .koh-range-slider-min"),$rangeMaxLabel=$sliderContainer.find(".koh-range-slider-labels > .koh-range-slider-max"),$slider=$sliderContainer.find(".koh-range-slider"),sliderElement=$slider[0];sliderElement.noUiSlider&&sliderElement.noUiSlider.on("change",function(){var facetName=$sliderContainer.data("facet-name"),minValue=$rangeMinLabel.data("min-value"),maxValue=$rangeMaxLabel.data("max-value"),facetValue=minValue&&maxValue?minValue+"-"+maxValue:"";addActiveFilter($filter,facetName,facetValue,facetValue,"0"),displayNewResults($component)}),$selectedFilters=$filter.find(".koh-selected-filters"),$selectedFilterItems=$selectedFilters.children("li"),$selectedFilterItems.each(function(){var $filterItem=$(this),$filterItemButton=$filterItem.children("button.koh-selected-filter");$filterItemButton.click({filterCount:$selectedFilterItems.length,filterSet:$selectedFilters,filterItem:$filterItem},function(e){e.data.filterCount<=1?e.data.filterSet.remove():e.data.filterItem.remove(),displayNewResults($component)})})}else $filter.hasClass("koh-filter-type-colors")?($availableFilters=$filter.find(".koh-available-filters > li > a"),$selectedFilters=$filter.find(".koh-selected-filters"),$availableFilters.each(function(){var $filterLink=$(this);$($filterLink).on("click touchend",function(e){e.stopPropagation(),e.preventDefault();var facetName=$filterLink.data("facet-name"),facetValue=$filterLink.data("facet-value"),facetLabel=$filterLink.children("span.label").text(),facetCount="0";addActiveFilter($filter,facetName,facetValue,facetLabel,facetCount),displayNewResults($component)})}),$selectedFilters=$filter.find(".koh-selected-filters"),$selectedFilterItems=$selectedFilters.children("li"),$selectedFilterItems.each(function(){var $filterItem=$(this),$filterItemButton=$filterItem.children("button.koh-selected-filter");$filterItemButton.click({filterCount:$selectedFilterItems.length,filterSet:$selectedFilters,filterItem:$filterItem},function(e){e.data.filterCount<=1?e.data.filterSet.remove():e.data.filterItem.remove(),displayNewResults($component)})})):($availableFilters=$filter.find(".koh-available-filters > li > a"),$selectedFilters=$filter.find(".koh-selected-filters"),$availableFilters.each(function(){var $filterLink=$(this);$filterLink.click(function(e){e.stopPropagation(),e.preventDefault();var facetName=$filterLink.data("facet-name"),facetValue=$filterLink.data("facet-value"),facetLabel=$filterLink.children("span.name").first().text(),facetCount=$filterLink.children("span.count").first().text();addActiveFilter($filter,facetName,facetValue,facetLabel,facetCount),displayNewResults($component)})}),$selectedFilterItems=$selectedFilters.children("li"),$selectedFilterItems.each(function(){var $filterItem=$(this),$filterItemButton=$filterItem.children("button.koh-selected-filter");$filterItemButton.click({filterCount:$selectedFilterItems.length,filterSet:$selectedFilters,filterItem:$filterItem},function(e){e.data.filterCount<=1?e.data.filterSet.remove():e.data.filterItem.remove(),displayNewResults($component)})}))});var $clearAllFilters=$component.find(".koh-search-filters .koh-filter-group.koh-filters .koh-filter-group-all-link");$clearAllFilters.click(function(e){e.stopPropagation(),e.preventDefault(),displayNewResults($component,!1,!0)})})},getType=function($component){var type="";return type=$component.find(".koh-data-attributes").data("koh-type")||""},getSearchTerm=function($component){var searchTerm="";return searchTerm=$component.find(".koh-data-attributes").data("koh-searchterm")||""},getCurrentPage=function($component){var currentPage="";return currentPage=$component.find(".koh-data-attributes").data("koh-currentpage")||""},getActiveCategory=function($component){var categoryName="",$activeCategory=$component.find(".koh-search-filters .koh-filter-group.koh-category .koh-selected-filter").first();return categoryName=$activeCategory.data("facet-value")||""},getActiveFilters=function($component){var facetNameField="facet-name",facetValueField="facet-value",activeFilters={},$filters=$component.find(".koh-search-filters .koh-filter-group.koh-filters .koh-filter");return $filters.each(function(){var $filter=$(this),$selectedFilters=null,facetName="",facetValue="";if($filter.hasClass("koh-filter-type-checkbox")){var $checkbox=$filter.find(".koh-checkbox-filter > a");$checkbox.hasClass("koh-checkbox-checked")&&(facetName=$checkbox.data(facetNameField),facetValue=$checkbox.data(facetValueField),facetName&&facetValue&&(activeFilters[facetName]=facetValue))}else $filter.hasClass("koh-filter-type-range")?($selectedFilters=$filter.find(".koh-selected-filter"),$selectedFilters.each(function(){if(facetName=$(this).data(facetNameField),facetValue=$(this).data(facetValueField),facetName&&facetValue){var values=facetValue.split(/-/);activeFilters[facetName]=activeFilters[facetName]||{},activeFilters[facetName].Min=values[0],activeFilters[facetName].Max=values[1]}})):$filter.hasClass("koh-filter-type-colors")?($selectedFilters=$filter.find(".koh-selected-filter"),$selectedFilters.each(function(index){facetName=$(this).data(facetNameField),facetValue=$(this).data(facetValueField),facetName&&facetValue&&(activeFilters[facetName]=activeFilters[facetName]||{},activeFilters[facetName][index]=facetValue)})):($selectedFilters=$filter.find(".koh-selected-filter"),$selectedFilters.each(function(index){facetName=$(this).data(facetNameField),facetValue=$(this).data(facetValueField),facetName&&facetValue&&(activeFilters[facetName]=activeFilters[facetName]||{},activeFilters[facetName][index]=facetValue)}))}),activeFilters},getUrlfromActiveFilters=function($component){var url="",activeFilters=getActiveFilters($component);return $.each(activeFilters,function(facetName,facetValues){facetName&&facetValues&&("object"==typeof facetValues?$.each(facetValues,function(index,facetValue){if("Min"===index||"Max"===index){var paramName=facetName+index;queryParams[paramName]=facetValue,queryParamCount+=1}else url=url+"/"+facetName+"/"+facetValue}):url=url+"/"+facetName+"/"+facetValues)}),url},getActiveSorting=function($component){var sortOptions={orderBy:"",direction:"",labels:{orderBy:"orderBy",direction:"sort"}},$sortOptions=$component.find(".koh-search-sorting > .koh-sort-options");sortOptions.labels.orderBy=$sortOptions.data("sort-orderby-label")||sortOptions.labels.orderBy,sortOptions.labels.direction=$sortOptions.data("sort-direction-label")||sortOptions.labels.direction;var $activeSort=$sortOptions.find(".koh-sort-selected > span").first();return sortOptions.orderBy=$activeSort.data("sort-orderby"),sortOptions.direction=$activeSort.data("sort-direction"),sortOptions},setActiveSorting=function($sortButton,$sortOptions,$targetOption){$sortButton.text($targetOption.children("span").text()),$sortOptions.removeClass("koh-sort-selected"),$targetOption.addClass("koh-sort-selected")},addActiveFilter=function($filter,facetName,facetValue,facetLabel,facetCount){var $filterList=$filter.children(".koh-selected-filters"),$filterItemButton=$('<button class="koh-selected-filter"></button>');$filter.hasClass("koh-filter-type-checkbox")?$(this).removeClass("koh-checkbox-unchecked").addClass("koh-checkbox-checked"):$filter.hasClass("koh-filter-type-range")?($filterList&&$filterList.length||($filterList=$('<ul class="koh-selected-filters"></ul>'),$filterList.insertBefore($filter.find(".koh-range-filter"))),$filterItemButton.data("facet-name",facetName),$filterItemButton.data("facet-value",facetValue),$filterItemButton.append($('<span class="remove">Remove Filter</span>')),$filterItemButton.append($('<span class="name">'+facetLabel+"</span>")),$filterItemButton.append($('<span class="count">'+facetCount+"</span>")),$filterList.append($("<li></li>").wrapInner($filterItemButton))):($filterList&&$filterList.length||($filterList=$('<ul class="koh-selected-filters"></ul>'),$filterList.insertBefore($filter.find(".koh-available-filters"))),$filterItemButton.data("facet-name",facetName),$filterItemButton.data("facet-value",facetValue),$filterItemButton.append($('<span class="remove">Remove Filter</span>')),$filterItemButton.append($('<span class="name">'+facetLabel+"</span>")),$filterItemButton.append($('<span class="count">'+facetCount+"</span>")),$filterList.append($("<li></li>").wrapInner($filterItemButton)))},getURL=function($component,excludeCategory,excludeFilters){var url="",queryParams={},queryParamCount=0,urlRoot=$component.find(".koh-data-attributes").data("koh-url-root");if(url=urlRoot,!excludeCategory){var categoryName=getActiveCategory($component);if(categoryName&&(url=url+"/Category/"+categoryName),!excludeFilters){var urlFilters=getUrlfromActiveFilters($component);url+=urlFilters}var sortOptions=getActiveSorting($component);sortOptions&&sortOptions.orderBy&&sortOptions.direction&&(queryParams[sortOptions.labels.orderBy]=sortOptions.orderBy,queryParamCount+=1,queryParams[sortOptions.labels.direction]=sortOptions.direction,queryParamCount+=1)}var type=getType($component);type&&(url=url+"?type="+type);var searchTerm=getSearchTerm($component);searchTerm&&(url=url+"&search="+searchTerm);var currentPage=getCurrentPage($component);return currentPage&&(url=url+"&currentpage="+currentPage),queryParamCount>0&&(url+="&",$.each(queryParams,function(key,value){url=url+key+"="+value+"&"}),url=url.replace(/&$/,"")),url},displayNewResults=function($component,excludeCategory,excludeFilters){var currentUrl=window.location.href,targetUrl=getURL($component,excludeCategory,excludeFilters);targetUrl!==currentUrl&&(saveScrollPosition(),window.location.href=targetUrl)},initAsModal=function($button,$panel,remodalID){$panel.data("remodal-id",remodalID),$panel.prepend('<button data-remodal-action="close" class="remodal-close"></button>'),$panel.attr("data-koh-component",componentClass),$panel.addClass(componentClass+"-modal");var $remodalPanel=$panel.remodal({hashTracking:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:""});$button.data("remodal-target",remodalID),$button.click({target:$remodalPanel},function(e){e.preventDefault(),e.stopPropagation();var $target=e.data.target;$target.open()})},initQuickViewData=function($panel){var $primaryBanner=$panel.children(".koh-product-image"),$productContent=$panel.children(".koh-product-content"),$productSKU=$productContent.children(".koh-product-sku"),$productPrices=$productContent.children(".koh-product-prices"),$colorCollections=$productContent.children(".koh-product-colors");$colorCollections.each(function(){var $colorCollection=$(this),$selectedColorLabel=$colorCollection.children(".koh-selected-color").find(".value"),$colorVariants=$colorCollection.find(".koh-product-variant");$colorVariants.each(function(){var $colorVariant=$(this),productData={imageURL:$colorVariant.data("koh-image"),sku:$colorVariant.data("koh-sku"),prices:$colorVariant.data("koh-price"),colorName:$colorVariant.data("koh-color")},productFields={banner:$primaryBanner,sku:$productSKU,prices:$productPrices,color:$selectedColorLabel};$colorVariant.children(".koh-product-color").click({variantSet:$colorVariants,variant:$colorVariant,product:productData,fields:productFields},function(e){var $variant=e.data.variant,$variantSet=e.data.variantSet,productData=e.data.product,productFields=e.data.fields;productFields.banner.find("img").attr("src",productData.imageURL),productFields.sku.text(productData.sku),productFields.prices.find(".koh-current-price > .value").text(productData.prices.current),productFields.prices.find(".koh-previous-price > .value").text(productData.prices.previous),productFields.prices.find(".koh-discounted-price > .value").text(productData.prices.discounted),productFields.color.text(productData.colorName),$variantSet.removeClass("koh-selected-variant"),$variant.addClass("koh-selected-variant")})})})},loadScrollPosition=function(){var scrollPosition=sessionStorage.getItem("kohPageScroll");axKOH.utils.debugLog("Scroll set to "+scrollPosition),$(window).scrollTop(scrollPosition),sessionStorage.removeItem("kohPageScroll")},saveScrollPosition=function(){var scrollPosition=$(window).scrollTop();sessionStorage.setItem("kohPageScroll",scrollPosition)},initBackTopButton=function(){var topButton=$(".koh-search-top button");if($(topButton).length){var topTarget=$(".c-koh-product-search:first");$(topButton).click(function(e){e.preventDefault,$(topTarget).length&&$("html, body").animate({scrollTop:$(topTarget).offset().top-80},250)})}},initBackTopDistance=function(){var topButton=$(".koh-search-top button");if($(topButton).length){var topDistance=$(".c-koh-product-search:first").offset().top;$(document).scroll(function(){var y=$(this).scrollTop();y>topDistance?$(topButton).fadeIn():$(topButton).fadeOut()})}},initCatgoryLinks=function($components){var $searchTerm=window.location.search.slice(1),$categoryLinks=$(".koh-category .koh-available-filters li a"),$component=$($components[0]),urlFilters=getUrlfromActiveFilters($component);$categoryLinks.each(function(){var $categoryName=$(this).data("facet-name"),$categoryValue=$(this).data("facet-value"),$categoryURL="/results/"+$categoryName+"/"+$categoryValue+urlFilters+"?"+$searchTerm;$(this).attr("href",$categoryURL)})},initSpecToggle=function(){var specToggle=$(".koh-spec-toggle");$(specToggle).length&&specToggle.each(function(){$(this).click(function(e){return e.preventDefault,$(this).next().toggle(),$(this).toggleClass("active"),!1})})},initArticleVideos=function($components){$components&&$components.each(function(componentIndex){var $component=$(this),$videoLinks=$component.find(".koh-product-article.v-koh-video a");$videoLinks.each(function(videoIndex){var $videoLink=$(this),videoURL=$videoLink.attr("href"),apiURL=$videoLink.data("api");if(videoURL){var $videoPanel=$('<div class="koh-video-panel"><iframe width="560" height="315" src="'+videoURL+'" frameborder="0" allowfullscreen></iframe></div>');$videoPanel.insertAfter($videoLink);var remodalID="Video"+componentIndex+videoIndex,$videoPanel=$component.find(".koh-video-panel");initAsModal($videoLink,$videoPanel,remodalID),$videoPanel.on("opened",function(){var $embeddedVideo=$(this).find("iframe");resizeResponsiveVideo($embeddedVideo)})}else $videoLink.click(function(e){e.preventDefault(),e.stopPropagation()});apiURL&&$.get(apiURL,function(data){if(data&&data.items&&data.items[0]&&data.items[0].snippet){var videoTitle=data.items[0].snippet.title;videoTitle&&$videoLink.children(".koh-video-title").text(videoTitle)}})})})},resizeResponsiveVideo=function($videoElement){var embedTags="iframe, object, embed",aspectRatio=$videoElement.data("aspectratio"),maxWidth=$videoElement.data("maxwidth");aspectRatio&&maxWidth||(makeVideoResponsive($videoElement),aspectRatio=$videoElement.data("aspectratio"),maxWidth=$videoElement.data("maxwidth"));var $parent=$videoElement.closest(":not("+embedTags+")"),responsiveWidth=320;$parent&&(responsiveWidth=$parent.width()),responsiveWidth=Math.min(responsiveWidth,maxWidth),$videoElement.width(responsiveWidth),$videoElement.height(responsiveWidth*aspectRatio)};return{initialize:function(){var $components=$("."+componentClass);initSearchNav($components),initFilterExpandCollapse($components),initRangeSliders($components),initQuickView($components),initTooltips($components),initDropdowns($components),initSearchFacets($components),initSimilarProducts($components),initBackTopButton($components),initBackTopDistance($components),initCatgoryLinks($components),initSpecToggle($components),initArticleVideos($components)},onLoad:function(){loadScrollPosition()}}}(),$(function(){$(document).ready(function(){axKOH.main.productSearch.initialize()}),$(window).on("load",function(){axKOH.main.productSearch.onLoad()})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImMta29oLXByb2R1Y3Qtc2VhcmNoLmpzIl0sIm5hbWVzIjpbImF4S09IIiwibWFpbiIsIm5vVWlTbGlkZXIiLCJwcm9kdWN0U2VhcmNoIiwiY29tcG9uZW50Q2xhc3MiLCJpbml0U2VhcmNoTmF2IiwiJHNlYXJjaENvbnRyb2xzIiwiJCIsImZpcnN0IiwiJHNlYXJjaFNldCIsImNoaWxkcmVuIiwiJG1lbnVCdXR0b24iLCJjbGljayIsImxpc3QiLCJlIiwiJGJ1dHRvbiIsInRoaXMiLCIkbGlzdCIsImRhdGEiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJkb2N1bWVudCIsInRhcmdldCIsImNsb3Nlc3QiLCJsZW5ndGgiLCJpcyIsImluaXRGaWx0ZXJFeHBhbmRDb2xsYXBzZSIsIiRjb21wb25lbnRzIiwiZWFjaCIsIiRjb21wb25lbnQiLCJmaWx0ZXJHcm91cENsYXNzIiwiZmlsdGVyQ2xhc3MiLCIkZmlsdGVycyIsImZpbmQiLCIkZmlsdGVyTmFtZSIsIiRmaWx0ZXJDb250ZW50IiwiJHRhcmdldCIsIiRmaWx0ZXJCdXR0b24iLCJpbml0UmFuZ2VTbGlkZXJzIiwiJHJhbmdlRmlsdGVycyIsIiRyYW5nZUZpbHRlciIsIiRzbGlkZXJDb250YWluZXIiLCIkcmFuZ2VMYWJlbHMiLCIkcmFuZ2VNaW5MYWJlbCIsIiRyYW5nZU1heExhYmVsIiwiJHNsaWRlciIsInNsaWRlckVsZW1lbnQiLCJyYW5nZUxhYmVsUHJlZml4IiwicmFuZ2VMYWJlbFN1ZmZpeCIsInJhbmdlQ3VycmVudE1pbiIsInJhbmdlQ3VycmVudE1heCIsInJhbmdlTWluIiwicmFuZ2VNYXgiLCJpc05hTiIsImNyZWF0ZSIsInN0YXJ0IiwiY29ubmVjdCIsInJhbmdlIiwibWluIiwibWF4IiwiZm9ybWF0IiwidG8iLCJ2YWx1ZSIsIk1hdGgiLCJyb3VuZCIsImZyb20iLCJvbiIsInZhbHVlcyIsImhhbmRsZUluZGV4IiwidGV4dCIsImhpZGUiLCJpbml0UXVpY2tWaWV3IiwiY29tcG9uZW50SW5kZXgiLCIkcXVpY2tWaWV3Q29udGFpbmVycyIsInF1aWNrVmlld0luZGV4IiwiJHBhbmVsIiwicmVtb2RhbElEIiwiaW5pdEFzTW9kYWwiLCJpbml0UXVpY2tWaWV3RGF0YSIsImluaXRUb29sdGlwcyIsIiRjb21wb25lbnRNb2RhbHMiLCIkdGFyZ2V0cyIsImFkZCIsIiRhYmJyZXZpYXRpb25zIiwiYWJickluZGV4IiwiJGFiYnIiLCJxdGlwIiwiaWQiLCJjb250ZW50IiwiYXR0ciIsInBvc2l0aW9uIiwibXkiLCJhdCIsInN0eWxlIiwiY2xhc3NlcyIsInRpcCIsIm1pbWljIiwid2lkdGgiLCJoZWlnaHQiLCIkY29sb3JTd2F0Y2hlcyIsInN3YXRjaEluZGV4IiwiJGNvbG9yU3dhdGNoIiwiJGNvbG9yTGFiZWwiLCJjbG9uZSIsImFkanVzdCIsInkiLCIkZmFjZXRzV2l0aFRvb2x0aXBzIiwiaGFzIiwiZmFjZXRJbmRleCIsIiRmYWNldCIsIiRmYWNldE5hbWUiLCIkZmFjZXRUb29sdGlwIiwiYXBwZW5kIiwiJHRvb2x0aXBJY29uIiwic2hvdyIsImV2ZW50IiwieCIsInN0b3BQcm9wYWdhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiaW5pdERyb3Bkb3ducyIsIiRvcHRpb25zIiwiJG9wdGlvbnNCdXR0b24iLCIkb3B0aW9uc0xpc3QiLCJpbml0U2ltaWxhclByb2R1Y3RzIiwiJHByb2R1Y3RUaWxlcyIsIiRwcm9kdWN0TGluayIsInNpbWlsYXJQcm9kdWN0cyIsIm1pbnV0ZXMiLCJleHBpcmVzIiwiRGF0ZSIsInNldFRpbWUiLCJnZXRUaW1lIiwiY29va2llIiwidG9VVENTdHJpbmciLCJpbml0U2VhcmNoRmFjZXRzIiwiJHNvcnRCdXR0b24iLCIkc29ydE9wdGlvbnMiLCIkc29ydE9wdGlvbkl0ZW1zIiwiJHNvcnRPcHRpb25JdGVtIiwiYnV0dG9uIiwiY29sbGVjdGlvbiIsImNob2ljZXMiLCJzZXRBY3RpdmVTb3J0aW5nIiwiZGlzcGxheU5ld1Jlc3VsdHMiLCIkY2F0ZWdvcmllcyIsIiRzZWxlY3RlZEZpbHRlcnMiLCIkc2VsZWN0ZWRGaWx0ZXJJdGVtcyIsIiRmaWx0ZXJJdGVtIiwiJGZpbHRlckl0ZW1CdXR0b24iLCJmaWx0ZXJDb3VudCIsImZpbHRlclNldCIsImZpbHRlckl0ZW0iLCJyZW1vdmUiLCIkc2hvd0FsbENhdHMiLCIkZmlsdGVyIiwiJGF2YWlsYWJsZUZpbHRlcnMiLCIkY2hlY2tib3giLCJmYWNldE5hbWUiLCJtaW5WYWx1ZSIsIm1heFZhbHVlIiwiZmFjZXRWYWx1ZSIsImFkZEFjdGl2ZUZpbHRlciIsIiRmaWx0ZXJMaW5rIiwiZmFjZXRMYWJlbCIsImZhY2V0Q291bnQiLCIkY2xlYXJBbGxGaWx0ZXJzIiwiZ2V0VHlwZSIsInR5cGUiLCJnZXRTZWFyY2hUZXJtIiwic2VhcmNoVGVybSIsImdldEN1cnJlbnRQYWdlIiwiY3VycmVudFBhZ2UiLCJnZXRBY3RpdmVDYXRlZ29yeSIsImNhdGVnb3J5TmFtZSIsIiRhY3RpdmVDYXRlZ29yeSIsImdldEFjdGl2ZUZpbHRlcnMiLCJmYWNldE5hbWVGaWVsZCIsImZhY2V0VmFsdWVGaWVsZCIsImFjdGl2ZUZpbHRlcnMiLCJzcGxpdCIsIk1pbiIsIk1heCIsImluZGV4IiwiZ2V0VXJsZnJvbUFjdGl2ZUZpbHRlcnMiLCJ1cmwiLCJmYWNldFZhbHVlcyIsInBhcmFtTmFtZSIsInF1ZXJ5UGFyYW1zIiwicXVlcnlQYXJhbUNvdW50IiwiZ2V0QWN0aXZlU29ydGluZyIsInNvcnRPcHRpb25zIiwib3JkZXJCeSIsImRpcmVjdGlvbiIsImxhYmVscyIsIiRhY3RpdmVTb3J0IiwiJHRhcmdldE9wdGlvbiIsIiRmaWx0ZXJMaXN0IiwiaW5zZXJ0QmVmb3JlIiwid3JhcElubmVyIiwiZ2V0VVJMIiwiZXhjbHVkZUNhdGVnb3J5IiwiZXhjbHVkZUZpbHRlcnMiLCJ1cmxSb290IiwidXJsRmlsdGVycyIsImtleSIsInJlcGxhY2UiLCJjdXJyZW50VXJsIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwidGFyZ2V0VXJsIiwic2F2ZVNjcm9sbFBvc2l0aW9uIiwicHJlcGVuZCIsIiRyZW1vZGFsUGFuZWwiLCJyZW1vZGFsIiwiaGFzaFRyYWNraW5nIiwiY2xvc2VPbkNhbmNlbCIsImNsb3NlT25Fc2NhcGUiLCJjbG9zZU9uT3V0c2lkZUNsaWNrIiwibW9kaWZpZXIiLCJvcGVuIiwiJHByaW1hcnlCYW5uZXIiLCIkcHJvZHVjdENvbnRlbnQiLCIkcHJvZHVjdFNLVSIsIiRwcm9kdWN0UHJpY2VzIiwiJGNvbG9yQ29sbGVjdGlvbnMiLCIkY29sb3JDb2xsZWN0aW9uIiwiJHNlbGVjdGVkQ29sb3JMYWJlbCIsIiRjb2xvclZhcmlhbnRzIiwiJGNvbG9yVmFyaWFudCIsInByb2R1Y3REYXRhIiwiaW1hZ2VVUkwiLCJza3UiLCJwcmljZXMiLCJjb2xvck5hbWUiLCJwcm9kdWN0RmllbGRzIiwiYmFubmVyIiwiY29sb3IiLCJ2YXJpYW50U2V0IiwidmFyaWFudCIsInByb2R1Y3QiLCJmaWVsZHMiLCIkdmFyaWFudCIsIiR2YXJpYW50U2V0IiwiY3VycmVudCIsInByZXZpb3VzIiwiZGlzY291bnRlZCIsImxvYWRTY3JvbGxQb3NpdGlvbiIsInNjcm9sbFBvc2l0aW9uIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwidXRpbHMiLCJkZWJ1Z0xvZyIsInNjcm9sbFRvcCIsInJlbW92ZUl0ZW0iLCJzZXRJdGVtIiwiaW5pdEJhY2tUb3BCdXR0b24iLCJ0b3BCdXR0b24iLCJ0b3BUYXJnZXQiLCJhbmltYXRlIiwib2Zmc2V0IiwidG9wIiwiaW5pdEJhY2tUb3BEaXN0YW5jZSIsInRvcERpc3RhbmNlIiwic2Nyb2xsIiwiZmFkZUluIiwiZmFkZU91dCIsImluaXRDYXRnb3J5TGlua3MiLCIkc2VhcmNoVGVybSIsInNlYXJjaCIsInNsaWNlIiwiJGNhdGVnb3J5TGlua3MiLCIkY2F0ZWdvcnlOYW1lIiwiJGNhdGVnb3J5VmFsdWUiLCIkY2F0ZWdvcnlVUkwiLCJpbml0U3BlY1RvZ2dsZSIsInNwZWNUb2dnbGUiLCJuZXh0IiwidG9nZ2xlIiwidG9nZ2xlQ2xhc3MiLCJpbml0QXJ0aWNsZVZpZGVvcyIsIiR2aWRlb0xpbmtzIiwidmlkZW9JbmRleCIsIiR2aWRlb0xpbmsiLCJ2aWRlb1VSTCIsImFwaVVSTCIsIiR2aWRlb1BhbmVsIiwiaW5zZXJ0QWZ0ZXIiLCIkZW1iZWRkZWRWaWRlbyIsInJlc2l6ZVJlc3BvbnNpdmVWaWRlbyIsImdldCIsIml0ZW1zIiwic25pcHBldCIsInZpZGVvVGl0bGUiLCJ0aXRsZSIsIiR2aWRlb0VsZW1lbnQiLCJlbWJlZFRhZ3MiLCJhc3BlY3RSYXRpbyIsIm1heFdpZHRoIiwibWFrZVZpZGVvUmVzcG9uc2l2ZSIsIiRwYXJlbnQiLCJyZXNwb25zaXZlV2lkdGgiLCJpbml0aWFsaXplIiwib25Mb2FkIiwicmVhZHkiXSwibWFwcGluZ3MiOiI7OztBQUlBLEdBQUlBLE9BQVFBLFNBQ1pBLE9BQU1DLEtBQU9ELE1BQU1DLFFBRW5CLElBQUlDLFlBQWFBLFlBQWMsSUFFL0JGLE9BQU1DLEtBQUtFLGNBQWdCLFdBQzFCLEdBQUlDLGdCQUFpQix1QkFHakJDLGNBQWdCLFdBRW5CLEdBQUlDLGlCQUFrQkMsRUFBRSx3QkFBd0JDLFFBQzVDQyxXQUFhSCxnQkFBZ0JJLFNBQVMsbUJBQW1CRixRQUV6REcsWUFBY0wsZ0JBQWdCSSxTQUFTLHNCQUFzQkYsT0FDakVHLGFBQVlDLE9BQVNDLEtBQU1KLFlBQWMsU0FBU0ssR0FDakQsR0FBSUMsU0FBVVIsRUFBRVMsTUFDWkMsTUFBUUgsRUFBRUksS0FBS0wsSUFFZEUsU0FBUUksU0FBUyxTQUNyQkosUUFBUUssWUFBWSxRQUNwQkgsTUFBTUcsWUFBWSxVQUdsQkwsUUFBUU0sU0FBUyxRQUNqQkosTUFBTUksU0FBUyxXQUlqQmQsRUFBRWUsVUFBVVYsT0FBU1csT0FBUVosWUFBYUUsS0FBTUosWUFBYyxTQUFTSyxHQUN0RSxHQUFJQyxTQUFVRCxFQUFFSSxLQUFLSyxPQUNqQk4sTUFBUUgsRUFBRUksS0FBS0wsSUFFZE4sR0FBRU8sRUFBRVMsUUFBUUMsUUFBUVQsU0FB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QndSLGNBQWdCQyxXQUNyQkMsb0JBQXFCSixlQUNyQkUsWUFBY0YsY0FBY3RSLEtBQUssZUFDakN5UixTQUFXSCxjQUFjdFIsS0FBSyxZQUcvQixJQUFJMlIsU0FBVUwsY0FBY2hSLFFBQVEsUUFBUWlSLFVBQVUsS0FFbERLLGdCQUFrQixHQUNqQkQsV0FDSkMsZ0JBQWtCRCxRQUFRM00sU0FHM0I0TSxnQkFBa0I5TyxLQUFLTCxJQUFJbVAsZ0JBQWlCSCxVQUU1Q0gsY0FBY3RNLE1BQU80TSxpQkFDckJOLGNBQWNyTSxPQUFRMk0sZ0JBQWtCSixhQUl6QyxRQUNDSyxXQUFZLFdBQ1gsR0FBSW5SLGFBQWNyQixFQUFFLElBQUlILGVBR3hCQyxlQUFjdUIsYUFHZEQseUJBQXlCQyxhQUd6QlcsaUJBQWlCWCxhQUdqQjRDLGNBQWM1QyxhQUdkb0QsYUFBYXBELGFBR2I0RixjQUFjNUYsYUFHZDJHLGlCQUFpQjNHLGFBR2pCZ0csb0JBQW9CaEcsYUFHcEJxTyxrQkFBa0JyTyxhQUdsQjJPLG9CQUFvQjNPLGFBR3BCZ1AsaUJBQWlCaFAsYUFHakJ3UCxlQUFleFAsYUFHZjZQLGtCQUFrQjdQLGNBR25Cb1IsT0FBUSxXQUNQeEQsMEJBS0hqUCxFQUFFLFdBQ0RBLEVBQUVlLFVBQVUyUixNQUFNLFdBRWpCalQsTUFBTUMsS0FBS0UsY0FBYzRTLGVBRzFCeFMsRUFBRXlNLFFBQVE3SSxHQUFHLE9BQVEsV0FDcEJuRSxNQUFNQyxLQUFLRSxjQUFjNlMiLCJmaWxlIjoiYy1rb2gtcHJvZHVjdC1zZWFyY2gubWluLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogQ29weXJpZ2h0IMKpIDIwMDAtMjAxNyBLb2hsZXIgQ29tcGFueS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuICovXHJcblxyXG52YXIgYXhLT0ggPSBheEtPSCB8fCB7fTtcclxuYXhLT0gubWFpbiA9IGF4S09ILm1haW4gfHwge307XHJcblxyXG52YXIgbm9VaVNsaWRlciA9IG5vVWlTbGlkZXIgfHwgbnVsbDtcclxuXHJcbmF4S09ILm1haW4ucHJvZHVjdFNlYXJjaCA9IChmdW5jdGlvbiAoKSB7XHJcblx0dmFyIGNvbXBvbmVudENsYXNzID0gXCJjLWtvaC1wcm9kdWN0LXNlYXJjaFwiO1xyXG5cclxuXHQvLyBPcHRpb25hbCBzZWFyY2ggbmF2aWdhdGlvblxyXG5cdHZhciBpbml0U2VhcmNoTmF2ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHZhciAkc2VhcmNoQ29udHJvbHMgPSAkKFwiLmtvaC1zZWFyY2gtY29udHJvbHNcIikuZmlyc3QoKTtcclxuXHRcdHZhciAkc2VhcmNoU2V0ID0gJHNlYXJjaENvbnRyb2xzLmNoaWxkcmVuKFwiLmtvaC1zZWFyY2gtc2V0XCIpLmZpcnN0KCk7XHJcblxyXG5cdFx0dmFyICRtZW51QnV0dG9uID0gJHNlYXJjaENvbnRyb2xzLmNoaWxkcmVuKFwiLmtvaC1zZWFyY2gtc2VsZWN0XCIpLmZpcnN0KCk7XHJcblx0XHQkbWVudUJ1dHRvbi5jbGljayggeyBsaXN0OiAkc2VhcmNoU2V0IH0sIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dmFyICRidXR0b24gPSAkKHRoaXMpO1xyXG5cdFx0XHR2YXIgJGxpc3QgPSBlLmRhdGEubGlzdDtcclxuXHJcblx0XHRcdGlmICggJGJ1dHRvbi5oYXNDbGFzcyhcIm9wZW5cIikgKSB7XHJcblx0XHRcdFx0JGJ1dHRvbi5yZW1vdmVDbGFzcyhcIm9wZW5cIik7XHJcblx0XHRcdFx0JGxpc3QucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdCRidXR0b24uYWRkQ2xhc3MoXCJvcGVuXCIpO1xyXG5cdFx0XHRcdCRsaXN0LmFkZENsYXNzKFwib3BlblwiKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0JChkb2N1bWVudCkuY2xpY2soIHsgdGFyZ2V0OiAkbWVudUJ1dHRvbiwgbGlzdDogJHNlYXJjaFNldCB9LCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHZhciAkYnV0dG9uID0gZS5kYXRhLnRhcmdldDtcclxuXHRcdFx0dmFyICRsaXN0ID0gZS5kYXRhLmxpc3Q7XHJcblxyXG5cdFx0XHRpZiggISQoZS50YXJnZXQpLmNsb3Nlc3QoJGJ1dHRvbikubGVuZ3RoICYmICEkKGUudGFyZ2V0KS5pcygkYnV0dG9uKSApIHtcclxuXHRcdFx0XHRpZiAoICRidXR0b24uaGFzQ2xhc3MoXCJvcGVuXCIpICkge1xyXG5cdFx0XHRcdFx0JGJ1dHRvbi5yZW1vdmVDbGFzcyhcIm9wZW5cIik7XHJcblx0XHRcdFx0XHQkbGlzdC5yZW1vdmVDbGFzcyhcIm9wZW5cIik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0fTtcclxuXHJcblx0Ly8gRmlsdGVyIGV4cGFuZC9jb2xsYXBzZVxyXG5cdHZhciBpbml0RmlsdGVyRXhwYW5kQ29sbGFwc2UgPSBmdW5jdGlvbiAoJGNvbXBvbmVudHMpIHtcclxuXHRcdGlmICggJGNvbXBvbmVudHMgKSB7XHJcblx0XHRcdCRjb21wb25lbnRzLmVhY2goIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciAkY29tcG9uZW50ID0gJCh0aGlzKTtcclxuXHJcblx0XHRcdFx0dmFyIGZpbHRlckdyb3VwQ2xhc3MgPSBcIi5rb2gtZmlsdGVyLWdyb3VwLmtvaC1maWx0ZXJzXCI7XHJcblx0XHRcdFx0dmFyIGZpbHRlckNsYXNzID0gXCIua29oLWZpbHRlclwiO1xyXG5cclxuXHRcdFx0XHR2YXIgJGZpbHRlcnMgPSAkY29tcG9uZW50LmZpbmQoZmlsdGVyR3JvdXBDbGFzcykuY2hpbGRyZW4oZmlsdGVyQ2xhc3MpO1xyXG5cdFx0XHRcdCRmaWx0ZXJzLmVhY2goIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyICRmaWx0ZXJOYW1lID0gJCh0aGlzKS5jaGlsZHJlbihcIi5rb2gtZmlsdGVyLW5hbWVcIikuZmlyc3QoKTtcclxuXHRcdFx0XHRcdHZhciAkZmlsdGVyQ29udGVudCA9ICQodGhpcykuY2hpbGRyZW4oXCIua29oLWZpbHRlci1jb250ZW50XCIpLmZpcnN0KCk7XHJcblxyXG5cdFx0XHRcdFx0JGZpbHRlck5hbWUuY2xpY2soIHsgdGFyZ2V0OiAkZmlsdGVyQ29udGVudCB9LCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0XHRcdHZhciAkdGFyZ2V0ID0gZS5kYXRhLnRhcmdldDtcclxuXHRcdFx0XHRcdFx0aWYgKCAkdGFyZ2V0Lmhhc0NsYXNzKFwib3BlblwiKSApIHtcclxuXHRcdFx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKFwib3BlblwiKTtcclxuXHRcdFx0XHRcdFx0XHQkdGFyZ2V0LnJlbW92ZUNsYXNzKFwib3BlblwiKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKFwib3BlblwiKTtcclxuXHRcdFx0XHRcdFx0XHQkdGFyZ2V0LmFkZENsYXNzKFwib3BlblwiKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdC8vIEFsc28sIHRoZSBtYWluIGJ1dHRvbiBuZWVkcyBvbmVcclxuXHRcdFx0XHR2YXIgJGZpbHRlckJ1dHRvbiA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtc2VhcmNoLWZpbHRlcnMtdGl0bGVcIik7XHJcblx0XHRcdFx0dmFyICRmaWx0ZXJDb250ZW50ID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1zZWFyY2gtZmlsdGVycy1jb250ZW50XCIpO1xyXG5cdFx0XHRcdCRmaWx0ZXJCdXR0b24uY2xpY2soIHsgdGFyZ2V0OiAkZmlsdGVyQ29udGVudCB9LCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0XHR2YXIgJHRhcmdldCA9IGUuZGF0YS50YXJnZXQ7XHJcblx0XHRcdFx0XHRpZiAoICR0YXJnZXQuaGFzQ2xhc3MoXCJvcGVuXCIpICkge1xyXG5cdFx0XHRcdFx0XHQkdGFyZ2V0LnJlbW92ZUNsYXNzKFwib3BlblwiKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHQkdGFyZ2V0LmFkZENsYXNzKFwib3BlblwiKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gUmFuZ2UgZmlsdGVyIHNsaWRlcnNcclxuXHR2YXIgaW5pdFJhbmdlU2xpZGVycyA9IGZ1bmN0aW9uICgkY29tcG9uZW50cykge1xyXG5cdFx0aWYgKCAkY29tcG9uZW50cyApIHtcclxuXHRcdFx0JGNvbXBvbmVudHMuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyICRjb21wb25lbnQgPSAkKHRoaXMpO1xyXG5cdFx0XHRcdHZhciAkcmFuZ2VGaWx0ZXJzID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1maWx0ZXIua29oLWZpbHRlci10eXBlLXJhbmdlXCIpO1xyXG5cclxuXHRcdFx0XHQkcmFuZ2VGaWx0ZXJzLmVhY2goIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyICRyYW5nZUZpbHRlciA9ICQodGhpcyk7XHJcblxyXG5cdFx0XHRcdFx0dmFyICRzbGlkZXJDb250YWluZXIgPSAkcmFuZ2VGaWx0ZXIuZmluZChcIi5rb2gtcmFuZ2UtZmlsdGVyXCIpLmZpcnN0KCk7XHJcblxyXG5cdFx0XHRcdFx0dmFyICRyYW5nZUxhYmVscyA9ICRzbGlkZXJDb250YWluZXIuZmluZChcIi5rb2gtcmFuZ2Utc2xpZGVyLWxhYmVsc1wiKTtcclxuXHRcdFx0XHRcdHZhciAkcmFuZ2VNaW5MYWJlbCA9ICRzbGlkZXJDb250YWluZXIuZmluZChcIi5rb2gtcmFuZ2Utc2xpZGVyLWxhYmVscyA+IC5rb2gtcmFuZ2Utc2xpZGVyLW1pblwiKTtcclxuXHRcdFx0XHRcdHZhciAkcmFuZ2VNYXhMYWJlbCA9ICRzbGlkZXJDb250YWluZXIuZmluZChcIi5rb2gtcmFuZ2Utc2xpZGVyLWxhYmVscyA+IC5rb2gtcmFuZ2Utc2xpZGVyLW1heFwiKTtcclxuXHJcblx0XHRcdFx0XHR2YXIgJHNsaWRlciA9ICRzbGlkZXJDb250YWluZXIuZmluZChcIi5rb2gtcmFuZ2Utc2xpZGVyXCIpLmZpcnN0KCk7XHJcblx0XHRcdFx0XHR2YXIgc2xpZGVyRWxlbWVudCA9ICRzbGlkZXJbMF07XHJcblxyXG5cdFx0XHRcdFx0dmFyIHJhbmdlTGFiZWxQcmVmaXggPSAkcmFuZ2VMYWJlbHMuZGF0YShcImxhYmVsLXByZWZpeFwiKTtcclxuXHRcdFx0XHRcdHZhciByYW5nZUxhYmVsU3VmZml4ID0gJHJhbmdlTGFiZWxzLmRhdGEoXCJsYWJlbC1zdWZmaXhcIik7XHJcblx0XHRcdFx0XHR2YXIgcmFuZ2VDdXJyZW50TWluID0gJHJhbmdlTWluTGFiZWwuZGF0YShcIm1pbi12YWx1ZVwiKTtcclxuXHRcdFx0XHRcdHZhciByYW5nZUN1cnJlbnRNYXggPSAkcmFuZ2VNYXhMYWJlbC5kYXRhKFwibWF4LXZhbHVlXCIpO1xyXG5cdFx0XHRcdFx0dmFyIHJhbmdlTWluID0gJHNsaWRlci5kYXRhKFwicmFuZ2UtbWluXCIpO1xyXG5cdFx0XHRcdFx0dmFyIHJhbmdlTWF4ID0gJHNsaWRlci5kYXRhKFwicmFuZ2UtbWF4XCIpO1xyXG5cclxuXHRcdFx0XHRcdC8qIG5vVUlTbGlkZXIgZG9lcyBub3QgbGlrZSBoYXZpbmcgcmFuZ2VNaW4gYW5kIHJhbmdlTWF4IHRoZSBzYW1lLCBzbyBjaGVjayBmb3IgdGhhdCAqL1xyXG5cdFx0XHRcdFx0aWYgKCBub1VpU2xpZGVyICYmICFpc05hTihyYW5nZU1pbikgJiYgIWlzTmFOKHJhbmdlTWF4KSAmJiAocmFuZ2VNaW4gPCByYW5nZU1heCkgKSB7XHJcblx0XHRcdFx0XHRcdG5vVWlTbGlkZXIuY3JlYXRlKHNsaWRlckVsZW1lbnQsIHtcclxuXHRcdFx0XHRcdFx0XHRzdGFydDogW3JhbmdlQ3VycmVudE1pbiwgcmFuZ2VDdXJyZW50TWF4XSxcclxuXHRcdFx0XHRcdFx0XHRjb25uZWN0OiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdHJhbmdlOiB7XHJcblx0XHRcdFx0XHRcdFx0XHQnbWluJzogcmFuZ2VNaW4sXHJcblx0XHRcdFx0XHRcdFx0XHQnbWF4JzogcmFuZ2VNYXhcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdGZvcm1hdDoge1xyXG5cdFx0XHRcdFx0XHRcdFx0dG86IGZ1bmN0aW9uICggdmFsdWUgKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBNYXRoLnJvdW5kKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XHRmcm9tOiBmdW5jdGlvbiAoIHZhbHVlICkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdHNsaWRlckVsZW1lbnQubm9VaVNsaWRlci5vbigndXBkYXRlJywgZnVuY3Rpb24odmFsdWVzLCBoYW5kbGVJbmRleCl7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVJbmRleCA9PT0gMCApIHtcclxuXHRcdFx0XHRcdFx0XHRcdCRyYW5nZU1pbkxhYmVsLmRhdGEoXCJtaW4tdmFsdWVcIix2YWx1ZXNbaGFuZGxlSW5kZXhdKTtcclxuXHRcdFx0XHRcdFx0XHRcdCRyYW5nZU1pbkxhYmVsLnRleHQocmFuZ2VMYWJlbFByZWZpeCt2YWx1ZXNbaGFuZGxlSW5kZXhdK3JhbmdlTGFiZWxTdWZmaXgpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmICggaGFuZGxlSW5kZXggPT09IDEgKSB7XHJcblx0XHRcdFx0XHRcdFx0XHQkcmFuZ2VNYXhMYWJlbC5kYXRhKFwibWF4LXZhbHVlXCIsdmFsdWVzW2hhbmRsZUluZGV4XSk7XHJcblx0XHRcdFx0XHRcdFx0XHQkcmFuZ2VNYXhMYWJlbC50ZXh0KHJhbmdlTGFiZWxQcmVmaXgrdmFsdWVzW2hhbmRsZUluZGV4XStyYW5nZUxhYmVsU3VmZml4KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSAvLyBlbmQgY2hlY2tzIGJlZm9yZSBpbml0aWFsaXppbmcgc2xpZGVyXHJcblx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0Ly8gTGV0J3MgaGlkZSB0aGUgc2xpZGVyIGlmIGl0IGNhbid0IGJlIGluaXRpYWxpemVkIGZvciBzb21lIHJlYXNvblxyXG5cdFx0XHRcdFx0XHRzbGlkZXJFbGVtZW50LmhpZGUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gUXVpY2sgVmlld1xyXG5cdHZhciBpbml0UXVpY2tWaWV3ID0gZnVuY3Rpb24gKCRjb21wb25lbnRzKSB7XHJcblx0XHRpZiAoICRjb21wb25lbnRzICkge1xyXG5cdFx0XHQkY29tcG9uZW50cy5lYWNoKCBmdW5jdGlvbihjb21wb25lbnRJbmRleCkge1xyXG5cdFx0XHRcdHZhciAkY29tcG9uZW50ID0gJCh0aGlzKTtcclxuXHJcblx0XHRcdFx0Ly8gRmluZCB0aGUgcXVpY2sgdmlldyBibG9ja3MsIHdoaWNoIGhhdmUgdGhlIGJ1dHRvbnMgYW5kIHBhbmVsc1xyXG5cdFx0XHRcdHZhciAkcXVpY2tWaWV3Q29udGFpbmVycyA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtcHJvZHVjdC1xdWljay12aWV3XCIpO1xyXG5cclxuXHRcdFx0XHQvLyBGb3IgZWFjaCBxdWljayB2aWV3LCBtYWtlIHRoZSBwYW5lbCBtb2RhbCBhbmQgaG9vayBpdCB0byB0aGUgYnV0dG9uXHJcblx0XHRcdFx0JHF1aWNrVmlld0NvbnRhaW5lcnMuZWFjaCggZnVuY3Rpb24ocXVpY2tWaWV3SW5kZXgpIHtcclxuXHRcdFx0XHRcdHZhciAkYnV0dG9uID0gJCh0aGlzKS5jaGlsZHJlbihcIi5rb2gtcHJvZHVjdC1xdWljay12aWV3LWJ1dHRvblwiKTtcclxuXHRcdFx0XHRcdHZhciAkcGFuZWwgPSAkKHRoaXMpLmNoaWxkcmVuKFwiLmtvaC1wcm9kdWN0LXF1aWNrLXZpZXctcGFuZWxcIik7XHJcblxyXG5cdFx0XHRcdFx0Ly8gQ2FsY3VsYXRlIHRoZSByZW1vZGFsIElEIHZhbHVlIGFuZCBob29rIHRoaW5ncyB1cFxyXG5cdFx0XHRcdFx0dmFyIHJlbW9kYWxJRCA9IFwiUXVpY2tWaWV3XCIrY29tcG9uZW50SW5kZXgrcXVpY2tWaWV3SW5kZXg7XHJcblxyXG5cdFx0XHRcdFx0aW5pdEFzTW9kYWwoICRidXR0b24sICRwYW5lbCwgcmVtb2RhbElEICk7XHJcblxyXG5cdFx0XHRcdFx0JHBhbmVsLmVhY2goIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRpbml0UXVpY2tWaWV3RGF0YSggJCh0aGlzKSApO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vIFRvb2x0aXBzXHJcblx0dmFyIGluaXRUb29sdGlwcyA9IGZ1bmN0aW9uICgkY29tcG9uZW50cykge1xyXG5cdFx0aWYgKCAkY29tcG9uZW50cyApIHtcclxuXHRcdFx0Ly8gTmVlZCB0byBpbml0aWFsaXplIHRvb2x0aXBzIGluIG1vZGFscyBhcyB3ZWxsXHJcblx0XHRcdHZhciAkY29tcG9uZW50TW9kYWxzID0gJCgnLnJlbW9kYWwtd3JhcHBlciA+IGRpdltkYXRhLWtvaC1jb21wb25lbnQ9XCInK2NvbXBvbmVudENsYXNzKydcIl0nKTtcclxuXHJcblx0XHRcdC8vIE1lcmdlIGxpc3RzIG9mIGNvbXBvbmVudHMgYW5kIGNvbXBvbmVudC1yZWxhdGVkIG1vZGFsc1xyXG5cdFx0XHR2YXIgJHRhcmdldHMgPSAkY29tcG9uZW50cy5hZGQoICRjb21wb25lbnRNb2RhbHMgKTtcclxuXHJcblx0XHRcdC8vIExvb3BzIHRocm91Z2ggY29tcG9uZW50cyBhbmQgY29tcG9uZW50LXJlbGF0ZWQgbW9kYWxzXHJcblx0XHRcdCR0YXJnZXRzLmVhY2goIGZ1bmN0aW9uKGNvbXBvbmVudEluZGV4KSB7XHJcblx0XHRcdFx0dmFyICRjb21wb25lbnQgPSAkKHRoaXMpO1xyXG5cclxuXHRcdFx0XHQvLyBTZXQgdXAgdG9vbHRpcHMgb24gYWJicmV2aWF0aW9uc1xyXG5cdFx0XHRcdHZhciAkYWJicmV2aWF0aW9ucyA9ICRjb21wb25lbnQuZmluZChcImFiYnJbdGl0bGVdXCIpO1xyXG5cdFx0XHRcdCRhYmJyZXZpYXRpb25zLmVhY2goIGZ1bmN0aW9uKGFiYnJJbmRleCkge1xyXG5cdFx0XHRcdFx0dmFyICRhYmJyID0gJCh0aGlzKTtcclxuXHRcdFx0XHRcdCRhYmJyLnF0aXAoe1xyXG5cdFx0XHRcdFx0XHRpZDogXCJhYmJyXCIrY29tcG9uZW50SW5kZXgrYWJickluZGV4LFxyXG5cdFx0XHRcdFx0XHRjb250ZW50OiB7IGF0dHI6ICd0aXRsZScgfSxcclxuXHRcdFx0XHRcdFx0cG9zaXRpb246IHtcclxuXHRcdFx0XHRcdFx0XHRteTogJ2JvdHRvbSBjZW50ZXInLCAgLy8gUG9zaXRpb24gbXkgdG9wIGxlZnQuLi5cclxuXHRcdFx0XHRcdFx0XHRhdDogJ3RvcCBjZW50ZXInIC8vIGF0IHRoZSBib3R0b20gcmlnaHQgb2YuLi5cclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0c3R5bGU6IHtcclxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiAna29oLXF0aXAtdG9vbHRpcCBrb2gtcHJvZHVjdC1zZWFyY2gtdG9vbHRpcCBxdGlwLWJvb3RzdHJhcCcsXHJcblx0XHRcdFx0XHRcdFx0dGlwOiB7XHJcblx0XHRcdFx0XHRcdFx0XHRtaW1pYzogJ2NlbnRlcicsXHJcblx0XHRcdFx0XHRcdFx0XHR3aWR0aDogMzAsXHJcblx0XHRcdFx0XHRcdFx0XHRoZWlnaHQ6IDE1XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly8gU2V0IHVwIHRvb2x0aXBzIG9uIGNvbG9yIHN3YXRjaGVzXHJcblx0XHRcdFx0dmFyICRjb2xvclN3YXRjaGVzID0gJGNvbXBvbmVudC5maW5kKFwiYnV0dG9uLmtvaC1wcm9kdWN0LWNvbG9yLCAua29oLWF2YWlsYWJsZS1maWx0ZXJzLnYta29oLWNvbG9ycyA+IGxpID4gYVwiKTtcclxuXHRcdFx0XHQkY29sb3JTd2F0Y2hlcy5lYWNoKCBmdW5jdGlvbihzd2F0Y2hJbmRleCkge1xyXG5cdFx0XHRcdFx0dmFyICRjb2xvclN3YXRjaCA9ICQodGhpcyk7XHJcblx0XHRcdFx0XHR2YXIgJGNvbG9yTGFiZWwgPSAkY29sb3JTd2F0Y2guY2hpbGRyZW4oXCIubGFiZWxcIik7XHJcblxyXG5cdFx0XHRcdFx0JGNvbG9yU3dhdGNoLnF0aXAoe1xyXG5cdFx0XHRcdFx0XHRpZDogXCJzd2F0Y2hcIitjb21wb25lbnRJbmRleCtzd2F0Y2hJbmRleCxcclxuXHRcdFx0XHRcdFx0Y29udGVudDogeyB0ZXh0OiAkY29sb3JMYWJlbC5jbG9uZSgpIH0sXHJcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiB7XHJcblx0XHRcdFx0XHRcdFx0bXk6ICd0b3AgbGVmdCcsICAvLyBQb3NpdGlvbiBteSB0b3AgbGVmdC4uLlxyXG5cdFx0XHRcdFx0XHRcdGF0OiAnYm90dG9tIGxlZnQnLCAvLyBhdCB0aGUgYm90dG9tIHJpZ2h0IG9mLi4uXHJcblx0XHRcdFx0XHRcdFx0YWRqdXN0OiB7XHJcblx0XHRcdFx0XHRcdFx0XHR5OiA2XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRzdHlsZToge1xyXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6ICdrb2gtcXRpcC10b29sdGlwIGtvaC1wcm9kdWN0LXNlYXJjaC10b29sdGlwIHF0aXAtYm9vdHN0cmFwJyxcclxuXHRcdFx0XHRcdFx0XHR0aXA6IGZhbHNlXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvLyBTZXQgdXAgc3BlY2lhbCBmYWNldCB0b29sdGlwc1xyXG5cdFx0XHRcdHZhciAkZmFjZXRzV2l0aFRvb2x0aXBzID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1maWx0ZXJcIikuaGFzKFwiLmtvaC1maWx0ZXItdG9vbHRpcHNcIik7XHJcblx0XHRcdFx0JGZhY2V0c1dpdGhUb29sdGlwcy5lYWNoKCBmdW5jdGlvbihmYWNldEluZGV4KSB7XHJcblx0XHRcdFx0XHR2YXIgJGZhY2V0ID0gJCh0aGlzKTtcclxuXHRcdFx0XHRcdHZhciAkZmFjZXROYW1lID0gJGZhY2V0LmZpbmQoXCIua29oLWZpbHRlci1uYW1lXCIpO1xyXG5cdFx0XHRcdFx0dmFyICRmYWNldFRvb2x0aXAgPSAkZmFjZXQuZmluZChcIi5rb2gtZmlsdGVyLXRvb2x0aXBzXCIpO1xyXG5cclxuXHRcdFx0XHRcdCRmYWNldE5hbWUuYXBwZW5kKFwiPHNwYW4gY2xhc3M9XFxcImtvaC10b29sdGlwXFxcIj48L3NwYW4+XCIpO1xyXG5cdFx0XHRcdFx0dmFyICR0b29sdGlwSWNvbiA9ICRmYWNldE5hbWUuY2hpbGRyZW4oXCIua29oLXRvb2x0aXBcIik7XHJcblxyXG5cdFx0XHRcdFx0JHRvb2x0aXBJY29uLnF0aXAoe1xyXG5cdFx0XHRcdFx0XHRpZDogXCJmYWNldFRvb2x0aXBcIitjb21wb25lbnRJbmRleCtmYWNldEluZGV4LFxyXG5cdFx0XHRcdFx0XHRjb250ZW50OiB7IHRleHQ6ICRmYWNldFRvb2x0aXAgfSxcclxuXHRcdFx0XHRcdFx0c2hvdzogJ2NsaWNrJyxcclxuXHRcdFx0XHRcdFx0aGlkZTogeyBldmVudDogJ2NsaWNrIHVuZm9jdXMnIH0sXHQvLyBIaWRlIG9uIGNsaWNrIGFueXdoZXJlXHJcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiB7XHJcblx0XHRcdFx0XHRcdFx0bXk6ICdjZW50ZXIgbGVmdCcsICAvLyBQb3NpdGlvbiBteSB0b3AgbGVmdC4uLlxyXG5cdFx0XHRcdFx0XHRcdGF0OiAnY2VudGVyIHJpZ2h0JywgLy8gYXQgdGhlIGJvdHRvbSByaWdodCBvZi4uLlxyXG5cdFx0XHRcdFx0XHRcdGFkanVzdDoge1xyXG5cdFx0XHRcdFx0XHRcdFx0eDogNlxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0c3R5bGU6IHtcclxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiAna29oLXF0aXAtdG9vbHRpcCBrb2gtcHJvZHVjdC1zZWFyY2gtZmFjZXQtdG9vbHRpcCBxdGlwLWJvb3RzdHJhcCcsXHJcblx0XHRcdFx0XHRcdFx0dGlwOiB7XHJcblx0XHRcdFx0XHRcdFx0XHRtaW1pYzogJ2NlbnRlcicsXHJcblx0XHRcdFx0XHRcdFx0XHR3aWR0aDogMzAsXHJcblx0XHRcdFx0XHRcdFx0XHRoZWlnaHQ6IDE1XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvLyBOZWVkIHRoaXMgdG8gc3RvcCB0aGUgdG9vbHRpcCBpY29uIGZyb20gYWxzbyB0cmlnZ2VyaW5nIHRoZSBvcGVuL2Nsb3NlIG9mIHRoZSBmaWx0ZXJcclxuXHRcdFx0XHRcdCR0b29sdGlwSWNvbi5jbGljayggZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gRHJvcGRvd25zXHJcblx0dmFyIGluaXREcm9wZG93bnMgPSBmdW5jdGlvbiAoJGNvbXBvbmVudHMpIHtcclxuXHRcdGlmICggJGNvbXBvbmVudHMgKSB7XHJcblx0XHRcdCRjb21wb25lbnRzLmVhY2goIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciAkY29tcG9uZW50ID0gJCh0aGlzKTtcclxuXHJcblx0XHRcdFx0dmFyICRvcHRpb25zID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1zZWFyY2gtc29ydGluZ1wiKTtcclxuXHRcdFx0XHQkb3B0aW9ucy5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHZhciAkb3B0aW9uc0J1dHRvbiA9ICQodGhpcykuY2hpbGRyZW4oXCIua29oLXNvcnQtYnlcIik7XHJcblx0XHRcdFx0XHR2YXIgJG9wdGlvbnNMaXN0ID0gJCh0aGlzKS5jaGlsZHJlbihcIi5rb2gtc29ydC1vcHRpb25zXCIpO1xyXG5cclxuXHRcdFx0XHRcdCRvcHRpb25zQnV0dG9uLmNsaWNrKCB7IGxpc3Q6ICRvcHRpb25zTGlzdCB9LCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0XHRcdHZhciAkYnV0dG9uID0gJCh0aGlzKTtcclxuXHRcdFx0XHRcdFx0dmFyICRsaXN0ID0gZS5kYXRhLmxpc3Q7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoICRidXR0b24uaGFzQ2xhc3MoXCJvcGVuXCIpICkge1xyXG5cdFx0XHRcdFx0XHRcdCRidXR0b24ucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpO1xyXG5cdFx0XHRcdFx0XHRcdCRsaXN0LnJlbW92ZUNsYXNzKFwib3BlblwiKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQkYnV0dG9uLmFkZENsYXNzKFwib3BlblwiKTtcclxuXHRcdFx0XHRcdFx0XHQkbGlzdC5hZGRDbGFzcyhcIm9wZW5cIik7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLyBDb29raWUgaGFuZGxpbmcgdG8gc3VwcG9ydCBTaW1paWxhciBQcm9kdWN0c1xyXG5cdHZhciBpbml0U2ltaWxhclByb2R1Y3RzID0gZnVuY3Rpb24gKCRjb21wb25lbnRzKSB7XHJcblx0XHRpZiAoICRjb21wb25lbnRzICkge1xyXG5cdFx0XHQkY29tcG9uZW50cy5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgJGNvbXBvbmVudCA9ICQodGhpcyk7XHJcblxyXG5cdFx0XHRcdHZhciAkcHJvZHVjdFRpbGVzID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1wcm9kdWN0LXRpbGVcIik7XHJcblxyXG5cdFx0XHRcdCRwcm9kdWN0VGlsZXMuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHR2YXIgJHByb2R1Y3RMaW5rID0gJCh0aGlzKS5maW5kKFwiLmtvaC1wcm9kdWN0LXRpbGUtY29udGVudCA+IGFcIik7XHJcblxyXG5cdFx0XHRcdFx0Ly8gT24gY2xpY2ssIHNhdmUgdGhlIHNpbWlsYXIgcHJvZHVjdHMgaWQgbGlzdCBmcm9tIHRoZSBkYXRhIGF0dHJpYnV0ZSBpbnRvIGEgY29va2llXHJcblx0XHRcdFx0XHQkcHJvZHVjdExpbmsub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0dmFyIHNpbWlsYXJQcm9kdWN0cyA9ICQodGhpcykuZGF0YShcInNpbWlsYXJcIik7XHJcblx0XHRcdFx0XHRcdGlmICggc2ltaWxhclByb2R1Y3RzICkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBtaW51dGVzID0gNTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZXhwaXJlcyA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdFx0XHRcdFx0ZXhwaXJlcy5zZXRUaW1lKGV4cGlyZXMuZ2V0VGltZSgpICsgKG1pbnV0ZXMgKiA2MCAqIDEwMDApKTtcclxuXHRcdFx0XHRcdFx0XHRkb2N1bWVudC5jb29raWUgPSBcImtvaHNpbXByb2RcIiArICc9JyArIHNpbWlsYXJQcm9kdWN0cyArICc7ZXhwaXJlcz0nICsgZXhwaXJlcy50b1VUQ1N0cmluZygpICsgJztwYXRoPS8nO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0LyogRmlsdGVyaW5nL1NvcnRpbmcgRnVuY3Rpb25hbGl0eSAqL1xyXG5cdHZhciBpbml0U2VhcmNoRmFjZXRzID0gZnVuY3Rpb24gKCRjb21wb25lbnRzKSB7XHJcblx0XHQkY29tcG9uZW50cy5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyICRjb21wb25lbnQgPSAkKHRoaXMpO1xyXG5cclxuXHRcdFx0Ly8gU2V0IHVwIGNsaWNrIGV2ZW50cyBmb3IgU29ydGluZ1xyXG5cdFx0XHR2YXIgJHNvcnRCdXR0b24gPSAkY29tcG9uZW50LmZpbmQoXCIua29oLXNlYXJjaC1zb3J0aW5nID4gLmtvaC1zb3J0LWJ5XCIpO1xyXG5cdFx0XHR2YXIgJHNvcnRPcHRpb25zID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1zZWFyY2gtc29ydGluZyA+IC5rb2gtc29ydC1vcHRpb25zXCIpO1xyXG5cdFx0XHR2YXIgJHNvcnRPcHRpb25JdGVtcyA9ICRzb3J0T3B0aW9ucy5jaGlsZHJlbihcImxpXCIpO1xyXG5cdFx0XHQkc29ydE9wdGlvbkl0ZW1zLmVhY2goIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciAkc29ydE9wdGlvbkl0ZW0gPSAkKHRoaXMpO1xyXG5cdFx0XHRcdCRzb3J0T3B0aW9uSXRlbS5jbGljayggeyBidXR0b246ICRzb3J0QnV0dG9uLCBjb2xsZWN0aW9uOiAkc29ydE9wdGlvbnMsIGNob2ljZXM6ICRzb3J0T3B0aW9uSXRlbXMgfSwgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdFx0Ly8gU2F2ZSB0aGUgc2VsZWN0ZWQgc29ydFxyXG5cdFx0XHRcdFx0c2V0QWN0aXZlU29ydGluZyggZS5kYXRhLmJ1dHRvbiwgZS5kYXRhLmNob2ljZXMsICQodGhpcykgKTtcclxuXHRcdFx0XHRcdC8vIENsb3NlIHRoZSBkcm9wIGRvd25cclxuXHRcdFx0XHRcdGUuZGF0YS5idXR0b24ucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpO1xyXG5cdFx0XHRcdFx0ZS5kYXRhLmNvbGxlY3Rpb24ucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpO1xyXG5cdFx0XHRcdFx0Ly8gRGlzcGxheSB0aGUgbmV3IHNlYXJjaCByZXN1bHRzXHJcblx0XHRcdFx0XHRkaXNwbGF5TmV3UmVzdWx0cygkY29tcG9uZW50KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBTZXQgdXAgY2xpY2sgZXZlbnRzIGZvciBDYXRlZ29yaWVzXHJcblx0XHRcdHZhciAkY2F0ZWdvcmllcyA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtc2VhcmNoLWZpbHRlcnMgLmtvaC1maWx0ZXItZ3JvdXAua29oLWNhdGVnb3J5XCIpO1xyXG5cdFx0XHQkY2F0ZWdvcmllcy5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgJGF2YWlsYWJsZUZpbHRlcnMgPSAkY2F0ZWdvcmllcy5maW5kKFwiLmtvaC1hdmFpbGFibGUtZmlsdGVycyA+IGxpID4gYVwiKTtcclxuXHRcdFx0XHR2YXIgJHNlbGVjdGVkRmlsdGVycyA9ICRjYXRlZ29yaWVzLmZpbmQoXCIua29oLXNlbGVjdGVkLWZpbHRlcnNcIik7XHJcblxyXG5cdFx0XHRcdC8vIFJlbW92ZSBmaWx0ZXIgd2hlbiBzZWxlY3RlZCBmaWx0ZXIgaXMgY2xpY2tlZFxyXG5cdFx0XHRcdHZhciAkc2VsZWN0ZWRGaWx0ZXJJdGVtcyA9ICRzZWxlY3RlZEZpbHRlcnMuY2hpbGRyZW4oXCJsaVwiKTtcclxuXHRcdFx0XHQkc2VsZWN0ZWRGaWx0ZXJJdGVtcy5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHZhciAkZmlsdGVySXRlbSA9ICQodGhpcyk7XHJcblx0XHRcdFx0XHR2YXIgJGZpbHRlckl0ZW1CdXR0b24gPSAkZmlsdGVySXRlbS5jaGlsZHJlbihcImJ1dHRvbi5rb2gtc2VsZWN0ZWQtZmlsdGVyXCIpO1xyXG5cdFx0XHRcdFx0JGZpbHRlckl0ZW1CdXR0b24uY2xpY2soIHsgZmlsdGVyQ291bnQ6ICRzZWxlY3RlZEZpbHRlckl0ZW1zLmxlbmd0aCwgZmlsdGVyU2V0OiAkc2VsZWN0ZWRGaWx0ZXJzLCBmaWx0ZXJJdGVtOiAkZmlsdGVySXRlbSB9LCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0XHRcdGlmICggZS5kYXRhLmZpbHRlckNvdW50IDw9IDEgKSB7XHJcblx0XHRcdFx0XHRcdFx0ZS5kYXRhLmZpbHRlclNldC5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRlLmRhdGEuZmlsdGVySXRlbS5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRkaXNwbGF5TmV3UmVzdWx0cygkY29tcG9uZW50KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHZhciAkc2hvd0FsbENhdHMgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLXNlYXJjaC1maWx0ZXJzIC5rb2gtZmlsdGVyLWdyb3VwLmtvaC1jYXRlZ29yeSAua29oLWZpbHRlci1ncm91cC1hbGwtbGlua1wiKTtcclxuXHRcdFx0JHNob3dBbGxDYXRzLmNsaWNrKCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0ZGlzcGxheU5ld1Jlc3VsdHMoJGNvbXBvbmVudCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gU2V0IHVwIGNsaWNrIGV2ZW50cyBmb3IgRmlsdGVyaW5nXHJcblx0XHRcdHZhciAkZmlsdGVycyA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtc2VhcmNoLWZpbHRlcnMgLmtvaC1maWx0ZXItZ3JvdXAua29oLWZpbHRlcnMgLmtvaC1maWx0ZXJcIik7XHJcblx0XHRcdCRmaWx0ZXJzLmVhY2goIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciAkZmlsdGVyID0gJCh0aGlzKTtcclxuXHRcdFx0XHR2YXIgJHNlbGVjdGVkRmlsdGVycyA9IG51bGw7XHJcblx0XHRcdFx0dmFyICRzZWxlY3RlZEZpbHRlckl0ZW1zID0gbnVsbDtcclxuXHRcdFx0XHR2YXIgJGF2YWlsYWJsZUZpbHRlcnMgPSBudWxsO1xyXG5cclxuXHRcdFx0XHRpZiAoICRmaWx0ZXIuaGFzQ2xhc3MoXCJrb2gtZmlsdGVyLXR5cGUtY2hlY2tib3hcIikgKSB7XHJcblx0XHRcdFx0XHR2YXIgJGNoZWNrYm94ID0gJGZpbHRlci5maW5kKFwiLmtvaC1jaGVja2JveC1maWx0ZXIgPiBhXCIpO1xyXG5cdFx0XHRcdFx0JGNoZWNrYm94LmNsaWNrKCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0aWYgKCAkKHRoaXMpLmhhc0NsYXNzKFwia29oLWNoZWNrYm94LWNoZWNrZWRcIikgKSB7XHJcblx0XHRcdFx0XHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcyhcImtvaC1jaGVja2JveC1jaGVja2VkXCIpLmFkZENsYXNzKFwia29oLWNoZWNrYm94LXVuY2hlY2tlZFwiKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKFwia29oLWNoZWNrYm94LXVuY2hlY2tlZFwiKS5hZGRDbGFzcyhcImtvaC1jaGVja2JveC1jaGVja2VkXCIpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGRpc3BsYXlOZXdSZXN1bHRzKCRjb21wb25lbnQpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYgKCAkZmlsdGVyLmhhc0NsYXNzKFwia29oLWZpbHRlci10eXBlLXJhbmdlXCIpICkge1xyXG5cdFx0XHRcdFx0Ly8gQWRkIGZpbHRlciB3aGVuIHNsaWRlciBjaGFuZ2VzXHJcblx0XHRcdFx0XHR2YXIgJHNsaWRlckNvbnRhaW5lciA9ICRmaWx0ZXIuZmluZChcIi5rb2gtcmFuZ2UtZmlsdGVyXCIpLmZpcnN0KCk7XHJcblx0XHRcdFx0XHR2YXIgJHJhbmdlTWluTGFiZWwgPSAkc2xpZGVyQ29udGFpbmVyLmZpbmQoXCIua29oLXJhbmdlLXNsaWRlci1sYWJlbHMgPiAua29oLXJhbmdlLXNsaWRlci1taW5cIik7XHJcblx0XHRcdFx0XHR2YXIgJHJhbmdlTWF4TGFiZWwgPSAkc2xpZGVyQ29udGFpbmVyLmZpbmQoXCIua29oLXJhbmdlLXNsaWRlci1sYWJlbHMgPiAua29oLXJhbmdlLXNsaWRlci1tYXhcIik7XHJcblx0XHRcdFx0XHR2YXIgJHNsaWRlciA9ICRzbGlkZXJDb250YWluZXIuZmluZChcIi5rb2gtcmFuZ2Utc2xpZGVyXCIpO1xyXG5cdFx0XHRcdFx0dmFyIHNsaWRlckVsZW1lbnQgPSAkc2xpZGVyWzBdO1xyXG5cdFx0XHRcdFx0aWYgKCBzbGlkZXJFbGVtZW50Lm5vVWlTbGlkZXIgKSB7XHJcblx0XHRcdFx0XHRcdHNsaWRlckVsZW1lbnQubm9VaVNsaWRlci5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZmFjZXROYW1lID0gJHNsaWRlckNvbnRhaW5lci5kYXRhKFwiZmFjZXQtbmFtZVwiKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgbWluVmFsdWUgPSAkcmFuZ2VNaW5MYWJlbC5kYXRhKFwibWluLXZhbHVlXCIpO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBtYXhWYWx1ZSA9ICRyYW5nZU1heExhYmVsLmRhdGEoXCJtYXgtdmFsdWVcIik7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGZhY2V0VmFsdWUgPSAobWluVmFsdWUgJiYgbWF4VmFsdWUpID8gKG1pblZhbHVlICsgXCItXCIgKyBtYXhWYWx1ZSk6IFwiXCI7XHJcblx0XHRcdFx0XHRcdFx0YWRkQWN0aXZlRmlsdGVyKCAkZmlsdGVyLCBmYWNldE5hbWUsIGZhY2V0VmFsdWUsIGZhY2V0VmFsdWUsIFwiMFwiICk7XHJcblx0XHRcdFx0XHRcdFx0ZGlzcGxheU5ld1Jlc3VsdHMoJGNvbXBvbmVudCk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIFJlbW92ZSBmaWx0ZXIgd2hlbiBzZWxlY3RlZCBmaWx0ZXIgaXMgY2xpY2tlZFxyXG5cdFx0XHRcdFx0JHNlbGVjdGVkRmlsdGVycyA9ICRmaWx0ZXIuZmluZChcIi5rb2gtc2VsZWN0ZWQtZmlsdGVyc1wiKTtcclxuXHRcdFx0XHRcdCRzZWxlY3RlZEZpbHRlckl0ZW1zID0gJHNlbGVjdGVkRmlsdGVycy5jaGlsZHJlbihcImxpXCIpO1xyXG5cdFx0XHRcdFx0JHNlbGVjdGVkRmlsdGVySXRlbXMuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHZhciAkZmlsdGVySXRlbSA9ICQodGhpcyk7XHJcblx0XHRcdFx0XHRcdHZhciAkZmlsdGVySXRlbUJ1dHRvbiA9ICRmaWx0ZXJJdGVtLmNoaWxkcmVuKFwiYnV0dG9uLmtvaC1zZWxlY3RlZC1maWx0ZXJcIik7XHJcblx0XHRcdFx0XHRcdCRmaWx0ZXJJdGVtQnV0dG9uLmNsaWNrKCB7IGZpbHRlckNvdW50OiAkc2VsZWN0ZWRGaWx0ZXJJdGVtcy5sZW5ndGgsIGZpbHRlclNldDogJHNlbGVjdGVkRmlsdGVycywgZmlsdGVySXRlbTogJGZpbHRlckl0ZW0gfSwgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmICggZS5kYXRhLmZpbHRlckNvdW50IDw9IDEgKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRlLmRhdGEuZmlsdGVyU2V0LnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGUuZGF0YS5maWx0ZXJJdGVtLnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRkaXNwbGF5TmV3UmVzdWx0cygkY29tcG9uZW50KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAoICRmaWx0ZXIuaGFzQ2xhc3MoXCJrb2gtZmlsdGVyLXR5cGUtY29sb3JzXCIpICkge1xyXG5cdFx0XHRcdFx0JGF2YWlsYWJsZUZpbHRlcnMgPSAkZmlsdGVyLmZpbmQoXCIua29oLWF2YWlsYWJsZS1maWx0ZXJzID4gbGkgPiBhXCIpO1xyXG5cdFx0XHRcdFx0JHNlbGVjdGVkRmlsdGVycyA9ICRmaWx0ZXIuZmluZChcIi5rb2gtc2VsZWN0ZWQtZmlsdGVyc1wiKTtcclxuXHJcblx0XHRcdFx0XHQvLyBBZGQgY29sb3IgZmlsdGVyXHJcblx0XHRcdFx0XHQkYXZhaWxhYmxlRmlsdGVycy5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0dmFyICRmaWx0ZXJMaW5rID0gJCh0aGlzKTtcclxuXHRcdFx0XHRcdFx0JCgkZmlsdGVyTGluaykub24oJ2NsaWNrIHRvdWNoZW5kJywgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBmYWNldE5hbWUgPSAkZmlsdGVyTGluay5kYXRhKFwiZmFjZXQtbmFtZVwiKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZmFjZXRWYWx1ZSA9ICRmaWx0ZXJMaW5rLmRhdGEoXCJmYWNldC12YWx1ZVwiKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgZmFjZXRMYWJlbCA9ICRmaWx0ZXJMaW5rLmNoaWxkcmVuKFwic3Bhbi5sYWJlbFwiKS50ZXh0KCk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGZhY2V0Q291bnQgPSBcIjBcIjtcclxuXHRcdFx0XHRcdFx0XHRhZGRBY3RpdmVGaWx0ZXIoICRmaWx0ZXIsIGZhY2V0TmFtZSwgZmFjZXRWYWx1ZSwgZmFjZXRMYWJlbCwgZmFjZXRDb3VudCApO1xyXG5cdFx0XHRcdFx0XHRcdGRpc3BsYXlOZXdSZXN1bHRzKCRjb21wb25lbnQpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdC8vIFJlbW92ZSBmaWx0ZXIgd2hlbiBzZWxlY3RlZCBmaWx0ZXIgaXMgY2xpY2tlZFxyXG5cdFx0XHRcdFx0JHNlbGVjdGVkRmlsdGVycyA9ICRmaWx0ZXIuZmluZChcIi5rb2gtc2VsZWN0ZWQtZmlsdGVyc1wiKTtcclxuXHRcdFx0XHRcdCRzZWxlY3RlZEZpbHRlckl0ZW1zID0gJHNlbGVjdGVkRmlsdGVycy5jaGlsZHJlbihcImxpXCIpO1xyXG5cdFx0XHRcdFx0JHNlbGVjdGVkRmlsdGVySXRlbXMuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHZhciAkZmlsdGVySXRlbSA9ICQodGhpcyk7XHJcblx0XHRcdFx0XHRcdHZhciAkZmlsdGVySXRlbUJ1dHRvbiA9ICRmaWx0ZXJJdGVtLmNoaWxkcmVuKFwiYnV0dG9uLmtvaC1zZWxlY3RlZC1maWx0ZXJcIik7XHJcblx0XHRcdFx0XHRcdCRmaWx0ZXJJdGVtQnV0dG9uLmNsaWNrKCB7IGZpbHRlckNvdW50OiAkc2VsZWN0ZWRGaWx0ZXJJdGVtcy5sZW5ndGgsIGZpbHRlclNldDogJHNlbGVjdGVkRmlsdGVycywgZmlsdGVySXRlbTogJGZpbHRlckl0ZW0gfSwgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmICggZS5kYXRhLmZpbHRlckNvdW50IDw9IDEgKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRlLmRhdGEuZmlsdGVyU2V0LnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGUuZGF0YS5maWx0ZXJJdGVtLnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRkaXNwbGF5TmV3UmVzdWx0cygkY29tcG9uZW50KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQkYXZhaWxhYmxlRmlsdGVycyA9ICRmaWx0ZXIuZmluZChcIi5rb2gtYXZhaWxhYmxlLWZpbHRlcnMgPiBsaSA+IGFcIik7XHJcblx0XHRcdFx0XHQkc2VsZWN0ZWRGaWx0ZXJzID0gJGZpbHRlci5maW5kKFwiLmtvaC1zZWxlY3RlZC1maWx0ZXJzXCIpO1xyXG5cclxuXHRcdFx0XHRcdC8vIEFkZCBsaXN0IGZpbHRlclxyXG5cdFx0XHRcdFx0JGF2YWlsYWJsZUZpbHRlcnMuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHZhciAkZmlsdGVyTGluayA9ICQodGhpcyk7XHJcblx0XHRcdFx0XHRcdCRmaWx0ZXJMaW5rLmNsaWNrKCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGZhY2V0TmFtZSA9ICRmaWx0ZXJMaW5rLmRhdGEoXCJmYWNldC1uYW1lXCIpO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBmYWNldFZhbHVlID0gJGZpbHRlckxpbmsuZGF0YShcImZhY2V0LXZhbHVlXCIpO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBmYWNldExhYmVsID0gJGZpbHRlckxpbmsuY2hpbGRyZW4oXCJzcGFuLm5hbWVcIikuZmlyc3QoKS50ZXh0KCk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGZhY2V0Q291bnQgPSAkZmlsdGVyTGluay5jaGlsZHJlbihcInNwYW4uY291bnRcIikuZmlyc3QoKS50ZXh0KCk7XHJcblx0XHRcdFx0XHRcdFx0YWRkQWN0aXZlRmlsdGVyKCAkZmlsdGVyLCBmYWNldE5hbWUsIGZhY2V0VmFsdWUsIGZhY2V0TGFiZWwsIGZhY2V0Q291bnQgKTtcclxuXHRcdFx0XHRcdFx0XHRkaXNwbGF5TmV3UmVzdWx0cygkY29tcG9uZW50KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHQvLyBSZW1vdmUgZmlsdGVyIHdoZW4gc2VsZWN0ZWQgZmlsdGVyIGlzIGNsaWNrZWRcclxuXHRcdFx0XHRcdCRzZWxlY3RlZEZpbHRlckl0ZW1zID0gJHNlbGVjdGVkRmlsdGVycy5jaGlsZHJlbihcImxpXCIpO1xyXG5cdFx0XHRcdFx0JHNlbGVjdGVkRmlsdGVySXRlbXMuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHZhciAkZmlsdGVySXRlbSA9ICQodGhpcyk7XHJcblx0XHRcdFx0XHRcdHZhciAkZmlsdGVySXRlbUJ1dHRvbiA9ICRmaWx0ZXJJdGVtLmNoaWxkcmVuKFwiYnV0dG9uLmtvaC1zZWxlY3RlZC1maWx0ZXJcIik7XHJcblx0XHRcdFx0XHRcdCRmaWx0ZXJJdGVtQnV0dG9uLmNsaWNrKCB7IGZpbHRlckNvdW50OiAkc2VsZWN0ZWRGaWx0ZXJJdGVtcy5sZW5ndGgsIGZpbHRlclNldDogJHNlbGVjdGVkRmlsdGVycywgZmlsdGVySXRlbTogJGZpbHRlckl0ZW0gfSwgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmICggZS5kYXRhLmZpbHRlckNvdW50IDw9IDEgKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRlLmRhdGEuZmlsdGVyU2V0LnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGUuZGF0YS5maWx0ZXJJdGVtLnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRkaXNwbGF5TmV3UmVzdWx0cygkY29tcG9uZW50KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0dmFyICRjbGVhckFsbEZpbHRlcnMgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLXNlYXJjaC1maWx0ZXJzIC5rb2gtZmlsdGVyLWdyb3VwLmtvaC1maWx0ZXJzIC5rb2gtZmlsdGVyLWdyb3VwLWFsbC1saW5rXCIpO1xyXG5cdFx0XHQkY2xlYXJBbGxGaWx0ZXJzLmNsaWNrKCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0ZGlzcGxheU5ld1Jlc3VsdHMoJGNvbXBvbmVudCwgZmFsc2UsIHRydWUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qIEZpbHRlcmluZy9Tb3J0aW5nIC0gR2V0IEZ1bmN0aW9ucyAqL1xyXG5cdHZhciBnZXRBY3RpdmVTZWN0aW9uID0gZnVuY3Rpb24gKCRjb21wb25lbnQpIHtcclxuXHRcdHZhciBzZWN0aW9uTmFtZSA9IFwiXCI7XHJcblx0XHRzZWN0aW9uTmFtZSA9ICgkY29tcG9uZW50LmZpbmQoXCIua29oLWRhdGEtYXR0cmlidXRlc1wiKS5kYXRhKFwia29oLXNlY3Rpb25cIikgfHwgXCJcIik7XHJcblx0XHRyZXR1cm4gc2VjdGlvbk5hbWU7XHJcblx0fTtcclxuXHJcblx0dmFyIGdldFR5cGUgPSBmdW5jdGlvbiAoJGNvbXBvbmVudCkge1xyXG5cdFx0dmFyIHR5cGUgPSBcIlwiO1xyXG5cdFx0dHlwZSA9ICgkY29tcG9uZW50LmZpbmQoXCIua29oLWRhdGEtYXR0cmlidXRlc1wiKS5kYXRhKFwia29oLXR5cGVcIikgfHwgXCJcIik7XHJcblx0XHRyZXR1cm4gdHlwZTtcclxuXHR9O1xyXG5cclxuXHR2YXIgZ2V0U2VhcmNoVGVybSA9IGZ1bmN0aW9uICgkY29tcG9uZW50KSB7XHJcblx0XHR2YXIgc2VhcmNoVGVybSA9IFwiXCI7XHJcblx0XHRzZWFyY2hUZXJtID0gKCRjb21wb25lbnQuZmluZChcIi5rb2gtZGF0YS1hdHRyaWJ1dGVzXCIpLmRhdGEoXCJrb2gtc2VhcmNodGVybVwiKSB8fCBcIlwiKTtcclxuXHRcdHJldHVybiBzZWFyY2hUZXJtO1xyXG5cdH07XHJcblxyXG5cdHZhciBnZXRDdXJyZW50UGFnZSA9IGZ1bmN0aW9uICgkY29tcG9uZW50KSB7XHJcblx0XHR2YXIgY3VycmVudFBhZ2UgPSBcIlwiO1xyXG5cdFx0Y3VycmVudFBhZ2UgPSAoJGNvbXBvbmVudC5maW5kKFwiLmtvaC1kYXRhLWF0dHJpYnV0ZXNcIikuZGF0YShcImtvaC1jdXJyZW50cGFnZVwiKSB8fCBcIlwiKTtcclxuXHRcdHJldHVybiBjdXJyZW50UGFnZTtcclxuXHR9O1xyXG5cclxuXHR2YXIgZ2V0QWN0aXZlQ2F0ZWdvcnkgPSBmdW5jdGlvbiAoJGNvbXBvbmVudCkge1xyXG5cdFx0dmFyIGNhdGVnb3J5TmFtZSA9IFwiXCI7XHJcblx0XHR2YXIgJGFjdGl2ZUNhdGVnb3J5ID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1zZWFyY2gtZmlsdGVycyAua29oLWZpbHRlci1ncm91cC5rb2gtY2F0ZWdvcnkgLmtvaC1zZWxlY3RlZC1maWx0ZXJcIikuZmlyc3QoKTtcclxuXHRcdGNhdGVnb3J5TmFtZSA9ICgkYWN0aXZlQ2F0ZWdvcnkuZGF0YShcImZhY2V0LXZhbHVlXCIpIHx8IFwiXCIpO1xyXG5cdFx0cmV0dXJuIGNhdGVnb3J5TmFtZTtcclxuXHR9O1xyXG5cclxuXHR2YXIgZ2V0QWN0aXZlRmlsdGVycyA9IGZ1bmN0aW9uICgkY29tcG9uZW50KSB7XHJcblx0XHR2YXIgZmFjZXROYW1lRmllbGQgPSBcImZhY2V0LW5hbWVcIjtcclxuXHRcdHZhciBmYWNldFZhbHVlRmllbGQgPSBcImZhY2V0LXZhbHVlXCI7XHJcblxyXG5cdFx0dmFyIGFjdGl2ZUZpbHRlcnMgPSB7fTtcclxuXHJcblx0XHR2YXIgJGZpbHRlcnMgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLXNlYXJjaC1maWx0ZXJzIC5rb2gtZmlsdGVyLWdyb3VwLmtvaC1maWx0ZXJzIC5rb2gtZmlsdGVyXCIpO1xyXG5cdFx0JGZpbHRlcnMuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciAkZmlsdGVyID0gJCh0aGlzKTtcclxuXHRcdFx0dmFyICRzZWxlY3RlZEZpbHRlcnMgPSBudWxsO1xyXG5cdFx0XHR2YXIgZmFjZXROYW1lID0gXCJcIjtcclxuXHRcdFx0dmFyIGZhY2V0VmFsdWUgPSBcIlwiO1xyXG5cclxuXHRcdFx0aWYgKCAkZmlsdGVyLmhhc0NsYXNzKFwia29oLWZpbHRlci10eXBlLWNoZWNrYm94XCIpICkge1xyXG5cdFx0XHRcdHZhciAkY2hlY2tib3ggPSAkZmlsdGVyLmZpbmQoXCIua29oLWNoZWNrYm94LWZpbHRlciA+IGFcIik7XHJcblx0XHRcdFx0aWYgKCAkY2hlY2tib3guaGFzQ2xhc3MoXCJrb2gtY2hlY2tib3gtY2hlY2tlZFwiKSApIHtcclxuXHRcdFx0XHRcdGZhY2V0TmFtZSA9ICRjaGVja2JveC5kYXRhKGZhY2V0TmFtZUZpZWxkKTtcclxuXHRcdFx0XHRcdGZhY2V0VmFsdWUgPSAkY2hlY2tib3guZGF0YShmYWNldFZhbHVlRmllbGQpO1xyXG5cdFx0XHRcdFx0aWYgKCBmYWNldE5hbWUgJiYgZmFjZXRWYWx1ZSApIHtcclxuXHRcdFx0XHRcdFx0YWN0aXZlRmlsdGVyc1tmYWNldE5hbWVdID0gZmFjZXRWYWx1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZiAoICRmaWx0ZXIuaGFzQ2xhc3MoXCJrb2gtZmlsdGVyLXR5cGUtcmFuZ2VcIikgKSB7XHJcblx0XHRcdFx0JHNlbGVjdGVkRmlsdGVycyA9ICRmaWx0ZXIuZmluZChcIi5rb2gtc2VsZWN0ZWQtZmlsdGVyXCIpO1xyXG5cdFx0XHRcdCRzZWxlY3RlZEZpbHRlcnMuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRmYWNldE5hbWUgPSAkKHRoaXMpLmRhdGEoZmFjZXROYW1lRmllbGQpO1xyXG5cdFx0XHRcdFx0ZmFjZXRWYWx1ZSA9ICQodGhpcykuZGF0YShmYWNldFZhbHVlRmllbGQpO1xyXG5cdFx0XHRcdFx0aWYgKCBmYWNldE5hbWUgJiYgZmFjZXRWYWx1ZSApIHtcclxuXHRcdFx0XHRcdFx0dmFyIHZhbHVlcyA9IGZhY2V0VmFsdWUuc3BsaXQoLy0vKTtcclxuXHJcblx0XHRcdFx0XHRcdGFjdGl2ZUZpbHRlcnNbZmFjZXROYW1lXSA9IGFjdGl2ZUZpbHRlcnNbZmFjZXROYW1lXSB8fCB7fTtcclxuXHRcdFx0XHRcdFx0YWN0aXZlRmlsdGVyc1tmYWNldE5hbWVdLk1pbiA9IHZhbHVlc1swXTtcclxuXHRcdFx0XHRcdFx0YWN0aXZlRmlsdGVyc1tmYWNldE5hbWVdLk1heCA9IHZhbHVlc1sxXTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmICggJGZpbHRlci5oYXNDbGFzcyhcImtvaC1maWx0ZXItdHlwZS1jb2xvcnNcIikgKSB7XHJcblx0XHRcdFx0JHNlbGVjdGVkRmlsdGVycyA9ICRmaWx0ZXIuZmluZChcIi5rb2gtc2VsZWN0ZWQtZmlsdGVyXCIpO1xyXG5cdFx0XHRcdCRzZWxlY3RlZEZpbHRlcnMuZWFjaCggZnVuY3Rpb24oaW5kZXgpIHtcclxuXHRcdFx0XHRcdGZhY2V0TmFtZSA9ICQodGhpcykuZGF0YShmYWNldE5hbWVGaWVsZCk7XHJcblx0XHRcdFx0XHRmYWNldFZhbHVlID0gJCh0aGlzKS5kYXRhKGZhY2V0VmFsdWVGaWVsZCk7XHJcblx0XHRcdFx0XHRpZiAoIGZhY2V0TmFtZSAmJiBmYWNldFZhbHVlICkge1xyXG5cdFx0XHRcdFx0XHRhY3RpdmVGaWx0ZXJzW2ZhY2V0TmFtZV0gPSBhY3RpdmVGaWx0ZXJzW2ZhY2V0TmFtZV0gfHwge307XHJcblx0XHRcdFx0XHRcdGFjdGl2ZUZpbHRlcnNbZmFjZXROYW1lXVtpbmRleF0gPSBmYWNldFZhbHVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdCRzZWxlY3RlZEZpbHRlcnMgPSAkZmlsdGVyLmZpbmQoXCIua29oLXNlbGVjdGVkLWZpbHRlclwiKTtcclxuXHRcdFx0XHQkc2VsZWN0ZWRGaWx0ZXJzLmVhY2goIGZ1bmN0aW9uKGluZGV4KSB7XHJcblx0XHRcdFx0XHRmYWNldE5hbWUgPSAkKHRoaXMpLmRhdGEoZmFjZXROYW1lRmllbGQpO1xyXG5cdFx0XHRcdFx0ZmFjZXRWYWx1ZSA9ICQodGhpcykuZGF0YShmYWNldFZhbHVlRmllbGQpO1xyXG5cdFx0XHRcdFx0aWYgKCBmYWNldE5hbWUgJiYgZmFjZXRWYWx1ZSApIHtcclxuXHRcdFx0XHRcdFx0YWN0aXZlRmlsdGVyc1tmYWNldE5hbWVdID0gYWN0aXZlRmlsdGVyc1tmYWNldE5hbWVdIHx8IHt9O1xyXG5cdFx0XHRcdFx0XHRhY3RpdmVGaWx0ZXJzW2ZhY2V0TmFtZV1baW5kZXhdID0gZmFjZXRWYWx1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIGFjdGl2ZUZpbHRlcnM7XHJcblx0fTtcclxuXHJcblx0dmFyIGdldFVybGZyb21BY3RpdmVGaWx0ZXJzID0gZnVuY3Rpb24gKCRjb21wb25lbnQpIHtcclxuXHJcblx0XHR2YXIgdXJsPVwiXCI7XHJcblx0XHR2YXIgYWN0aXZlRmlsdGVycyA9IGdldEFjdGl2ZUZpbHRlcnMoJGNvbXBvbmVudCk7XHJcblx0XHQkLmVhY2goIGFjdGl2ZUZpbHRlcnMsIGZ1bmN0aW9uKGZhY2V0TmFtZSwgZmFjZXRWYWx1ZXMpIHtcclxuXHRcdFx0aWYgKCBmYWNldE5hbWUgJiYgZmFjZXRWYWx1ZXMgKSB7XHJcblx0XHRcdFx0aWYgKCB0eXBlb2YgZmFjZXRWYWx1ZXMgPT09ICdvYmplY3QnICkge1xyXG5cdFx0XHRcdFx0JC5lYWNoKCBmYWNldFZhbHVlcywgZnVuY3Rpb24oaW5kZXgsIGZhY2V0VmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0Ly8gaWYgdGhlIGtleSBpcyBNaW4gb3IgTWF4LCB0cmVhdCBhcyByYW5nZSBzbGlkZXJcclxuXHRcdFx0XHRcdFx0aWYgKCBpbmRleCA9PT0gXCJNaW5cIiB8fCBpbmRleCA9PT0gXCJNYXhcIiApIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgcGFyYW1OYW1lID0gZmFjZXROYW1lICsgaW5kZXg7XHJcblx0XHRcdFx0XHRcdFx0cXVlcnlQYXJhbXNbcGFyYW1OYW1lXSA9IGZhY2V0VmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0cXVlcnlQYXJhbUNvdW50ID0gcXVlcnlQYXJhbUNvdW50ICsgMTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHQvLyBvdGhlcndpc2UgaXQncyBhIG5vcm1hbCBmaWx0ZXJcclxuXHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0dXJsID0gdXJsICsgXCIvXCIgKyBmYWNldE5hbWUgKyBcIi9cIiArIGZhY2V0VmFsdWU7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdHVybCA9IHVybCArIFwiL1wiICsgZmFjZXROYW1lICsgXCIvXCIgKyBmYWNldFZhbHVlcztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiB1cmw7XHJcblx0fVxyXG5cclxuXHR2YXIgZ2V0QWN0aXZlU29ydGluZyA9IGZ1bmN0aW9uICgkY29tcG9uZW50KSB7XHJcblx0XHR2YXIgc29ydE9wdGlvbnMgPSB7XHJcblx0XHRcdG9yZGVyQnk6IFwiXCIsXHJcblx0XHRcdGRpcmVjdGlvbjogXCJcIixcclxuXHRcdFx0bGFiZWxzOiB7XHJcblx0XHRcdFx0b3JkZXJCeTogXCJvcmRlckJ5XCIsXHJcblx0XHRcdFx0ZGlyZWN0aW9uOiBcInNvcnRcIlxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciAkc29ydE9wdGlvbnMgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLXNlYXJjaC1zb3J0aW5nID4gLmtvaC1zb3J0LW9wdGlvbnNcIik7XHJcblx0XHRzb3J0T3B0aW9ucy5sYWJlbHMub3JkZXJCeSA9ICgkc29ydE9wdGlvbnMuZGF0YShcInNvcnQtb3JkZXJieS1sYWJlbFwiKSB8fCBzb3J0T3B0aW9ucy5sYWJlbHMub3JkZXJCeSk7XHJcblx0XHRzb3J0T3B0aW9ucy5sYWJlbHMuZGlyZWN0aW9uID0gKCRzb3J0T3B0aW9ucy5kYXRhKFwic29ydC1kaXJlY3Rpb24tbGFiZWxcIikgfHwgc29ydE9wdGlvbnMubGFiZWxzLmRpcmVjdGlvbik7XHJcblxyXG5cdFx0dmFyICRhY3RpdmVTb3J0ID0gJHNvcnRPcHRpb25zLmZpbmQoXCIua29oLXNvcnQtc2VsZWN0ZWQgPiBzcGFuXCIpLmZpcnN0KCk7XHJcblx0XHRzb3J0T3B0aW9ucy5vcmRlckJ5ID0gJGFjdGl2ZVNvcnQuZGF0YShcInNvcnQtb3JkZXJieVwiKTtcclxuXHRcdHNvcnRPcHRpb25zLmRpcmVjdGlvbiA9ICRhY3RpdmVTb3J0LmRhdGEoXCJzb3J0LWRpcmVjdGlvblwiKTtcclxuXHJcblx0XHRyZXR1cm4gc29ydE9wdGlvbnM7XHJcblx0fTtcclxuXHJcblx0dmFyIHNldEFjdGl2ZVNvcnRpbmcgPSBmdW5jdGlvbiAoJHNvcnRCdXR0b24sICRzb3J0T3B0aW9ucywgJHRhcmdldE9wdGlvbikge1xyXG5cdFx0JHNvcnRCdXR0b24udGV4dCggJHRhcmdldE9wdGlvbi5jaGlsZHJlbihcInNwYW5cIikudGV4dCgpICk7XHJcblx0XHQkc29ydE9wdGlvbnMucmVtb3ZlQ2xhc3MoXCJrb2gtc29ydC1zZWxlY3RlZFwiKTtcclxuXHRcdCR0YXJnZXRPcHRpb24uYWRkQ2xhc3MoXCJrb2gtc29ydC1zZWxlY3RlZFwiKTtcclxuXHR9O1xyXG5cclxuXHR2YXIgYWRkQWN0aXZlQ2F0ZWdvcnkgPSBmdW5jdGlvbiAoJGZpbHRlciwgZmFjZXROYW1lLCBmYWNldFZhbHVlLCBmYWNldExhYmVsLCBmYWNldENvdW50KSB7XHJcblx0XHR2YXIgJGZpbHRlckxpc3QgPSAkZmlsdGVyLmNoaWxkcmVuKFwiLmtvaC1zZWxlY3RlZC1maWx0ZXJzXCIpO1xyXG5cdFx0aWYgKCAhJGZpbHRlckxpc3QgfHwgISRmaWx0ZXJMaXN0Lmxlbmd0aCApIHtcclxuXHRcdFx0JGZpbHRlckxpc3QgPSAkKCc8dWwgY2xhc3M9XCJrb2gtc2VsZWN0ZWQtZmlsdGVyc1wiPjwvdWw+Jyk7XHJcblx0XHRcdCRmaWx0ZXJMaXN0Lmluc2VydEJlZm9yZSggJGZpbHRlci5jaGlsZHJlbihcIi5rb2gtYXZhaWxhYmxlLWZpbHRlcnNcIikgKTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHQkZmlsdGVyTGlzdC5lbXB0eSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciAkZmlsdGVySXRlbUJ1dHRvbiA9ICQoJzxidXR0b24gY2xhc3M9XCJrb2gtc2VsZWN0ZWQtZmlsdGVyXCI+PC9idXR0b24+Jyk7XHJcblx0XHQkZmlsdGVySXRlbUJ1dHRvbi5kYXRhKFwiZmFjZXQtbmFtZVwiLGZhY2V0TmFtZSk7XHJcblx0XHQkZmlsdGVySXRlbUJ1dHRvbi5kYXRhKFwiZmFjZXQtdmFsdWVcIixmYWNldFZhbHVlKTtcclxuXHRcdCRmaWx0ZXJJdGVtQnV0dG9uLmFwcGVuZCgkKCc8c3BhbiBjbGFzcz1cInJlbW92ZVwiPlJlbW92ZSBGaWx0ZXI8L3NwYW4+JykpO1xyXG5cdFx0JGZpbHRlckl0ZW1CdXR0b24uYXBwZW5kKCQoJzxzcGFuIGNsYXNzPVwibmFtZVwiPicrZmFjZXRMYWJlbCsnPC9zcGFuPicpKTtcclxuXHRcdCRmaWx0ZXJJdGVtQnV0dG9uLmFwcGVuZCgkKCc8c3BhbiBjbGFzcz1cImNvdW50XCI+JytmYWNldENvdW50Kyc8L3NwYW4+JykpO1xyXG5cclxuXHRcdCRmaWx0ZXJMaXN0LmFwcGVuZCggJChcIjxsaT48L2xpPlwiKS53cmFwSW5uZXIoJGZpbHRlckl0ZW1CdXR0b24pICk7XHJcblx0fTtcclxuXHJcblx0dmFyIGFkZEFjdGl2ZUZpbHRlciA9IGZ1bmN0aW9uICgkZmlsdGVyLCBmYWNldE5hbWUsIGZhY2V0VmFsdWUsIGZhY2V0TGFiZWwsIGZhY2V0Q291bnQpIHtcclxuXHRcdHZhciAkZmlsdGVyTGlzdCA9ICRmaWx0ZXIuY2hpbGRyZW4oXCIua29oLXNlbGVjdGVkLWZpbHRlcnNcIik7XHJcblx0XHR2YXIgJGZpbHRlckl0ZW1CdXR0b24gPSAkKCc8YnV0dG9uIGNsYXNzPVwia29oLXNlbGVjdGVkLWZpbHRlclwiPjwvYnV0dG9uPicpO1xyXG5cclxuXHRcdGlmICggJGZpbHRlci5oYXNDbGFzcyhcImtvaC1maWx0ZXItdHlwZS1jaGVja2JveFwiKSApIHtcclxuXHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcyhcImtvaC1jaGVja2JveC11bmNoZWNrZWRcIikuYWRkQ2xhc3MoXCJrb2gtY2hlY2tib3gtY2hlY2tlZFwiKTtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKCAkZmlsdGVyLmhhc0NsYXNzKFwia29oLWZpbHRlci10eXBlLXJhbmdlXCIpICkge1xyXG5cdFx0XHRpZiAoICEkZmlsdGVyTGlzdCB8fCAhJGZpbHRlckxpc3QubGVuZ3RoICkge1xyXG5cdFx0XHRcdCRmaWx0ZXJMaXN0ID0gJCgnPHVsIGNsYXNzPVwia29oLXNlbGVjdGVkLWZpbHRlcnNcIj48L3VsPicpO1xyXG5cdFx0XHRcdCRmaWx0ZXJMaXN0Lmluc2VydEJlZm9yZSggJGZpbHRlci5maW5kKFwiLmtvaC1yYW5nZS1maWx0ZXJcIikgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0JGZpbHRlckl0ZW1CdXR0b24uZGF0YShcImZhY2V0LW5hbWVcIixmYWNldE5hbWUpO1xyXG5cdFx0XHQkZmlsdGVySXRlbUJ1dHRvbi5kYXRhKFwiZmFjZXQtdmFsdWVcIixmYWNldFZhbHVlKTtcclxuXHRcdFx0JGZpbHRlckl0ZW1CdXR0b24uYXBwZW5kKCQoJzxzcGFuIGNsYXNzPVwicmVtb3ZlXCI+UmVtb3ZlIEZpbHRlcjwvc3Bhbj4nKSk7XHJcblx0XHRcdCRmaWx0ZXJJdGVtQnV0dG9uLmFwcGVuZCgkKCc8c3BhbiBjbGFzcz1cIm5hbWVcIj4nK2ZhY2V0TGFiZWwrJzwvc3Bhbj4nKSk7XHJcblx0XHRcdCRmaWx0ZXJJdGVtQnV0dG9uLmFwcGVuZCgkKCc8c3BhbiBjbGFzcz1cImNvdW50XCI+JytmYWNldENvdW50Kyc8L3NwYW4+JykpO1xyXG5cclxuXHRcdFx0JGZpbHRlckxpc3QuYXBwZW5kKCAkKFwiPGxpPjwvbGk+XCIpLndyYXBJbm5lcigkZmlsdGVySXRlbUJ1dHRvbikgKTtcclxuXHRcdH1cclxuXHRcdGVsc2UgeyAvLyBDb2xvcnMgYW5kIExpc3QgYXJlIHRoZSBzYW1lIGZvciB0aGlzIGF0IHRoZSBtb21lbnRcclxuXHRcdFx0aWYgKCAhJGZpbHRlckxpc3QgfHwgISRmaWx0ZXJMaXN0Lmxlbmd0aCApIHtcclxuXHRcdFx0XHQkZmlsdGVyTGlzdCA9ICQoJzx1bCBjbGFzcz1cImtvaC1zZWxlY3RlZC1maWx0ZXJzXCI+PC91bD4nKTtcclxuXHRcdFx0XHQkZmlsdGVyTGlzdC5pbnNlcnRCZWZvcmUoICRmaWx0ZXIuZmluZChcIi5rb2gtYXZhaWxhYmxlLWZpbHRlcnNcIikgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0JGZpbHRlckl0ZW1CdXR0b24uZGF0YShcImZhY2V0LW5hbWVcIixmYWNldE5hbWUpO1xyXG5cdFx0XHQkZmlsdGVySXRlbUJ1dHRvbi5kYXRhKFwiZmFjZXQtdmFsdWVcIixmYWNldFZhbHVlKTtcclxuXHRcdFx0JGZpbHRlckl0ZW1CdXR0b24uYXBwZW5kKCQoJzxzcGFuIGNsYXNzPVwicmVtb3ZlXCI+UmVtb3ZlIEZpbHRlcjwvc3Bhbj4nKSk7XHJcblx0XHRcdCRmaWx0ZXJJdGVtQnV0dG9uLmFwcGVuZCgkKCc8c3BhbiBjbGFzcz1cIm5hbWVcIj4nK2ZhY2V0TGFiZWwrJzwvc3Bhbj4nKSk7XHJcblx0XHRcdCRmaWx0ZXJJdGVtQnV0dG9uLmFwcGVuZCgkKCc8c3BhbiBjbGFzcz1cImNvdW50XCI+JytmYWNldENvdW50Kyc8L3NwYW4+JykpO1xyXG5cclxuXHRcdFx0JGZpbHRlckxpc3QuYXBwZW5kKCAkKFwiPGxpPjwvbGk+XCIpLndyYXBJbm5lcigkZmlsdGVySXRlbUJ1dHRvbikgKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvKiBGaWx0ZXJpbmcvU29ydGluZyAtIFVSTCBmdW5jdGlvbnMgKi9cclxuXHR2YXIgZ2V0VVJMID0gZnVuY3Rpb24gKCRjb21wb25lbnQsIGV4Y2x1ZGVDYXRlZ29yeSwgZXhjbHVkZUZpbHRlcnMpIHtcclxuXHRcdC8qIFVSTHMgd2lsbCBiZSBpbiB0aGUgZm9ybSBvZiByZXN1bHRzP3R5cGU9cHJvZHVjdCZzZWFyY2g9c2hvd2VyJmN1cnJlbnRwYWdlPTFcclxuXHRcdCAmb3JkZXJCeT17bmFtZXxwcmljZX0mc29ydD17YXNjfGRlc2N9ICovXHJcblx0XHR2YXIgdXJsID0gXCJcIjtcclxuXHRcdHZhciBxdWVyeVBhcmFtcyA9IHt9O1xyXG5cdFx0dmFyIHF1ZXJ5UGFyYW1Db3VudCA9IDA7XHJcblxyXG5cdFx0dmFyIHVybFJvb3QgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLWRhdGEtYXR0cmlidXRlc1wiKS5kYXRhKFwia29oLXVybC1yb290XCIpO1xyXG5cdFx0dXJsID0gdXJsUm9vdDtcclxuXHJcblx0XHQvKiBJZiB0aGUgY2F0ZWdvcnkgaXMgZXhjbHVkZWQsIHRoZW4gdGhlIGZpbHRlcnMgYW5kIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXJzIGFuZCBzb3J0IHNob3VsZCBhbHNvIGJlIGV4Y2x1ZGVkICovXHJcblx0XHRpZiAoICFleGNsdWRlQ2F0ZWdvcnkgKSB7XHJcblx0XHRcdHZhciBjYXRlZ29yeU5hbWUgPSBnZXRBY3RpdmVDYXRlZ29yeSgkY29tcG9uZW50KTtcclxuXHRcdFx0aWYgKCBjYXRlZ29yeU5hbWUgKSB7XHJcblx0XHRcdFx0dXJsID0gdXJsICsgXCIvQ2F0ZWdvcnkvXCIgKyBjYXRlZ29yeU5hbWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggIWV4Y2x1ZGVGaWx0ZXJzICkge1xyXG5cdFx0XHRcdHZhciB1cmxGaWx0ZXJzID0gZ2V0VXJsZnJvbUFjdGl2ZUZpbHRlcnMoJGNvbXBvbmVudCk7XHJcblx0XHRcdFx0dXJsID0gdXJsICsgdXJsRmlsdGVycztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHNvcnRPcHRpb25zID0gZ2V0QWN0aXZlU29ydGluZygkY29tcG9uZW50KTtcclxuXHRcdFx0aWYgKCBzb3J0T3B0aW9ucyAmJiBzb3J0T3B0aW9ucy5vcmRlckJ5ICYmIHNvcnRPcHRpb25zLmRpcmVjdGlvbiApIHtcclxuXHRcdFx0XHRxdWVyeVBhcmFtc1tzb3J0T3B0aW9ucy5sYWJlbHMub3JkZXJCeV0gPSBzb3J0T3B0aW9ucy5vcmRlckJ5O1xyXG5cdFx0XHRcdHF1ZXJ5UGFyYW1Db3VudCA9IHF1ZXJ5UGFyYW1Db3VudCArIDE7XHJcblxyXG5cdFx0XHRcdHF1ZXJ5UGFyYW1zW3NvcnRPcHRpb25zLmxhYmVscy5kaXJlY3Rpb25dID0gc29ydE9wdGlvbnMuZGlyZWN0aW9uO1xyXG5cdFx0XHRcdHF1ZXJ5UGFyYW1Db3VudCA9IHF1ZXJ5UGFyYW1Db3VudCArIDE7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR2YXIgdHlwZSA9IGdldFR5cGUoJGNvbXBvbmVudCk7XHJcblx0XHRpZiAoIHR5cGUgKSB7XHJcblx0XHRcdHVybCA9IHVybCArIFwiP1wiICtcInR5cGU9XCIrIHR5cGU7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHNlYXJjaFRlcm0gPSBnZXRTZWFyY2hUZXJtKCRjb21wb25lbnQpO1xyXG5cdFx0aWYgKCBzZWFyY2hUZXJtICkge1xyXG5cdFx0XHR1cmwgPSB1cmwgKyBcIiZcIiArXCJzZWFyY2g9XCIrIHNlYXJjaFRlcm07XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoJGNvbXBvbmVudCk7XHJcblx0XHRpZiAoIGN1cnJlbnRQYWdlICkge1xyXG5cdFx0XHR1cmwgPSB1cmwgKyBcIiZcIiArXCJjdXJyZW50cGFnZT1cIisgY3VycmVudFBhZ2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBxdWVyeVBhcmFtQ291bnQgPiAwKSB7XHJcblx0XHRcdHVybCA9IHVybCArIFwiJlwiO1xyXG5cclxuXHRcdFx0JC5lYWNoKCBxdWVyeVBhcmFtcywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG5cdFx0XHRcdHVybCA9IHVybCArIGtleSArIFwiPVwiICsgdmFsdWUgKyBcIiZcIjtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyByZW1vdmUgdGhlIHRyYWlsaW5nICYgaWYgd2UgYWRkZWQgb25lXHJcblx0XHRcdHVybCA9IHVybC5yZXBsYWNlKC8mJC8sIFwiXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB1cmw7XHJcblx0fTtcclxuXHJcblx0dmFyIGRpc3BsYXlOZXdSZXN1bHRzID0gZnVuY3Rpb24gKCRjb21wb25lbnQsIGV4Y2x1ZGVDYXRlZ29yeSwgZXhjbHVkZUZpbHRlcnMpIHtcclxuXHRcdHZhciBjdXJyZW50VXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcblxyXG5cdFx0dmFyIHRhcmdldFVybCA9IGdldFVSTCgkY29tcG9uZW50LCBleGNsdWRlQ2F0ZWdvcnksIGV4Y2x1ZGVGaWx0ZXJzKTtcclxuXHJcblx0XHRpZiAoIHRhcmdldFVybCAhPT0gY3VycmVudFVybCApIHtcclxuXHRcdFx0c2F2ZVNjcm9sbFBvc2l0aW9uKCk7XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGFyZ2V0VXJsO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8qIEhlbHBlciBGdW5jdGlvbnMgKi9cclxuXHR2YXIgaW5pdEFzTW9kYWwgPSBmdW5jdGlvbiAoICRidXR0b24sICRwYW5lbCwgcmVtb2RhbElEICkge1xyXG5cdFx0JHBhbmVsLmRhdGEoIFwicmVtb2RhbC1pZFwiLCByZW1vZGFsSUQgKTtcclxuXHRcdCRwYW5lbC5wcmVwZW5kKCc8YnV0dG9uIGRhdGEtcmVtb2RhbC1hY3Rpb249XCJjbG9zZVwiIGNsYXNzPVwicmVtb2RhbC1jbG9zZVwiPjwvYnV0dG9uPicpO1xyXG5cdFx0JHBhbmVsLmF0dHIoXCJkYXRhLWtvaC1jb21wb25lbnRcIixjb21wb25lbnRDbGFzcyk7XHJcblx0XHQkcGFuZWwuYWRkQ2xhc3MoY29tcG9uZW50Q2xhc3MrXCItbW9kYWxcIik7XHJcblxyXG5cdFx0dmFyICRyZW1vZGFsUGFuZWwgPSAkcGFuZWwucmVtb2RhbCh7XHJcblx0XHRcdGhhc2hUcmFja2luZzogdHJ1ZSxcclxuXHRcdFx0Y2xvc2VPbkNhbmNlbDogdHJ1ZSxcclxuXHRcdFx0Y2xvc2VPbkVzY2FwZTogdHJ1ZSxcclxuXHRcdFx0Y2xvc2VPbk91dHNpZGVDbGljazogdHJ1ZSxcclxuXHRcdFx0bW9kaWZpZXI6ICcnXHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBNYWtlIHRoZSBidXR0b24gYWxsIGJ1dHRvbi15IGFuZCBjbGljay15XHJcblx0XHQkYnV0dG9uLmRhdGEoIFwicmVtb2RhbC10YXJnZXRcIiwgcmVtb2RhbElEICk7XHJcblx0XHQkYnV0dG9uLmNsaWNrKCB7IHRhcmdldDogJHJlbW9kYWxQYW5lbCB9LCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0dmFyICR0YXJnZXQgPSBlLmRhdGEudGFyZ2V0O1xyXG5cdFx0XHQkdGFyZ2V0Lm9wZW4oKTtcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdHZhciBpbml0UXVpY2tWaWV3RGF0YSA9IGZ1bmN0aW9uICggJHBhbmVsICkge1xyXG5cclxuXHRcdHZhciAkcHJpbWFyeUJhbm5lciA9ICRwYW5lbC5jaGlsZHJlbihcIi5rb2gtcHJvZHVjdC1pbWFnZVwiKTtcclxuXHJcblx0XHR2YXIgJHByb2R1Y3RDb250ZW50ID0gJHBhbmVsLmNoaWxkcmVuKFwiLmtvaC1wcm9kdWN0LWNvbnRlbnRcIik7XHJcblx0XHR2YXIgJHByb2R1Y3RTS1UgPSAkcHJvZHVjdENvbnRlbnQuY2hpbGRyZW4oXCIua29oLXByb2R1Y3Qtc2t1XCIpO1xyXG5cdFx0dmFyICRwcm9kdWN0UHJpY2VzID0gJHByb2R1Y3RDb250ZW50LmNoaWxkcmVuKFwiLmtvaC1wcm9kdWN0LXByaWNlc1wiKTtcclxuXHJcblx0XHR2YXIgJGNvbG9yQ29sbGVjdGlvbnMgPSAkcHJvZHVjdENvbnRlbnQuY2hpbGRyZW4oXCIua29oLXByb2R1Y3QtY29sb3JzXCIpO1xyXG5cdFx0JGNvbG9yQ29sbGVjdGlvbnMuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciAkY29sb3JDb2xsZWN0aW9uID0gJCh0aGlzKTtcclxuXHJcblx0XHRcdHZhciAkc2VsZWN0ZWRDb2xvckxhYmVsID0gJGNvbG9yQ29sbGVjdGlvbi5jaGlsZHJlbihcIi5rb2gtc2VsZWN0ZWQtY29sb3JcIikuZmluZChcIi52YWx1ZVwiKTtcclxuXHJcblx0XHRcdHZhciAkY29sb3JWYXJpYW50cyA9ICRjb2xvckNvbGxlY3Rpb24uZmluZChcIi5rb2gtcHJvZHVjdC12YXJpYW50XCIpO1xyXG5cdFx0XHQkY29sb3JWYXJpYW50cy5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgJGNvbG9yVmFyaWFudCA9ICQodGhpcyk7XHJcblxyXG5cdFx0XHRcdHZhciBwcm9kdWN0RGF0YSA9IHtcclxuXHRcdFx0XHRcdGltYWdlVVJMOiAkY29sb3JWYXJpYW50LmRhdGEoXCJrb2gtaW1hZ2VcIiksXHJcblx0XHRcdFx0XHRza3U6ICRjb2xvclZhcmlhbnQuZGF0YShcImtvaC1za3VcIiksXHJcblx0XHRcdFx0XHRwcmljZXM6ICRjb2xvclZhcmlhbnQuZGF0YShcImtvaC1wcmljZVwiKSxcclxuXHRcdFx0XHRcdGNvbG9yTmFtZTogJGNvbG9yVmFyaWFudC5kYXRhKFwia29oLWNvbG9yXCIpXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0dmFyIHByb2R1Y3RGaWVsZHMgPSB7XHJcblx0XHRcdFx0XHRiYW5uZXI6ICRwcmltYXJ5QmFubmVyLFxyXG5cdFx0XHRcdFx0c2t1OiAkcHJvZHVjdFNLVSxcclxuXHRcdFx0XHRcdHByaWNlczogJHByb2R1Y3RQcmljZXMsXHJcblx0XHRcdFx0XHRjb2xvcjogJHNlbGVjdGVkQ29sb3JMYWJlbFxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdCRjb2xvclZhcmlhbnQuY2hpbGRyZW4oXCIua29oLXByb2R1Y3QtY29sb3JcIikuY2xpY2soIHsgdmFyaWFudFNldDogJGNvbG9yVmFyaWFudHMsIHZhcmlhbnQ6ICRjb2xvclZhcmlhbnQsIHByb2R1Y3Q6IHByb2R1Y3REYXRhLCBmaWVsZHM6IHByb2R1Y3RGaWVsZHMgfSwgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdFx0dmFyICR2YXJpYW50ID0gZS5kYXRhLnZhcmlhbnQ7XHJcblx0XHRcdFx0XHR2YXIgJHZhcmlhbnRTZXQgPSBlLmRhdGEudmFyaWFudFNldDtcclxuXHJcblx0XHRcdFx0XHR2YXIgcHJvZHVjdERhdGEgPSBlLmRhdGEucHJvZHVjdDtcclxuXHRcdFx0XHRcdHZhciBwcm9kdWN0RmllbGRzID0gZS5kYXRhLmZpZWxkcztcclxuXHJcblx0XHRcdFx0XHRwcm9kdWN0RmllbGRzLmJhbm5lci5maW5kKFwiaW1nXCIpLmF0dHIoXCJzcmNcIiwgcHJvZHVjdERhdGEuaW1hZ2VVUkwpO1xyXG5cdFx0XHRcdFx0cHJvZHVjdEZpZWxkcy5za3UudGV4dChwcm9kdWN0RGF0YS5za3UpO1xyXG5cdFx0XHRcdFx0cHJvZHVjdEZpZWxkcy5wcmljZXMuZmluZChcIi5rb2gtY3VycmVudC1wcmljZSA+IC52YWx1ZVwiKS50ZXh0KHByb2R1Y3REYXRhLnByaWNlcy5jdXJyZW50KTtcclxuXHRcdFx0XHRcdHByb2R1Y3RGaWVsZHMucHJpY2VzLmZpbmQoXCIua29oLXByZXZpb3VzLXByaWNlID4gLnZhbHVlXCIpLnRleHQocHJvZHVjdERhdGEucHJpY2VzLnByZXZpb3VzKTtcclxuXHRcdFx0XHRcdHByb2R1Y3RGaWVsZHMucHJpY2VzLmZpbmQoXCIua29oLWRpc2NvdW50ZWQtcHJpY2UgPiAudmFsdWVcIikudGV4dChwcm9kdWN0RGF0YS5wcmljZXMuZGlzY291bnRlZCk7XHJcblx0XHRcdFx0XHRwcm9kdWN0RmllbGRzLmNvbG9yLnRleHQocHJvZHVjdERhdGEuY29sb3JOYW1lKTtcclxuXHJcblx0XHRcdFx0XHQkdmFyaWFudFNldC5yZW1vdmVDbGFzcyhcImtvaC1zZWxlY3RlZC12YXJpYW50XCIpO1xyXG5cdFx0XHRcdFx0JHZhcmlhbnQuYWRkQ2xhc3MoXCJrb2gtc2VsZWN0ZWQtdmFyaWFudFwiKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHR2YXIgbG9hZFNjcm9sbFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHNjcm9sbFBvc2l0aW9uID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcImtvaFBhZ2VTY3JvbGxcIik7XHJcblx0XHRheEtPSC51dGlscy5kZWJ1Z0xvZyhcIlNjcm9sbCBzZXQgdG8gXCIrc2Nyb2xsUG9zaXRpb24pO1xyXG5cdFx0JCh3aW5kb3cpLnNjcm9sbFRvcChzY3JvbGxQb3NpdGlvbik7XHJcblx0XHRzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFwia29oUGFnZVNjcm9sbFwiKTtcclxuXHR9O1xyXG5cclxuXHR2YXIgc2F2ZVNjcm9sbFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIHNjcm9sbFBvc2l0aW9uID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG5cdFx0c2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcImtvaFBhZ2VTY3JvbGxcIiwgc2Nyb2xsUG9zaXRpb24pO1xyXG5cdH07XHJcblxyXG5cdC8vIEJhY2sgdG8gdG9wIGJ1dHRvblxyXG5cdHZhciBpbml0QmFja1RvcEJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciB0b3BCdXR0b24gPSAkKFwiLmtvaC1zZWFyY2gtdG9wIGJ1dHRvblwiKTtcclxuXHRcdGlmICgkKHRvcEJ1dHRvbikubGVuZ3RoICkge1xyXG5cdFx0XHR2YXIgdG9wVGFyZ2V0ID0gJChcIi5jLWtvaC1wcm9kdWN0LXNlYXJjaDpmaXJzdFwiKTtcclxuXHRcdFx0JCh0b3BCdXR0b24pLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0O1xyXG5cdFx0XHRcdGlmICgkKHRvcFRhcmdldCkubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHQkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAkKHRvcFRhcmdldCkub2Zmc2V0KCkudG9wIC04MCB9LCAyNTApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gQmFjayB0byB0b3AgZmFkZWluXHJcblx0dmFyIGluaXRCYWNrVG9wRGlzdGFuY2UgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgdG9wQnV0dG9uID0gJChcIi5rb2gtc2VhcmNoLXRvcCBidXR0b25cIik7XHJcblx0XHRpZiAoJCh0b3BCdXR0b24pLmxlbmd0aCApIHtcclxuXHRcdFx0dmFyIHRvcERpc3RhbmNlID0gJChcIi5jLWtvaC1wcm9kdWN0LXNlYXJjaDpmaXJzdFwiKS5vZmZzZXQoKS50b3A7XHJcblx0XHRcdCQoZG9jdW1lbnQpLnNjcm9sbChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgeSA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XHJcblx0XHRcdFx0aWYgKHkgPiB0b3BEaXN0YW5jZSkge1xyXG5cdFx0XHRcdFx0JCh0b3BCdXR0b24pLmZhZGVJbigpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkKHRvcEJ1dHRvbikuZmFkZU91dCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gQ2F0ZWdvcnkgbGluayBnZW5lcmF0aW9uXHJcblx0dmFyIGluaXRDYXRnb3J5TGlua3MgPSBmdW5jdGlvbiAoJGNvbXBvbmVudHMpIHtcclxuXHRcdC8vIGRldGVybWluZSBjdXJyZW50IHNlYXJjaCBwYXJhbWV0ZXJzXHJcblx0XHR2YXIgJHNlYXJjaFRlcm0gPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnNsaWNlKDEpO1xyXG5cdFx0Ly8gZmluZCBjYXRlZ29yeSBsaW5rc1xyXG5cdFx0dmFyICRjYXRlZ29yeUxpbmtzID0gJChcIi5rb2gtY2F0ZWdvcnkgLmtvaC1hdmFpbGFibGUtZmlsdGVycyBsaSBhXCIpO1xyXG5cclxuXHRcdHZhciAkY29tcG9uZW50ID0gJCgkY29tcG9uZW50c1swXSk7XHJcblx0XHR2YXIgdXJsRmlsdGVycyA9IGdldFVybGZyb21BY3RpdmVGaWx0ZXJzKCRjb21wb25lbnQpO1xyXG5cclxuXHRcdCRjYXRlZ29yeUxpbmtzLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciAkY2F0ZWdvcnlOYW1lICBcdFx0PSAkKHRoaXMpLmRhdGEoXCJmYWNldC1uYW1lXCIpO1xyXG5cdFx0XHR2YXIgJGNhdGVnb3J5VmFsdWUgXHRcdD0gJCh0aGlzKS5kYXRhKFwiZmFjZXQtdmFsdWVcIik7XHJcblx0XHRcdHZhciAkY2F0ZWdvcnlVUkwgPSAnL3Jlc3VsdHMvJyArICRjYXRlZ29yeU5hbWUgKyAnLycgKyAkY2F0ZWdvcnlWYWx1ZSArIHVybEZpbHRlcnMgKyAnPycgKyAkc2VhcmNoVGVybTtcclxuXHRcdFx0JCh0aGlzKS5hdHRyKCdocmVmJywkY2F0ZWdvcnlVUkwpO1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0Ly8gU3BlYyBUb2dnbGVcclxuXHR2YXIgaW5pdFNwZWNUb2dnbGUgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgc3BlY1RvZ2dsZSA9ICQoXCIua29oLXNwZWMtdG9nZ2xlXCIpO1xyXG5cdFx0aWYgKCQoc3BlY1RvZ2dsZSkubGVuZ3RoICkge1xyXG5cdFx0XHRzcGVjVG9nZ2xlLmVhY2goIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCQodGhpcykuY2xpY2soZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdDtcclxuXHRcdFx0XHRcdCQodGhpcykubmV4dCgpLnRvZ2dsZSgpO1xyXG5cdFx0XHRcdFx0JCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vIFRyaWdnZXIgYXJ0aWNsZSB2aWRlb3NcclxuXHR2YXIgaW5pdEFydGljbGVWaWRlb3MgPSBmdW5jdGlvbiAoJGNvbXBvbmVudHMpIHtcclxuXHRcdGlmICggJGNvbXBvbmVudHMgKSB7XHJcblx0XHRcdCRjb21wb25lbnRzLmVhY2goIGZ1bmN0aW9uKGNvbXBvbmVudEluZGV4KSB7XHJcblx0XHRcdFx0dmFyICRjb21wb25lbnQgPSAkKHRoaXMpO1xyXG5cclxuXHRcdFx0XHR2YXIgJHZpZGVvTGlua3MgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLXByb2R1Y3QtYXJ0aWNsZS52LWtvaC12aWRlbyBhXCIpO1xyXG5cclxuXHRcdFx0XHQkdmlkZW9MaW5rcy5lYWNoKCBmdW5jdGlvbih2aWRlb0luZGV4KSB7XHJcblx0XHRcdFx0XHR2YXIgJHZpZGVvTGluayA9ICQodGhpcyk7XHJcblx0XHRcdFx0XHR2YXIgdmlkZW9VUkwgPSAkdmlkZW9MaW5rLmF0dHIoXCJocmVmXCIpO1xyXG5cdFx0XHRcdFx0dmFyIGFwaVVSTCA9ICR2aWRlb0xpbmsuZGF0YShcImFwaVwiKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIHZpZGVvVVJMICkge1xyXG5cdFx0XHRcdFx0XHQvLyBBZGQgZGl2cyB0byBiZSB2aWRlbyBtb2RhbHNcclxuXHRcdFx0XHRcdFx0dmFyICR2aWRlb1BhbmVsID0gJCgnPGRpdiBjbGFzcz1cImtvaC12aWRlby1wYW5lbFwiPjxpZnJhbWUgd2lkdGg9XCI1NjBcIiBoZWlnaHQ9XCIzMTVcIiBzcmM9XCInK3ZpZGVvVVJMKydcIiBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+PC9kaXY+Jyk7XHJcblx0XHRcdFx0XHRcdCR2aWRlb1BhbmVsLmluc2VydEFmdGVyKCR2aWRlb0xpbmspO1xyXG5cclxuXHRcdFx0XHRcdFx0dmFyIHJlbW9kYWxJRCA9IFwiVmlkZW9cIitjb21wb25lbnRJbmRleCt2aWRlb0luZGV4O1xyXG5cdFx0XHRcdFx0XHR2YXIgJHZpZGVvUGFuZWwgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLXZpZGVvLXBhbmVsXCIpO1xyXG5cdFx0XHRcdFx0XHRpbml0QXNNb2RhbCggJHZpZGVvTGluaywgJHZpZGVvUGFuZWwsIHJlbW9kYWxJRCApO1xyXG5cdFx0XHRcdFx0XHQkdmlkZW9QYW5lbC5vbignb3BlbmVkJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyICRlbWJlZGRlZFZpZGVvID0gJCh0aGlzKS5maW5kKFwiaWZyYW1lXCIpO1xyXG5cdFx0XHRcdFx0XHRcdHJlc2l6ZVJlc3BvbnNpdmVWaWRlbygkZW1iZWRkZWRWaWRlbyk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdCR2aWRlb0xpbmsuY2xpY2soIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBhcGlVUkwgKSB7XHJcblx0XHRcdFx0XHRcdCQuZ2V0KCBhcGlVUkwsIGZ1bmN0aW9uKCBkYXRhICkge1xyXG5cdFx0XHRcdFx0XHRcdGlmICggZGF0YSAmJiBkYXRhLml0ZW1zICYmIGRhdGEuaXRlbXNbMF0gJiYgZGF0YS5pdGVtc1swXS5zbmlwcGV0ICkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIHZpZGVvVGl0bGUgPSBkYXRhLml0ZW1zWzBdLnNuaXBwZXQudGl0bGU7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIHZpZGVvVGl0bGUgKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdCR2aWRlb0xpbmsuY2hpbGRyZW4oXCIua29oLXZpZGVvLXRpdGxlXCIpLnRleHQoIHZpZGVvVGl0bGUgKTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHR2YXIgcmVzaXplUmVzcG9uc2l2ZVZpZGVvID0gZnVuY3Rpb24gKCAkdmlkZW9FbGVtZW50ICkge1xyXG5cdFx0dmFyIGVtYmVkVGFncyA9IFwiaWZyYW1lLCBvYmplY3QsIGVtYmVkXCI7XHJcblx0XHR2YXIgYXNwZWN0UmF0aW8gPSAkdmlkZW9FbGVtZW50LmRhdGEoJ2FzcGVjdHJhdGlvJyk7XHJcblx0XHR2YXIgbWF4V2lkdGggPSAkdmlkZW9FbGVtZW50LmRhdGEoJ21heHdpZHRoJyk7XHJcblxyXG5cdFx0aWYgKCAhYXNwZWN0UmF0aW8gfHwgIW1heFdpZHRoICkge1xyXG5cdFx0XHRtYWtlVmlkZW9SZXNwb25zaXZlKCAkdmlkZW9FbGVtZW50ICk7XHJcblx0XHRcdGFzcGVjdFJhdGlvID0gJHZpZGVvRWxlbWVudC5kYXRhKCdhc3BlY3RyYXRpbycpO1xyXG5cdFx0XHRtYXhXaWR0aCA9ICR2aWRlb0VsZW1lbnQuZGF0YSgnbWF4d2lkdGgnKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgJHBhcmVudCA9ICR2aWRlb0VsZW1lbnQuY2xvc2VzdCgnOm5vdCgnK2VtYmVkVGFncysnKScpO1xyXG5cclxuXHRcdHZhciByZXNwb25zaXZlV2lkdGggPSAzMjA7IC8vIGluIGNhc2Ugd2UgY2FuJ3QgZmluZCBhIHBhcmVudCwgc2V0IHRvIHNtYWxsZXN0IHBvc3NpYmxlIHNjcmVlbiB3aWR0aFxyXG5cdFx0aWYgKCAkcGFyZW50ICkge1xyXG5cdFx0XHRyZXNwb25zaXZlV2lkdGggPSAkcGFyZW50LndpZHRoKCk7XHJcblx0XHR9XHJcblx0XHQvLyBEb24ndCBleGNlZWQgdGhlIG9yaWdpbmFsIHdpZHRoIChpLmUuIGRvbid0IHNjYWxlIHVwLCBvbmx5IGRvd24pXHJcblx0XHRyZXNwb25zaXZlV2lkdGggPSBNYXRoLm1pbihyZXNwb25zaXZlV2lkdGgsIG1heFdpZHRoKTtcclxuXHJcblx0XHQkdmlkZW9FbGVtZW50LndpZHRoKCByZXNwb25zaXZlV2lkdGggKTtcclxuXHRcdCR2aWRlb0VsZW1lbnQuaGVpZ2h0KCByZXNwb25zaXZlV2lkdGggKiBhc3BlY3RSYXRpbyApO1xyXG5cdH07XHJcblxyXG5cdC8qIERlZmluZXMgZnVuY3Rpb25zIGV4cG9zZWQgdGhyb3VnaCBmb290ZXJNYW5hZ2VyIG9iamVjdCAqL1xyXG5cdHJldHVybiB7XHJcblx0XHRpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciAkY29tcG9uZW50cyA9ICQoXCIuXCIrY29tcG9uZW50Q2xhc3MpO1xyXG5cclxuXHRcdFx0LyogSW5pdGlhbGl6ZSBTZWFyY2ggTmF2aWdhdGlvbiAqL1xyXG5cdFx0XHRpbml0U2VhcmNoTmF2KCRjb21wb25lbnRzKTtcclxuXHJcblx0XHRcdC8qIEluaXRpYWxpemUgRmlsdGVycyBFeHBhbmQvQ29sbGFwc2UgKi9cclxuXHRcdFx0aW5pdEZpbHRlckV4cGFuZENvbGxhcHNlKCRjb21wb25lbnRzKTtcclxuXHJcblx0XHRcdC8qIEluaXRpYWxpemUgUmFuZ2UgU2xpZGVycyAqL1xyXG5cdFx0XHRpbml0UmFuZ2VTbGlkZXJzKCRjb21wb25lbnRzKTtcclxuXHJcblx0XHRcdC8qIEluaXRpYWxpemUgUXVpY2sgVmlldyAqL1xyXG5cdFx0XHRpbml0UXVpY2tWaWV3KCRjb21wb25lbnRzKTtcclxuXHJcblx0XHRcdC8qIEluaXRpYWxpemUgVG9vbHRpcHMgKi9cclxuXHRcdFx0aW5pdFRvb2x0aXBzKCRjb21wb25lbnRzKTtcclxuXHJcblx0XHRcdC8qIEluaXRpYWxpemUgRHJvcGRvd25zICovXHJcblx0XHRcdGluaXREcm9wZG93bnMoJGNvbXBvbmVudHMpO1xyXG5cclxuXHRcdFx0LyogU2V0IHVwIGFsbCB0aGUgZmlsdGVycyBhbmQgc29ydGluZyBhbmQgc3VjaCAqL1xyXG5cdFx0XHRpbml0U2VhcmNoRmFjZXRzKCRjb21wb25lbnRzKTtcclxuXHJcblx0XHRcdC8qIFNldCB1cCBDbGljayBFdmVudHMgZm9yIFByb2R1Y3QgVGlsZXMgKi9cclxuXHRcdFx0aW5pdFNpbWlsYXJQcm9kdWN0cygkY29tcG9uZW50cyk7XHJcblxyXG5cdFx0XHQvKiBJbml0aWFsaXplIEJhY2sgdG8gVG9wIEJ1dHRvbiAqL1xyXG5cdFx0XHRpbml0QmFja1RvcEJ1dHRvbigkY29tcG9uZW50cyk7XHJcblxyXG5cdFx0XHQvKiBTaG93L0hpZGUgQmFjayB0byBUb3AgQnV0dG9uICovXHJcblx0XHRcdGluaXRCYWNrVG9wRGlzdGFuY2UoJGNvbXBvbmVudHMpO1xyXG5cclxuXHRcdFx0Ly8gQ2F0ZWdvcnkgbGluayBnZW5lcmF0aW9uXHJcblx0XHRcdGluaXRDYXRnb3J5TGlua3MoJGNvbXBvbmVudHMpO1xyXG5cclxuXHRcdFx0Ly8gU3BlYyBUb2dnbGVcclxuXHRcdFx0aW5pdFNwZWNUb2dnbGUoJGNvbXBvbmVudHMpO1xyXG5cclxuXHRcdFx0Ly8gQXJ0aWNsZSB2aWRlb3NcclxuXHRcdFx0aW5pdEFydGljbGVWaWRlb3MoJGNvbXBvbmVudHMpO1xyXG5cclxuXHRcdH0sXHJcblx0XHRvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0bG9hZFNjcm9sbFBvc2l0aW9uKCk7XHJcblx0XHR9XHJcblx0fTtcclxufSkoKTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG5cdCQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cdFx0Ly8gZXhlY3V0ZXMgd2hlbiBIVE1MLURvY3VtZW50IGlzIGxvYWRlZCBhbmQgRE9NIGlzIHJlYWR5XHJcblx0XHRheEtPSC5tYWluLnByb2R1Y3RTZWFyY2guaW5pdGlhbGl6ZSgpO1xyXG5cdH0pO1xyXG5cclxuXHQkKHdpbmRvdykub24oXCJsb2FkXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0YXhLT0gubWFpbi5wcm9kdWN0U2VhcmNoLm9uTG9hZCgpO1xyXG5cdH0pO1xyXG59KTtcclxuIl19
