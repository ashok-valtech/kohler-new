/*
 * Copyright © 2000-2017 Kohler Company. All Rights Reserved.
 */
/*
 * Copyright © 2000-2017 Kohler Company. All Rights Reserved.
 */
function handleAutoSuggest(event){var textInput=event.currentTarget.value;if(textInput.length>2||0==textInput.toLowerCase().indexOf("k-")){if(0==textInput.toLowerCase().indexOf("k-")){var length=textInput.length;textInput=textInput.substr(2,length)}$.getJSON($(".koh-primary-nav-suggest-link").val()+"?q="+textInput,function(data,status){function getBoldValue(searchText,original){if(original.toLowerCase().indexOf(searchText.toLowerCase())>-1){var start=original.toLowerCase().indexOf(searchText.toLowerCase()),end=searchText.length;return original.substr(0,start)+"<mark>"+original.substr(start,end)+"</mark>"+original.substr(start+end,original.length)}return original}if("success"==status){var ul=$("div#search-suggestions-container > div.search-suggestions-scroller > ul");ul.empty(),"undefined"===data.suggestions||0==data.suggestions.length?$("div#search-suggestions-container").hide():($.each(data.suggestions,function(name,value){ul.append($('<li class="suggestion-item"><a  href="'+value+'">'+getBoldValue(textInput,value)+"</a></li>"))}),$(".suggestion-item").on("click",function(e){e.preventDefault(),$("#koh-nav-searchbox").val($($(e.currentTarget).children()[0]).attr("href")),$(".koh-site-search-form")[0].submit()}),$("div#search-suggestions-container").show())}})}else $("div#search-suggestions-container").hide()}/*
 * Copyright © 2000-2017 Kohler Company. All Rights Reserved.
 */
function createCookie(name,value,minutes,locale){var expires="",cookie="";if(minutes){var date=new Date;date.setTime(date.getTime()+60*minutes*1e3),expires="expires="+date.toUTCString()}cookie=name+"="+value+"; "+expires+"; path=/;",document.cookie=cookie}function switchLanguage(locale,isParent,currentSiteUrl,targetSiteUrl){if(""!=locale&&void 0!=locale){var getCurrentUrl=(locale.split("_")[0],window.location.href),parameters="";if(getCurrentUrl.indexOf("?")>0&&(parameters=getCurrentUrl.substring(getCurrentUrl.indexOf("?"),getCurrentUrl.length)),isParent){var finalUrl=window.location.protocol+"//"+window.location.host,currentUrl=window.location.pathname;finalUrl+=currentUrl===currentSiteUrl?currentUrl.replace(currentSiteUrl,targetSiteUrl):currentUrl.replace(currentSiteUrl+"/",targetSiteUrl),finalUrl+=parameters,location.assign(finalUrl)}else{var finalUrl=window.location.protocol+"//"+window.location.host,currentUrl=window.location.pathname;currentUrl===currentSiteUrl?finalUrl+=currentUrl.replace(currentSiteUrl,targetSiteUrl):currentUrl===currentSiteUrl+"/"?finalUrl+=currentUrl.replace(currentSiteUrl+"/",targetSiteUrl):0===currentUrl.indexOf(currentSiteUrl)&&(finalUrl+="/"===targetSiteUrl?currentUrl.replace(currentSiteUrl+"/",targetSiteUrl):currentUrl.replace(currentSiteUrl,targetSiteUrl+"/")),finalUrl+=parameters,location.assign(finalUrl)}}}function addRemeCookie(remeElement,locale){var cookieName=remeElement.data("cookie-name"),cookieValue=remeElement.data("cookie-value");""!==locale&&(cookieValue=locale);var durationMinutes=remeElement.data("cookie-duration"),expires="";if(null===durationMinutes||""===durationMinutes){var date=new Date;date.setTime(date.getTime()+60*durationMinutes*1e3),expires="expires="+date.toUTCString()}createCookie(cookieName,cookieValue,durationMinutes,locale)}function addAlternateFilterCookie(remeElement,locale){var alternateFilterCookieName=remeElement.data("alternate_filter_cookie_name");createCookie(alternateFilterCookieName,"YES",2,locale)}var axKOH=axKOH||{};axKOH.utils=axKOH.utils||{},axKOH.utils.objToString=function(obj){return JSON.stringify(obj,null,4)},axKOH.utils.debugLog=function(content){},axKOH.utils.toggleClass=function($element,className,addIt){addIt?$element.addClass(className):$element.removeClass(className)},axKOH.utils.hideElement=function($element,hideIt){var hideClass="hidden";axKOH.utils.toggleClass($element,hideClass,hideIt)},axKOH.utils.openMenu=function($element,openIt){var openClass="open";axKOH.utils.toggleClass($element,openClass,openIt)},axKOH.utils.disableLinks=function(element){element.find("a").click(function(event){event.preventDefault()})},axKOH.utils.stopVideos=function(element){var iframe=element.querySelector("iframe"),video=element.querySelector("video");if(null!==iframe){var iframeSrc=iframe.src;iframe.src=iframeSrc}null!==video&&video.pause()};/*
 * Copyright © 2000-2017 Kohler Company. All Rights Reserved.
 */
/*
 * Copyright © 2000-2017 Kohler Company. All Rights Reserved.
 */
var axKOH=axKOH||{};axKOH.main=axKOH.main||{},axKOH.main.componentManager=axKOH.main.componentManager||{},axKOH.main.componentManager.comparePanel=function(){var componentClass="c-koh-compare-panel",initComponents=function(){},initCompareModal=function($components){$components.each(function(componentIndex){var $component=$(this),remodalID="CompareModal"+componentIndex,$button=$component.find(".koh-compare-panel-button"),$panel=$component.find(".koh-compare-panel-modal");initAsModal($button,$panel,remodalID),initColorOverlays();var $compareProducts=$(".c-koh-compare-products").find(".koh-compare-product");$compareProducts.each(function(componentIndex){var $product=$(this),$button=$product.find(".koh-compare-product-required-button"),$panel=$product.find(".koh-compare-required-products-panel"),remodalID="RequiredCompareItems"+componentIndex;initAsModal($button,$panel,remodalID)})})},initAsModal=function($button,$panel,remodalID){$panel.data("remodal-id",remodalID),$panel.prepend('<button data-remodal-action="close" class="remodal-close"></button>'),$panel.attr("data-koh-component",componentClass),$panel.addClass(componentClass+"-modal");var $remodalPanel=$panel.remodal({hashTracking:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:""});$button.data("remodal-target",remodalID),$button.click({target:$remodalPanel},function(e){e.preventDefault(),e.stopPropagation();var $target=e.data.target;$target.open()})},initAsModalAndOpen=function($button,$panel,remodalID){$panel.data("remodal-id",remodalID),$panel.prepend('<button data-remodal-action="close" class="remodal-close"></button>'),$panel.attr("data-koh-component",componentClass),$panel.addClass(componentClass+"-modal");var $remodalPanel=$panel.remodal({hashTracking:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:""}).open();$button.data("remodal-target",remodalID),$button.click({target:$remodalPanel},function(e){e.preventDefault(),e.stopPropagation();var $target=e.data.target;$target.open()})},initColorOverlays=function(){var $colorSwatches=$(".compareColorSwatch");$colorSwatches.each(function(swatchIndex){var $colorSwatch=$(this),$colorLabel=$colorSwatch.attr("alt");$colorSwatch.qtip({id:"swatch"+swatchIndex,content:{text:$colorLabel},position:{my:"top left",at:"bottom left",adjust:{y:6}},style:{classes:"koh-qtip-tooltip koh-product-detail-tooltip qtip-bootstrap",tip:!1}})})},initComparePanel=function(){function removeModalProduct(event,product){event.preventDefault();var cookieContent,uri=product.attr("href"),itemno=product.data("product-itemno"),cookieName=$("#compare-cookie-info").data("cookie-name"),durationMinutes=$("#compare-cookie-info").data("cookie-duration"),cookie=getCookie(cookieName);if(null===cookie||""===cookie)return void $(".c-koh-compare-panel").remove();var products,values=cookie.split("."),category=values[0];values.length>1&&(products=values[1].split("|"));var index=products.indexOf(itemno.toString());return products.splice(index,1),cookieContent=category+"."+products.join("|"),deleteCookie(cookieName),products.length>0?(createCookie(cookieName,cookieContent,durationMinutes),product.closest(".koh-compare-product").remove(),$(".c-koh-compare-products").find(".koh-compare-remove").remove(),removeProductText(product),void $.ajax({url:uri,cache:!1,success:function(data){$("#comparePanel").html(data),$(".koh-compare-items").addClass("open")}}).done(function(){reloadAndOpenModal()}).fail(function(){})):($(".c-koh-compare-panel").remove(),deleteCookie(cookieName),void createCookie(cookieName,"",durationMinutes))}function getCookie(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=ca.length-1;i>=0;--i){for(var c=ca[i];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null}function deleteCookie(name){document.cookie=name+"=; expires=Thu, 01-Jan-70 00:00:01 GMT;"}function addProductText($panel){$(".add_"+$panel.data("product-itemno")).closest(".koh-product-tools").addClass("product-added"),$(".add_"+$panel.data("product-itemno")).closest(".koh-product-tile").addClass("product-added"),$panel.hasClass("koh-compare-button-quickview")&&($panel.closest(".koh-product-quick-view-panel").addClass("product-added"),$("div[data-modal-link='"+$panel.closest(".koh-product-quick-view-panel").attr("id")+"']").addClass("product-added")),$panel.hasClass("koh-compare-button-tile")&&($panel.closest(".koh-product-tile").addClass("product-added"),$("#"+$panel.closest(".koh-product-tile").attr("data-modal-link")).addClass("product-added"),$(".koh-product-details").find(".koh-product-tools").addClass("product-added"))}function removeProductText($panel){$(".remove_"+$panel.data("product-itemno")).closest(".koh-product-tools").removeClass("product-added"),$(".remove_"+$panel.data("product-itemno")).closest(".koh-product-tile").removeClass("product-added"),$panel.hasClass("koh-compare-button-quickview")&&($panel.closest(".koh-product-quick-view-panel").removeClass("product-added"),$("div[data-modal-link='"+$panel.closest(".koh-product-quick-view-panel").attr("id")+"']").removeClass("product-added")),$panel.hasClass("koh-compare-button-tile")&&($panel.closest(".koh-product-tile").removeClass("product-added"),$("#"+$panel.closest(".koh-product-tile").attr("data-modal-link")).removeClass("product-added")),$panel.hasClass("koh-compare-remove-modal")&&($("div[data-modal-link='QuickView"+$panel.attr("data-product-itemno")+"']").removeClass("product-added"),$("#QuickView"+$panel.attr("data-product-itemno")).removeClass("product-added"),$(".koh-product-details").find(".koh-product-tools").removeClass("product-added"))}setTimeout(function(){$(".c-koh-product-faceted-search-modal .koh-compare-add").each(function(){var cookieName=($(this).attr("href"),$(this).data("product-itemno"),$("#compare-cookie-info").data("cookie-name")),cookie=($("#compare-cookie-info").data("cookie-duration"),$("#compare-cookie-info").data("cookie-max-items-number"),$("#compare-cookie-info").data("cookie-max-items-message"),$("#compare-cookie-info").data("cookie-diff-category-message"),$("#category-info").data("cookie-category-product"),getCookie(cookieName));if(null!==cookie){var values=cookie.split(".");if(values[0],values[1]){values[1].split("|")}}})},1e3);var reloadModal=function(){var $components=$("."+componentClass);$components.each(function(componentIndex){var $component=$(this),remodalID="CompareModal"+componentIndex,$button=$component.find(".koh-compare-panel-button"),$panel=$component.find(".koh-compare-panel-modal");$(".koh-compare-panel-modal").remove(),initAsModal($button,$panel,remodalID),$(".c-koh-compare-products").on("click",".koh-compare-remove-modal",function(event){removeModalProduct(event,$(this))}),2==$(".koh-compare-product").size()?$(".koh-compare-product").width("50%"):$(".koh-compare-product").width("33.3333%"),initColorOverlays();var $compareProducts=$(".c-koh-compare-products").find(".koh-compare-product");$compareProducts.each(function(componentIndex){var $product=$(this),$button=$product.find(".koh-compare-product-required-button"),$panel=$product.find(".koh-compare-required-products-panel"),remodalID="RequiredCompareItems"+componentIndex;initAsModal($button,$panel,remodalID)})})},reloadAndOpenModal=function(){var $components=$("."+componentClass);$components.each(function(componentIndex){var $component=$(this),remodalID="CompareModal"+componentIndex,$button=$component.find(".koh-compare-panel-button"),$panel=$component.find(".koh-compare-panel-modal");$(".koh-compare-panel-modal").remove(),initAsModal($button,$panel,remodalID),$(".c-koh-compare-products").on("click",".koh-compare-remove-modal",function(event){removeModalProduct(event,$(this))}),2==$(".koh-compare-product").size()?$(".koh-compare-product").width("50%"):$(".koh-compare-product").width("33.3333%");var $compareProducts=$(".c-koh-compare-products").find(".koh-compare-product");$compareProducts.each(function(componentIndex){var $product=$(this),$button=$product.find(".koh-compare-product-required-button"),$panel=$product.find(".koh-compare-required-products-panel"),remodalID="RequiredCompareItems"+componentIndex;initAsModalAndOpen($button,$panel,remodalID)})})};$("body").on("click",".koh-compare-add",function(event){event.preventDefault();var cookieContent,productDetailslink=$("#productDetailslink").val(),gridImageProductUrl=$("#gridImageProductUrl").val(),gridImageNewProductUrl=$("#gridImageNewProductUrl").val(),comparePanelProducts=$("#comparePanelProducts").val(),compareButtonLable=$("#compareButtonLable").val(),compareClearResults=$("#compareClearResult").val(),uri=$(this).data("href"),itemno=$(this).data("product-itemno"),defaultCategoryKey=$(this).data("category"),itemNoMultiAnscestors=$(this).data("product-itemno-multianscestors"),cookieName=$("#compare-cookie-info").data("cookie-name"),durationMinutes=$("#compare-cookie-info").data("cookie-duration"),compareMaxItemsNumber=$("#compare-cookie-info").data("cookie-max-items-number"),compareMaxItemsMessage=$("#compare-cookie-info").data("cookie-max-items-message"),compareDiffCategoryMessage=$("#compare-cookie-info").data("cookie-diff-category-message"),cookie=getCookie(cookieName),products=($("#compare-cookie-info").data("cookie-product_count"),"");if(null===cookie||""===cookie)cookieContent=defaultCategoryKey+"."+itemNoMultiAnscestors,createCookie(cookieName,cookieContent,durationMinutes),addProductText($(this));else{var values=cookie.split("."),category=values[0],products=values[1].split("|"),flagExists=!1;if(category===defaultCategoryKey)for(var i=0;i<products.length;i++)if(products[i].toString()===itemNoMultiAnscestors.toString())return!1;if(flagExists||products.push(itemNoMultiAnscestors),defaultCategoryKey!=category){var r=confirm(compareDiffCategoryMessage);if(r!==!0)return!1;$(".koh-compare-item").remove(),$(".product-added").removeClass("product-added"),deleteCookie(cookieName),cookieContent=defaultCategoryKey+"."+itemNoMultiAnscestors,createCookie(cookieName,cookieContent,durationMinutes),addProductText($(this)),products=""}else cookieContent=category+"."+products.join("|");if(products.length>compareMaxItemsNumber)return removeProductText($(this)),alert(compareMaxItemsMessage),!1;defaultCategoryKey==category&&products.length<=compareMaxItemsNumber&&addProductText($(this)),deleteCookie(cookieName),createCookie(cookieName,cookieContent,durationMinutes)}var itemNumbers="";isNaN(itemNoMultiAnscestors)&&(itemNumbers=itemNoMultiAnscestors.split("!_"));var defaultCategory="";itemNumbers.length>1&&(defaultCategory="&defaultCategory="+itemNumbers[1]),$.ajax({url:uri,cache:!1,data:{itemNumber:itemno},success:function(data){if(1==data.success){var productImageUrl;productImageUrl=data.items[0].isNew?gridImageNewProductUrl.replace("{0}",data.items[0].src):gridImageProductUrl.replace("{0}",data.items[0].src);var multiAncestorefaultCategoryData="";multiAncestorefaultCategoryData=' data-product-itemno-multianscestors="'+itemNoMultiAnscestors+'"';var htmlData='<div class="koh-compare-item" id="'+itemno+'"><a href="'+productDetailslink+"/"+data.items[0].itemNumber+"/?skuid="+data.items[0].defaultSku+defaultCategory+"\" ><img class='koh-compare-image' src='"+productImageUrl+"' alt='' height='100' width='68'>";if(htmlData+='</br><span class="koh-compare-name"><span class="koh-product-family">'+data.items[0].family+"</span>"+data.items[0].description+"</span>",htmlData+='</br><span class="koh-compare-sku">K-'+data.items[0].defaultSku+"</span></a>",htmlData+='</br><button class="koh-compare-remove" data-product-itemno="'+data.items[0].itemNumber+'"'+multiAncestorefaultCategoryData+">Remove Product</button></div>",""==products){var compareLink=$("#compareLink").val(),htmlMainData='<input id="compare-cookie-info" type="hidden" data-cookie-name="'+cookieName+'" data-cookie-duration="15" data-cookie-max-items-number="1" data-cookie-max-items-message="Only three comparison products are allowed. Please remove one in order to allow adding this new compare to the list." data-cookie-diff-category-message="You can only compare products from the same category. Adding this product will clear your current comparison." data-cookie-category="'+defaultCategoryKey+'" data-cookie-product_count="cookieProductCount">';htmlMainData+='<div class="c-koh-compare-panel"><div class="koh-compare-header"><span class="koh-compare-title">'+comparePanelProducts+"</span>",htmlMainData+='<button type="button" class="koh-compare-toggle open" onclick="$(\'.koh-comp'+"are-toggle').toggleClass('open');$('.koh-compare-items').toggleClass('open');\">Show/Hide</button>",htmlMainData+='<a href="" data-listing-page-url = "'+window.location.href+'" data-compare-link = "'+compareLink+'" class="koh-compare-link btn--primary full-width-sm marg-b-10-sm active">'+compareButtonLable+"</a>",htmlMainData+='<button type="button" class="koh-compare-clear">'+compareClearResults+'</button></div><div class="koh-compare-items"></div></div>',$("#comparePanel").html(htmlMainData),htmlData+='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">2</span></div><div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">3</span></div>',$(".koh-compare-items").html(htmlData),$(".koh-compare-items").addClass("open")}else{for(var count=products.length,cookiesValue=null,i=0;i<products.length;i++)cookiesValue=products[i];2==count?($(".koh-compare-items").children().last().remove(),$(".koh-compare-items").children().last().remove(),htmlData+='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">3</span></div>',$(".koh-compare-items").append(htmlData),$(".koh-compare-items").addClass("open")):3==count&&($(".koh-compare-items").children().last().remove(),$(".koh-compare-items").append(htmlData),$(".koh-compare-items").addClass("open"))}}}}).done(function(){$(".koh-compare-toggle").addClass("open"),$(".koh-compare-items").addClass("open")}).fail(function(){})}),$("body").on("click",".koh-compare-removes",function(event){event.preventDefault();var itemno=($(this).data("href"),$(this).data("product-itemno")),itemMultiAncestors=$(this).data("product-itemno-multianscestors"),cookieName=$("#compare-cookie-info").data("cookie-name"),durationMinutes=$("#compare-cookie-info").data("cookie-duration");removeProductText($(this));var cookieContent,cookie=getCookie(cookieName);if(null===cookie||""===cookie)return void $(".c-koh-compare-panel").remove();var products,values=cookie.split("."),category=values[0];values.length>1&&(products=values[1].split("|"));var index=products.indexOf(itemno.toString());if(void 0!=itemMultiAncestors&&(index=products.indexOf(itemMultiAncestors.toString())),!(0>index)){if(products.splice(index,1),cookieContent=category+"."+products.join("|"),deleteCookie(cookieName),!(products.length>0))return $(".c-koh-compare-panel").remove(),deleteCookie(cookieName),void createCookie(cookieName,"",durationMinutes);createCookie(cookieName,cookieContent,durationMinutes);for(var count=products.length,cookiesValue=null,i=0;i<products.length;i++)cookiesValue=products[i];$("#"+itemno).remove();var count=products.length;if($(".compare-add-demo").parent().remove(),1==count){var htmlData='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">2</span></div>';htmlData+='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">3</span></div>',$(".koh-compare-items").append(htmlData)}if(2==count){var htmlData='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">3</span></div>';$(".koh-compare-items").append(htmlData)}}}),$("#comparePanel").on("click",".koh-compare-remove",function(event){event.preventDefault();var itemno=($(this).attr("href"),$(this).data("product-itemno")),itemMultiAncestors=$(this).data("product-itemno-multianscestors"),cookieName=$("#compare-cookie-info").data("cookie-name"),durationMinutes=$("#compare-cookie-info").data("cookie-duration"),elem=$(".remove_"+itemno)[0];removeProductText($(elem)),$($(".remove_"+itemno)).closest(".koh-product-tools").removeClass("product-added");var cookieContent,cookie=getCookie(cookieName);if(null===cookie||""===cookie)return void $(".c-koh-compare-panel").remove();var products,values=cookie.split("."),category=values[0];values.length>1&&(products=values[1].split("|"));var index=products.indexOf(itemno.toString());if(void 0!=itemMultiAncestors&&(index=products.indexOf(itemMultiAncestors.toString())),products.splice(index,1),cookieContent=category+"."+products.join("|"),deleteCookie(cookieName),!(products.length>0))return $(".c-koh-compare-panel").remove(),deleteCookie(cookieName),void createCookie(cookieName,"",durationMinutes);createCookie(cookieName,cookieContent,durationMinutes);for(var count=products.length,cookiesValue=null,i=0;i<products.length;i++)cookiesValue=products[i];$("#"+itemno).remove();var count=products.length;if($(".compare-add-demo").parent().remove(),1==count){var htmlData='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">2</span></div>';htmlData+='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">3</span></div>',$(".koh-compare-items").append(htmlData),$(".koh-compare-toggle").addClass("open")}if(2==count){var htmlData='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">3</span></div>';$(".koh-compare-items").append(htmlData),$(".koh-compare-toggle").addClass("open")}}),$("#comparePanel").on("click",".koh-compare-clear",function(event){$(".c-koh-compare-panel").remove(),$(".product-added").removeClass("product-added");var cookieName=$("#compare-cookie-info").data("cookie-name"),durationMinutes=$("#compare-cookie-info").data("cookie-duration");deleteCookie(cookieName),createCookie(cookieName,"",durationMinutes),reloadModal();var cookieProductCount=$("#compare-cookie-info").data("cookie-product_count"),durationMinutes=$("#compare-cookie-info").data("cookie-duration");deleteCookie(cookieProductCount),createCookie(cookieProductCount,"",durationMinutes)}),$("#comparePanel").on("click",".koh-compare-link",function(event){event.preventDefault();var compareLinkUrl=$(this).data("compare-link"),listingPageUrl=$(this).data("listing-page-url");createCookie("listingPageUrl",listingPageUrl,5),window.location.href=compareLinkUrl}),$(".c-koh-compare-products").on("click",".koh-history-page button",function(event){event.preventDefault();var listingPageUrl=getCookie("listingPageUrl");null===listingPageUrl||""===listingPageUrl||(window.location.href=listingPageUrl)}),$(".c-koh-compare-products").on("click",".koh-compare-remove-modal",function(event){removeModalProduct(event,$(this))}),$("#compare-product-details").on("click",".koh-compare-remove",function(event){event.preventDefault(),itemno=$(this).data("product-itemno"),itemMultiAncestors=$(this).data("product-itemno-multianscestors"),cookieName=$("#compare-cookie-info").data("cookie-name"),durationMinutes=$("#compare-cookie-info").data("cookie-duration");var cookieContent,cookie=getCookie(cookieName);if(null===cookie||""===cookie)return void $(".c-koh-compare-panel").remove();var products,values=cookie.split("."),category=values[0];values.length>1&&(products=values[1].split("|"));var index=products.indexOf(itemno.toString());return void 0!=itemMultiAncestors&&(index=products.indexOf(itemMultiAncestors.toString())),products.splice(index,1),cookieContent=category+"."+products.join("|"),deleteCookie(cookieName),products.length>0?(createCookie(cookieName,cookieContent,durationMinutes),void $(this).parent().parent().remove()):($(this).parent().parent().remove(),deleteCookie(cookieName),void createCookie(cookieName,"",durationMinutes))})};return window.addEventListener("pageshow",function(event){(event.persisted||window.performance&&2==window.performance.navigation.type)&&isIEBrowser()&&location.reload()},!1),{initialize:function(){initComponents();var $components=$("."+componentClass);initComparePanel($components),initCompareModal($components),initColorOverlays()},onLoad:function(){}}}(),$(function(){$(document).ready(function(){axKOH.main.componentManager.comparePanel.initialize()}),$(window).load(function(){axKOH.main.componentManager.comparePanel.onLoad();var compareHTML=$("#comparePanel");$(".koh-global-navigation-components").append(compareHTML)})}),$(document).on("opened",".remodal",function(){adjustRowHeights(),$(".c-koh-branding-bar").addClass("print-hidden"),$("#comparePanel").addClass("print-hidden"),$(".koh-page").addClass("print-hidden"),$(".c-koh-printfooter").addClass("print-hidden")}),$(document).on("closing",".remodal",function(){$(".print-hidden").removeClass("print-hidden")});var adjustRowHeights=function(){var numRows=$(".koh-compare-features-list").last().find("li").length;maxCellHeight=0,numCols=$(".koh-compare-features-list").length,$row=$(".row0");for(var i=0;numRows>i;i++)$row=$(".row"+i);$row.each(function(){var $cell=$(this);$cell.height()>maxCellHeight&&(maxCellHeight=$cell.height())}),$row.each(function(){$(this).height(maxCellHeight)})},isIEBrowser=function(){return"Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/rv:11/)||"undefined"!=typeof $.browser&&1==$.browser.msie?!0:!1},axKOH=axKOH||{};axKOH.main=axKOH.main||{},axKOH.main.footerManager=function(){var initFooterNav=function(){var $components=$(".c-koh-footer-nav");$components.each(function(){var $navItemsContainer=$(this).find(".koh-nav-items");$navItemsContainer.each(function(){var $navSections=$(this).children(".koh-nav-section"),$navSectionTitlesCollection=$navSections.children(".koh-nav-section-title"),$navSectionItemsCollection=$navSections.children(".koh-nav-section-items");$navSections.each(function(){var $navSection=$(this),$navSectionTitle=$navSection.children(".koh-nav-section-title"),$navSectionItems=$navSectionTitle.next(".koh-nav-section-items");$navSectionTitle.click({navTarget:$navSectionItems,navSiblings:$navSectionItemsCollection,navSiblingTitles:$navSectionTitlesCollection},function(e){if(e.stopPropagation(),e.preventDefault(),$(window).width()<980){var $navTargetTitle=$(this),$navTarget=e.data.navTarget,$navSiblings=e.data.navSiblings,$navSiblingTitles=e.data.navSiblingTitles;$navTargetTitle.hasClass("active")?($navTargetTitle.removeClass("active"),$navTarget.slideUp()):($navSiblingTitles.removeClass("active"),$navSiblings.slideUp(),$navTargetTitle.addClass("active"),$navTarget.slideDown())}})})})})};return{init:function(){initFooterNav()}}}(),$(function(){$(document).ready(function(){axKOH.main.footerManager.init();var throttleScroll=function(){window.addEventListener("scroll",_.throttle(scrollToTop,1e3)),$("#back-to-top").click(function(){$("body,html").animate({scrollTop:0},500)})},scrollToTop=function(){$(window).scroll(function(){$(this).scrollTop()>=500?$("#back-to-top").css("opacity",1):$("#back-to-top").css("opacity",0)})};throttleScroll()})}),$(document).ready(function(){$("#koh-nav-searchbox").on("keyup",handleAutoSuggest)}),$(window).resize(function(){$("#koh-nav-searchbox").on("keyup",handleAutoSuggest)}),$(window).load(function(){$("#koh-nav-searchbox").on("keyup",handleAutoSuggest),$("body").css("pointer-events","all")});/*
 * Copyright © 2000-2017 Kohler Company. All Rights Reserved.
 */
var axKOH=axKOH||{};axKOH.main=axKOH.main||{},axKOH.main.headerManager=function(){var selectors={globalNav:".koh-global-navigation",globalNavComponents:".koh-global-navigation-components",globalNavSpacer:".koh-global-navigation-spacer",brandingBar:".c-koh-branding-bar",brandContent:".koh-brands",menuBar:".c-koh-navigation-bar",menuBarNav:".c-koh-navigation",menuBarSearch:".c-koh-site-search",menuBarCart:".c-koh-shopping-cart-menu",menuBarNavHeader:".koh-primary-nav > .koh-primary-nav-header",menuBarNavMenu:".koh-primary-nav > .koh-primary-nav-menu",topButton:".koh-back-top"},$globalNav=null,$globalNavMenu=null,$globalNavComponents=null,$globalNavSpacer=null,$brandingBar=null,$brandContent=null,$brandingBarMobile=null,$menuBar=null,$menuBarNav=null,$menuBarSearch=null,$menuBarSearchMobile=null,$menuBarCart=null,$menuBarCartMobile=null,$menuBarNavHeader=null,$navToggle=null,$searchToggle=null,globalNavHeight=null,menuBarHeight=null,brandingBarHeight=null,initGlobalNav=function(){$globalNav=reduceToFirst($(selectors.globalNav)),$brandingBar=reduceToFirst($globalNav.children(selectors.brandingBar)),$brandContent=$brandingBar.find(".koh-brands"),$menuBar=reduceToFirst($globalNav.children(selectors.menuBar)),$menuBarNav=reduceToFirst($menuBar.children(selectors.menuBarNav)),$menuBarSearch=reduceToFirst($menuBar.children(selectors.menuBarSearch)),$menuBarCart=reduceToFirst($menuBar.children(selectors.menuBarCart)),$menuBarNavHeader=reduceToFirst($menuBarNav.find(selectors.menuBarNavHeader)),$navToggle=reduceToFirst($menuBarNavHeader.children(".koh-primary-nav-toggle")),$searchToggle=reduceToFirst($menuBarNavHeader.children(".koh-primary-search-toggle")),$menuBarCartMobile=reduceToFirst($menuBarNavHeader.children(".koh-shopping-cart-menu-mobile")),$globalNavMenu=reduceToFirst($menuBarNav.find(selectors.menuBarNavMenu)),createMobileMenu(),$globalNavComponents=$("<div></div>"),$globalNavComponents.addClass(selectors.globalNavComponents.replace(".","")),$globalNav.wrapInner($globalNavComponents),$globalNavComponents=reduceToFirst($globalNav.children(selectors.globalNavComponents)),$globalNavSpacer=$("<div></div>"),$globalNavSpacer.addClass(selectors.globalNavSpacer.replace(".","")),$globalNav.append($globalNavSpacer),addClickEvents()},resizeNav=function(){isMobile()?(menuBarHeight=$menuBarNavHeader.outerHeight(),brandingBarHeight=0,globalNavHeight=menuBarHeight):(menuBarHeight=$menuBar.outerHeight(),brandingBarHeight=$brandingBar.outerHeight(),globalNavHeight=menuBarHeight+brandingBarHeight,$(".koh-link-company-brand").hasClass("open")&&($brandingBar.addClass("collapsed"),$(".koh-link-company-brand").removeClass("open"),toggleOpen($brandContent,!0),menuBarHeight=$menuBar.outerHeight(),brandingBarHeight=0,globalNavHeight=menuBarHeight+brandingBarHeight)),setNavSpacerHeight(),isMobile()&&resetNavMenuScroll()},scrollNav=function(){var scrollHeight=$(window).scrollTop();scrollHeight>brandingBarHeight?($globalNav.addClass("fixed"),$brandingBar.addClass("collapsed"),$(".koh-link-company-brand").removeClass("open"),$brandContent.removeClass("open").hide(),$brandingBar.height(brandingBarHeight)):($globalNav.removeClass("fixed"),removeInlineCSS($globalNav,"display"),$brandingBar.removeClass("collapsed"),removeInlineCSS($brandingBar,"display"),$brandingBar.height(brandingBarHeight),$(".koh-link-company-brand").removeClass("open"),$brandContent.removeClass("open").hide()),$globalNav.hover(function(e){e.stopPropagation(),e.preventDefault(),!isMobile()&&$(this).hasClass("fixed")&&$brandingBar.hasClass("collapsed")&&($brandingBar.stop().slideDown(),$brandingBar.removeClass("collapsed"))},function(e){e.stopPropagation(),e.preventDefault(),!isMobile()&&$(this).hasClass("fixed")&&!$(".koh-brands").hasClass("open")&&33>brandingBarHeight&&($brandingBar.hasClass("collapsed")||($brandingBar.stop().slideUp(),$brandingBar.addClass("collapsed")))})},createMobileMenu=function(){$brandingBarMobile=$brandingBar.clone(),$brandingBarMobile.removeClass(selectors.brandingBar.replace(".","")),$brandingBarMobile.addClass(selectors.brandingBar.replace(".c-","")+"-mobile"),$brandingBarMobile.addClass("koh-cloned").addClass("koh-mobile-nav"),$brandingBar.addClass("koh-desktop-nav"),$globalNavMenu.append($brandingBarMobile),$menuBarSearchMobile=$menuBarSearch.clone(),$menuBarSearchMobile.removeClass(selectors.menuBarSearch.replace(".","")),$menuBarSearchMobile.addClass(selectors.menuBarSearch.replace(".c-","")+"-mobile"),$menuBarSearchMobile.addClass("koh-cloned").addClass("koh-mobile-nav"),$menuBarSearch.addClass("koh-desktop-nav"),$globalNavMenu.prepend($menuBarSearchMobile),$menuBarCartMobile.addClass("koh-mobile-nav"),$menuBarCart.addClass("koh-desktop-nav")},addClickEvents=function(){$navToggle.click(function(){isMobile()&&toggleOpen($globalNavMenu,!0,function(){resetNavMenuScroll()})}),$searchToggle.click(function(){isMobile()&&($globalNavMenu.hasClass("open")||toggleOpen($globalNavMenu,!0),toggleOpen($menuBarSearchMobile,!0,function(){resetNavMenuScroll(),$menuBarSearchMobile.hasClass("open")||toggleOpen($globalNavMenu,!0)}))}),$brandingBarMobile.find(".koh-link-company-brand").click({target:$brandingBarMobile.find(".koh-brands")},function(e){e.stopPropagation(),e.preventDefault(),isMobile()&&(toggleOpen($(this)),toggleOpen(e.data.target,!0,function(){resetNavMenuScroll()}))}),$brandingBar.find(".koh-link-company-brand").click({target:$brandingBar.find(".koh-brands")},function(e){e.stopPropagation(),e.preventDefault(),isMobile()||toggleOpen(e.data.target,!0)}),$(".koh-brands .worldwide-menu-top").click(function(e){$(this).hasClass("open")?$(this).removeClass("open"):$(this).addClass("open")}),$(".koh-site-search-form").submit(function(e){for(var searchBox=$(".koh-site-search-form #koh-nav-searchbox"),isEmpty=!0,i=0;i<searchBox.length;i++)searchBox[i].value.length>0&&(isEmpty=!1);isEmpty&&e.preventDefault()});var $globalNavMenuOpenables=$globalNavMenu.find(".koh-nav-parents > li").children("a,span,.koh-nav-subnav");$globalNavMenu.find(".koh-nav-parents > li").each(function(){var $navListItem=$(this),$navLink=$navListItem.children("a,span"),$navSubmenu=$navListItem.children(".koh-nav-subnav");$navLink.click({target:$navSubmenu,siblings:$globalNavMenuOpenables},function(e){if(!$navLink.hasClass("single")){e.stopPropagation(),e.preventDefault(),$(".koh-link-company-brand").hasClass("open")&&($brandingBar.addClass("collapsed"),$(".koh-link-company-brand").removeClass("open"),toggleOpen($brandContent,!0));var $siblings=e.data.siblings.not($(this)).not(e.data.target);$siblings.removeClass("open"),$siblings.css("display",""),toggleOpen($(this)),isMobile?toggleOpen(e.data.target,!0,function(){resetNavMenuScroll()}):toggleOpen(e.data.target,!0)}})})},resetNavMenuScroll=function(){var windowHeight=$(window).innerHeight(),bodyHeight=$("body").innerHeight(),navHeight=globalNavHeight;isMobile()?$globalNavMenu.hasClass("open")&&(navHeight+=$globalNavMenu.outerHeight()):($globalNavMenu.hasClass("open")&&(navHeight+=$globalNavMenu.outerHeight()),$brandingBar.hasClass("collapsed")||(navHeight+=$brandingBar.outerHeight())),navHeight>=windowHeight&&!$("body").hasClass("unscrollable")?(windowHeight>=bodyHeight&&$("body").css("overflow","scroll"),$globalNavComponents.addClass("scrollable"),$("body").addClass("unscrollable"),windowHeight>=bodyHeight&&setTimeout(function(){$("body").css("overflow","")},.5)):windowHeight>navHeight&&$("body").hasClass("unscrollable")&&($globalNavComponents.removeClass("scrollable"),$("body").removeClass("unscrollable"))},setNavSpacerHeight=function(){$globalNavSpacer.css("height",globalNavHeight)},reduceToFirst=function($object){var $firstObject=$object.first();return $object.length>1&&$object.slice(1).hide(),$firstObject},isMobile=function(){return"none"!==$navToggle.css("display")},toggleOpen=function($target,animate,callbackAfter){$target.hasClass("open")?($target.selector==$brandContent.selector&&$brandingBar.animate({height:0},800),animate&&$target.slideUp(800,callbackAfter),$target.removeClass("open")):($target.selector==$brandContent.selector&&$brandingBar.animate({height:32+$brandContent.outerHeight()},800),animate&&$target.slideDown(800,callbackAfter),$target.addClass("open"))},removeInlineCSS=function($target,cssProperty){$target.css(cssProperty,""),""===$target.attr("style")&&$target.removeAttr("style")};topButton=$("body").find(".koh-back-top button"),sectionTop=$(topButton).closest("section");var initBackTopButton=function(){if($(topButton).length){var topTarget=sectionTop;$(topButton).click(function(e){e.preventDefault,$(topTarget).length&&$("html, body").animate({scrollTop:$(topTarget).offset().top-80},250)})}},initBackTopDistance=function(){if($(topButton).length){var topDistance=sectionTop.offset().top;$(document).scroll(function(){var y=$(this).scrollTop();y>topDistance?$(topButton).fadeIn():$(topButton).fadeOut()})}};return{initialize:function(){initGlobalNav(),initBackTopButton(),initBackTopDistance()},onResize:function(){resizeNav()},onScroll:function(){scrollNav()}}}(),$(function(){$(document).ready(function(){axKOH.main.headerManager.initialize(),axKOH.main.headerManager.onResize()}),$(window).load(function(){axKOH.main.headerManager.onScroll()}),$(window).resize(function(){axKOH.main.headerManager.onResize()}),$(window).scroll(function(){axKOH.main.headerManager.onScroll()})}),$(".koh-link-language-left").on("click",function(e){e.preventDefault();var url=window.location.href,remeElement=(url.split("/"),window.location.origin,$("#compare-cookie-info-reme")),locale=this.getAttribute("data-locale");addRemeCookie(remeElement,locale),addAlternateFilterCookie(remeElement,locale);var isParent=$(this).hasClass("parent-mount"),currentSiteUrl=$(this).data("current-site-url"),targetSiteUrl=$(this).attr("href");$(this).hasClass("koh-link-language-active")?window.location.href=url:switchLanguage(locale,isParent,currentSiteUrl,targetSiteUrl)}),jQuery(document).ready(function($){var remeElement=$("#compare-cookie-info-reme");"undefined"!==remeElement&&"yes"===remeElement.data("multisite")&&addRemeCookie(remeElement,"")});/*
 * Copyright © 2000-2017 Kohler Company. All Rights Reserved.
 */
var axKOH=axKOH||{};axKOH.utils=axKOH.utils||{},axKOH.utils.socialShare=function(){var houzzID="28925",getURL=function($target){return encodeURI($target.data("share-url")||window.location.href)},getTitle=function($target){var shareTitle=document.getElementById("shareTitle");if(null===shareTitle||"undefined"==shareTitle)return $target.data("share-title")||"";var shareTitleValue=shareTitle.value;return 0!=shareTitleValue.length?shareTitleValue:void 0},getImage=function($target){var shareImage=document.getElementById("shareImage");if(null!==shareImage&&"undefined"!=shareImage){var shareImageValue=shareImage.value;return 0!=shareImageValue.length?shareImageValue:$target.data("share-image")||""}return $target.data("share-image")||""},getDescription=function($target){var shareDescription=document.getElementById("shareDescription");if(null===shareDescription||"undefined"==shareDescription)return $target.data("share-description")||"";var shareDescriptionValue=shareDescription.value.replace(/(<[^>]+?>|<>|<\/>)/gim,"");return 0!=shareDescriptionValue.length?shareDescriptionValue:void 0},getSource=function($target){return $target.data("share-source")||"KOHLER"},getHashtags=function($target){return $target.data("share-hashtags")||""},isVideoShare=function($target){return $target.data("share-video")||"false"},getCategory=function($target){return $target.data("share-category")||""},formatShareLink=function($target,linkTemplate){var formattedLink=linkTemplate;return formattedLink=formattedLink.replace(/{url}/g,getURL($target)),formattedLink=formattedLink.replace(/{title}/g,getTitle($target)),formattedLink=formattedLink.replace(/{img}/g,getImage($target)),formattedLink=formattedLink.replace(/{via}/g,getSource($target)),formattedLink=formattedLink.replace(/{hashtags}/g,getHashtags($target)),formattedLink=formattedLink.replace(/{is_video}/g,isVideoShare($target)),formattedLink=formattedLink.replace(/{category}/g,getCategory($target)),formattedLink=formattedLink.replace(/{description}/g,getDescription($target))},showWindow=function(targetURL,targetProperties){var windowProps="menubar=no,location=yes,resizable=yes,scrollbars=yes,status=no,width={width},height={height},top={top},left={left}";targetProperties&&targetProperties.width&&targetProperties.height&&screen&&screen.height?(windowProps=windowProps.replace(/{width}/g,targetProperties.width),windowProps=windowProps.replace(/{height}/g,targetProperties.height),windowProps=windowProps.replace(/{top}/g,screen.height/2-targetProperties.height/2),windowProps=windowProps.replace(/{left}/g,screen.width/2-targetProperties.width/2),window.open(targetURL,"shareWindow",windowProps).focus()):window.open(targetURL)},shareOnPinterest=function($target){var shareLink=formatShareLink($target,"https://pinterest.com/pin/create/bookmarklet/?media={img}&url={url}&is_video={is_video}&description={title}");showWindow(shareLink,{width:750,height:331})},shareOnHouzz=function($target){$target.addClass("clickedHouzz");var $houzzButton=$target,$houzzButtonContainer=$target.parent(),$houzzFrameContainer=$houzzButtonContainer.find(".koh-houzz-button-target");if($houzzFrameContainer.length<=0&&($houzzButtonContainer.append('<span class="koh-houzz-button-target"></span>'),$houzzFrameContainer=$houzzButtonContainer.find(".koh-houzz-button-target")),$houzzFrameContainer.length>0){$houzzFrameContainer.html("Hello World");var htmlSnippet='<a class="houzz-share-button" data-url="{url}" data-hzid="{houzzID}" data-title="{title}" data-img="{img}" data-desc="{description}" data-category="{category}" data-showcount="0" href="http://www.houzz.com"></a>';htmlSnippet=formatShareLink($target,htmlSnippet),htmlSnippet=htmlSnippet.replace(/{houzzID/g,houzzID),htmlSnippet+='<script>(function(d,s,id){if(!d.getElementById(id)){var js=d.createElement(s);js.id=id;js.async=true;js.src="//platform.houzz.com/js/widgets.js?"+(new Date().getTime());var ss=d.getElementsByTagName(s)[0];ss.parentNode.insertBefore(js,ss);}})(document,"script","houzzwidget-js");</script>',$houzzFrameContainer.html(htmlSnippet),$houzzButton.hide()}},shareOnFacebook=function($target){var image=getImage($target),shareLink="";shareLink=""===image?formatShareLink($target,"https://www.facebook.com/sharer/sharer.php?u={url}&title={title}&description={description}"):formatShareLink($target,"https://www.facebook.com/sharer/sharer.php?u={url}&title={title}&description={description}&picture={img}"),showWindow(shareLink,{width:600,height:270})},shareOnTwitter=function($target){var shareLink=formatShareLink($target,"https://twitter.com/share?url={url}&text={title}");showWindow(shareLink,{width:600,height:440})},shareOnGoogle=function($target){var shareLink=formatShareLink($target,"https://plus.google.com/share?url={url}");showWindow(shareLink,{width:600,height:270})},shareOnEmail=function($target){},initSharePanel=function($sharePanel){var $shareButtons=$sharePanel.find("li > button");$shareButtons.each(function(){var $button=$(this);$button.on("click",function(){$button.hasClass("koh-share-pinterest")?shareOnPinterest($button):$button.hasClass("koh-share-houzz")?shareOnHouzz($button):$button.hasClass("koh-share-facebook")?shareOnFacebook($button):$button.hasClass("koh-share-twitter")?shareOnTwitter($button):$button.hasClass("koh-share-google")?shareOnGoogle($button):$button.hasClass("koh-share-email")?shareOnEmail($button):$button.hasClass("koh-share-showroom")})})},makeTooltip=function($container,$button,$panel,tooltipID,tooltipClass){var panelHTML=$panel.html();"undefined"!=typeof tooltipID?$button.qtip({id:tooltipID,content:{text:$panel},position:{my:"bottom right",at:"center center",container:$container,viewport:!0},show:{event:"click"},hide:{event:"unfocus",fixed:!0},style:{classes:"koh-qtip-popover "+tooltipClass+" qtip-light qtip-shadow",tip:!1},events:{hide:function(){$("#houzzwidget-js")&&(delete window.houzz,delete window.hzmr,$("#houzzwidget-js").remove()),$panel.html(panelHTML),initSharePanel($panel)}}}):$button.qtip({id:tooltipID,content:{text:$panel},position:{my:"top right",at:"center center",viewport:!0},show:{event:"click"},hide:{event:"unfocus",fixed:!0},style:{classes:"koh-qtip-popover "+tooltipClass+" qtip-light qtip-shadow",tip:!1},events:{hide:function(){$("#houzzwidget-js")&&(delete window.houzz,delete window.hzmr,$("#houzzwidget-js").remove()),$panel.html(panelHTML),initSharePanel($panel)}}})};return{initialize:function($panel){initSharePanel($panel)},initAsTooltip:function($container,$button,$panel,tooltipID,tooltipClass){initSharePanel($panel),makeTooltip($container,$button,$panel,tooltipID,tooltipClass)},pinterest:function($target){shareOnPinterest($target)},houzz:function($target){shareOnHouzz($target)},facebook:function($target){shareOnFacebook($target)},twitter:function($target){shareOnTwitter($target)},google:function($target){shareOnGoogle($target)},email:function($target){shareOnEmail($target)}}}();var $socialPageShare=$(".koh-page-share"),$socialPageShareButton=$socialPageShare.children(".koh-page-share-button"),$socialPageSharePanel=$socialPageShare.children(".koh-page-share-popover");axKOH&&axKOH.utils&&axKOH.utils.socialShare&&axKOH.utils.socialShare.initAsTooltip($socialPageShare,$socialPageShareButton,$socialPageSharePanel);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImMta29oLW5hdmlnYXRpb24tYmFyLmpzIiwia29oLWhlYWRlci5qcyIsInV0aWxzLmpzIiwiYy1rb2gtY29tcGFyZS1wYW5lbC5qcyIsImMta29oLWZvb3Rlci1uYXYuanMiLCJrb2gtZ2xvYmFsLW5hdmlnYXRpb24uanMiLCJrb2gtc29jaWFsLXNoYXJpbmcuanMiXSwibmFtZXMiOlsiaGFuZGxlQXV0b1N1Z2dlc3QiLCJldmVudCIsInRleHRJbnB1dCIsImN1cnJlbnRUYXJnZXQiLCJ2YWx1ZSIsImxlbmd0aCIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsInN1YnN0ciIsIiQiLCJnZXRKU09OIiwidmFsIiwiZGF0YSIsInN0YXR1cyIsImdldEJvbGRWYWx1ZSIsInNlYXJjaFRleHQiLCJvcmlnaW5hbCIsInN0YXJ0IiwiZW5kIiwidWwiLCJlbXB0eSIsInN1Z2dlc3Rpb25zIiwiaGlkZSIsImVhY2giLCJuYW1lIiwiYXBwZW5kIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJjaGlsZHJlbiIsImF0dHIiLCJzdWJtaXQiLCJzaG93IiwiY3JlYXRlQ29va2llIiwibWludXRlcyIsImxvY2FsZSIsImV4cGlyZXMiLCJjb29raWUiLCJkYXRlIiwiRGF0ZSIsInNldFRpbWUiLCJnZXRUaW1lIiwidG9VVENTdHJpbmciLCJkb2N1bWVudCIsInN3aXRjaExhbmd1YWdlIiwiaXNQYXJlbnQiLCJjdXJyZW50U2l0ZVVybCIsInRhcmdldFNpdGVVcmwiLCJ1bmRlZmluZWQiLCJnZXRDdXJyZW50VXJsIiwic3BsaXQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJwYXJhbWV0ZXJzIiwic3Vic3RyaW5nIiwiZmluYWxVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50VXJsIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiYXNzaWduIiwiYWRkUmVtZUNvb2tpZSIsInJlbWVFbGVtZW50IiwiY29va2llTmFtZSIsImNvb2tpZVZhbHVlIiwiZHVyYXRpb25NaW51dGVzIiwiYWRkQWx0ZXJuYXRlRmlsdGVyQ29va2llIiwiYWx0ZXJuYXRlRmlsdGVyQ29va2llTmFtZSIsImF4S09IIiwidXRpbHMiLCJvYmpUb1N0cmluZyIsIm9iaiIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWJ1Z0xvZyIsImNvbnRlbnQiLCJ0b2dnbGVDbGFzcyIsIiRlbGVtZW50IiwiY2xhc3NOYW1lIiwiYWRkSXQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiaGlkZUVsZW1lbnQiLCJoaWRlSXQiLCJoaWRlQ2xhc3MiLCJvcGVuTWVudSIsIm9wZW5JdCIsIm9wZW5DbGFzcyIsImRpc2FibGVMaW5rcyIsImVsZW1lbnQiLCJmaW5kIiwiY2xpY2siLCJzdG9wVmlkZW9zIiwiaWZyYW1lIiwicXVlcnlTZWxlY3RvciIsInZpZGVvIiwiaWZyYW1lU3JjIiwic3JjIiwicGF1c2UiLCJtYWluIiwiY29tcG9uZW50TWFuYWdlciIsImNvbXBhcmVQYW5lbCIsImNvbXBvbmVudENsYXNzIiwiaW5pdENvbXBvbmVudHMiLCJpbml0Q29tcGFyZU1vZGFsIiwiJGNvbXBvbmVudHMiLCJjb21wb25lbnRJbmRleCIsIiRjb21wb25lbnQiLCJ0aGlzIiwicmVtb2RhbElEIiwiJGJ1dHRvbiIsIiRwYW5lbCIsImluaXRBc01vZGFsIiwiaW5pdENvbG9yT3ZlcmxheXMiLCIkY29tcGFyZVByb2R1Y3RzIiwiJHByb2R1Y3QiLCJwcmVwZW5kIiwiJHJlbW9kYWxQYW5lbCIsInJlbW9kYWwiLCJoYXNoVHJhY2tpbmciLCJjbG9zZU9uQ2FuY2VsIiwiY2xvc2VPbkVzY2FwZSIsImNsb3NlT25PdXRzaWRlQ2xpY2siLCJtb2RpZmllciIsInRhcmdldCIsInN0b3BQcm9wYWdhdGlvbiIsIiR0YXJnZXQiLCJvcGVuIiwiaW5pdEFzTW9kYWxBbmRPcGVuIiwiJGNvbG9yU3dhdGNoZXMiLCJzd2F0Y2hJbmRleCIsIiRjb2xvclN3YXRjaCIsIiRjb2xvckxhYmVsIiwicXRpcCIsImlkIiwidGV4dCIsInBvc2l0aW9uIiwibXkiLCJhdCIsImFkanVzdCIsInkiLCJzdHlsZSIsImNsYXNzZXMiLCJ0aXAiLCJpbml0Q29tcGFyZVBhbmVsIiwicmVtb3ZlTW9kYWxQcm9kdWN0IiwicHJvZHVjdCIsImNvb2tpZUNvbnRlbnQiLCJ1cmkiLCJpdGVtbm8iLCJnZXRDb29raWUiLCJyZW1vdmUiLCJwcm9kdWN0cyIsInZhbHVlcyIsImNhdGVnb3J5IiwiaW5kZXgiLCJ0b1N0cmluZyIsInNwbGljZSIsImpvaW4iLCJkZWxldGVDb29raWUiLCJjbG9zZXN0IiwicmVtb3ZlUHJvZHVjdFRleHQiLCJhamF4IiwidXJsIiwiY2FjaGUiLCJzdWNjZXNzIiwiaHRtbCIsImRvbmUiLCJyZWxvYWRBbmRPcGVuTW9kYWwiLCJmYWlsIiwibmFtZUVRIiwiY2EiLCJpIiwiYyIsImNoYXJBdCIsImFkZFByb2R1Y3RUZXh0IiwiaGFzQ2xhc3MiLCJzZXRUaW1lb3V0IiwicmVsb2FkTW9kYWwiLCJzaXplIiwid2lkdGgiLCJwcm9kdWN0RGV0YWlsc2xpbmsiLCJncmlkSW1hZ2VQcm9kdWN0VXJsIiwiZ3JpZEltYWdlTmV3UHJvZHVjdFVybCIsImNvbXBhcmVQYW5lbFByb2R1Y3RzIiwiY29tcGFyZUJ1dHRvbkxhYmxlIiwiY29tcGFyZUNsZWFyUmVzdWx0cyIsImRlZmF1bHRDYXRlZ29yeUtleSIsIml0ZW1Ob011bHRpQW5zY2VzdG9ycyIsImNvbXBhcmVNYXhJdGVtc051bWJlciIsImNvbXBhcmVNYXhJdGVtc01lc3NhZ2UiLCJjb21wYXJlRGlmZkNhdGVnb3J5TWVzc2FnZSIsImZsYWdFeGlzdHMiLCJwdXNoIiwiciIsImNvbmZpcm0iLCJhbGVydCIsIml0ZW1OdW1iZXJzIiwiaXNOYU4iLCJkZWZhdWx0Q2F0ZWdvcnkiLCJpdGVtTnVtYmVyIiwicHJvZHVjdEltYWdlVXJsIiwiaXRlbXMiLCJpc05ldyIsIm11bHRpQW5jZXN0b3JlZmF1bHRDYXRlZ29yeURhdGEiLCJodG1sRGF0YSIsImRlZmF1bHRTa3UiLCJmYW1pbHkiLCJkZXNjcmlwdGlvbiIsImNvbXBhcmVMaW5rIiwiaHRtbE1haW5EYXRhIiwiY291bnQiLCJjb29raWVzVmFsdWUiLCJsYXN0IiwiaXRlbU11bHRpQW5jZXN0b3JzIiwicGFyZW50IiwiZWxlbSIsImNvb2tpZVByb2R1Y3RDb3VudCIsImNvbXBhcmVMaW5rVXJsIiwibGlzdGluZ1BhZ2VVcmwiLCJhZGRFdmVudExpc3RlbmVyIiwicGVyc2lzdGVkIiwicGVyZm9ybWFuY2UiLCJuYXZpZ2F0aW9uIiwidHlwZSIsImlzSUVCcm93c2VyIiwicmVsb2FkIiwiaW5pdGlhbGl6ZSIsIm9uTG9hZCIsInJlYWR5IiwibG9hZCIsImNvbXBhcmVIVE1MIiwiYWRqdXN0Um93SGVpZ2h0cyIsIm51bVJvd3MiLCJtYXhDZWxsSGVpZ2h0IiwibnVtQ29scyIsIiRyb3ciLCIkY2VsbCIsImhlaWdodCIsIm5hdmlnYXRvciIsImFwcE5hbWUiLCJ1c2VyQWdlbnQiLCJtYXRjaCIsImJyb3dzZXIiLCJtc2llIiwiZm9vdGVyTWFuYWdlciIsImluaXRGb290ZXJOYXYiLCIkbmF2SXRlbXNDb250YWluZXIiLCIkbmF2U2VjdGlvbnMiLCIkbmF2U2VjdGlvblRpdGxlc0NvbGxlY3Rpb24iLCIkbmF2U2VjdGlvbkl0ZW1zQ29sbGVjdGlvbiIsIiRuYXZTZWN0aW9uIiwiJG5hdlNlY3Rpb25UaXRsZSIsIiRuYXZTZWN0aW9uSXRlbXMiLCJuZXh0IiwibmF2VGFyZ2V0IiwibmF2U2libGluZ3MiLCJuYXZTaWJsaW5nVGl0bGVzIiwiJG5hdlRhcmdldFRpdGxlIiwiJG5hdlRhcmdldCIsIiRuYXZTaWJsaW5ncyIsIiRuYXZTaWJsaW5nVGl0bGVzIiwic2xpZGVVcCIsInNsaWRlRG93biIsImluaXQiLCJ0aHJvdHRsZVNjcm9sbCIsIl8iLCJ0aHJvdHRsZSIsInNjcm9sbFRvVG9wIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsInNjcm9sbCIsImNzcyIsInJlc2l6ZSIsImhlYWRlck1hbmFnZXIiLCJzZWxlY3RvcnMiLCJnbG9iYWxOYXYiLCJnbG9iYWxOYXZDb21wb25lbnRzIiwiZ2xvYmFsTmF2U3BhY2VyIiwiYnJhbmRpbmdCYXIiLCJicmFuZENvbnRlbnQiLCJtZW51QmFyIiwibWVudUJhck5hdiIsIm1lbnVCYXJTZWFyY2giLCJtZW51QmFyQ2FydCIsIm1lbnVCYXJOYXZIZWFkZXIiLCJtZW51QmFyTmF2TWVudSIsInRvcEJ1dHRvbiIsIiRnbG9iYWxOYXYiLCIkZ2xvYmFsTmF2TWVudSIsIiRnbG9iYWxOYXZDb21wb25lbnRzIiwiJGdsb2JhbE5hdlNwYWNlciIsIiRicmFuZGluZ0JhciIsIiRicmFuZENvbnRlbnQiLCIkYnJhbmRpbmdCYXJNb2JpbGUiLCIkbWVudUJhciIsIiRtZW51QmFyTmF2IiwiJG1lbnVCYXJTZWFyY2giLCIkbWVudUJhclNlYXJjaE1vYmlsZSIsIiRtZW51QmFyQ2FydCIsIiRtZW51QmFyQ2FydE1vYmlsZSIsIiRtZW51QmFyTmF2SGVhZGVyIiwiJG5hdlRvZ2dsZSIsIiRzZWFyY2hUb2dnbGUiLCJnbG9iYWxOYXZIZWlnaHQiLCJtZW51QmFySGVpZ2h0IiwiYnJhbmRpbmdCYXJIZWlnaHQiLCJpbml0R2xvYmFsTmF2IiwicmVkdWNlVG9GaXJzdCIsImNyZWF0ZU1vYmlsZU1lbnUiLCJ3cmFwSW5uZXIiLCJhZGRDbGlja0V2ZW50cyIsInJlc2l6ZU5hdiIsImlzTW9iaWxlIiwib3V0ZXJIZWlnaHQiLCJ0b2dnbGVPcGVuIiwic2V0TmF2U3BhY2VySGVpZ2h0IiwicmVzZXROYXZNZW51U2Nyb2xsIiwic2Nyb2xsTmF2Iiwic2Nyb2xsSGVpZ2h0IiwicmVtb3ZlSW5saW5lQ1NTIiwiaG92ZXIiLCJzdG9wIiwiY2xvbmUiLCJzZWFyY2hCb3giLCJpc0VtcHR5IiwiJGdsb2JhbE5hdk1lbnVPcGVuYWJsZXMiLCIkbmF2TGlzdEl0ZW0iLCIkbmF2TGluayIsIiRuYXZTdWJtZW51Iiwic2libGluZ3MiLCIkc2libGluZ3MiLCJub3QiLCJ3aW5kb3dIZWlnaHQiLCJpbm5lckhlaWdodCIsImJvZHlIZWlnaHQiLCJuYXZIZWlnaHQiLCIkb2JqZWN0IiwiJGZpcnN0T2JqZWN0IiwiZmlyc3QiLCJzbGljZSIsImNhbGxiYWNrQWZ0ZXIiLCJzZWxlY3RvciIsImNzc1Byb3BlcnR5IiwicmVtb3ZlQXR0ciIsInNlY3Rpb25Ub3AiLCJpbml0QmFja1RvcEJ1dHRvbiIsInRvcFRhcmdldCIsIm9mZnNldCIsInRvcCIsImluaXRCYWNrVG9wRGlzdGFuY2UiLCJ0b3BEaXN0YW5jZSIsImZhZGVJbiIsImZhZGVPdXQiLCJvblJlc2l6ZSIsIm9uU2Nyb2xsIiwib3JpZ2luIiwiZ2V0QXR0cmlidXRlIiwialF1ZXJ5Iiwic29jaWFsU2hhcmUiLCJob3V6eklEIiwiZ2V0VVJMIiwiZW5jb2RlVVJJIiwiZ2V0VGl0bGUiLCJzaGFyZVRpdGxlIiwiZ2V0RWxlbWVudEJ5SWQiLCJzaGFyZVRpdGxlVmFsdWUiLCJnZXRJbWFnZSIsInNoYXJlSW1hZ2UiLCJzaGFyZUltYWdlVmFsdWUiLCJnZXREZXNjcmlwdGlvbiIsInNoYXJlRGVzY3JpcHRpb24iLCJzaGFyZURlc2NyaXB0aW9uVmFsdWUiLCJnZXRTb3VyY2UiLCJnZXRIYXNodGFncyIsImlzVmlkZW9TaGFyZSIsImdldENhdGVnb3J5IiwiZm9ybWF0U2hhcmVMaW5rIiwibGlua1RlbXBsYXRlIiwiZm9ybWF0dGVkTGluayIsInNob3dXaW5kb3ciLCJ0YXJnZXRVUkwiLCJ0YXJnZXRQcm9wZXJ0aWVzIiwid2luZG93UHJvcHMiLCJzY3JlZW4iLCJmb2N1cyIsInNoYXJlT25QaW50ZXJlc3QiLCJzaGFyZUxpbmsiLCJzaGFyZU9uSG91enoiLCIkaG91enpCdXR0b24iLCIkaG91enpCdXR0b25Db250YWluZXIiLCIkaG91enpGcmFtZUNvbnRhaW5lciIsImh0bWxTbmlwcGV0Iiwic2hhcmVPbkZhY2Vib29rIiwiaW1hZ2UiLCJzaGFyZU9uVHdpdHRlciIsInNoYXJlT25Hb29nbGUiLCJzaGFyZU9uRW1haWwiLCJpbml0U2hhcmVQYW5lbCIsIiRzaGFyZVBhbmVsIiwiJHNoYXJlQnV0dG9ucyIsIm1ha2VUb29sdGlwIiwiJGNvbnRhaW5lciIsInRvb2x0aXBJRCIsInRvb2x0aXBDbGFzcyIsInBhbmVsSFRNTCIsImNvbnRhaW5lciIsInZpZXdwb3J0IiwiZml4ZWQiLCJldmVudHMiLCJob3V6eiIsImh6bXIiLCJpbml0QXNUb29sdGlwIiwicGludGVyZXN0IiwiZmFjZWJvb2siLCJ0d2l0dGVyIiwiZ29vZ2xlIiwiZW1haWwiLCIkc29jaWFsUGFnZVNoYXJlIiwiJHNvY2lhbFBhZ2VTaGFyZUJ1dHRvbiIsIiRzb2NpYWxQYWdlU2hhcmVQYW5lbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBSUEsUUFBQUEsbUJBQUFDLE9BQ0EsR0FBQUMsV0FBQUQsTUFBQUUsY0FBQUMsS0FDQSxJQUFBRixVQUFBRyxPQUFBLEdBQUEsR0FBQUgsVUFBQUksY0FBQUMsUUFBQSxNQUFBLENBQ0EsR0FBQSxHQUFBTCxVQUFBSSxjQUFBQyxRQUFBLE1BQUEsQ0FDQSxHQUFBRixRQUFBSCxVQUFBRyxNQUNBSCxXQUFBQSxVQUFBTSxPQUFBLEVBQUFILFFBRUFJLEVBQUFDLFFBQUFELEVBQUEsaUNBQUFFLE1BQUEsTUFBQVQsVUFBQSxTQUFBVSxLQUFBQyxRQUNBLFFBQUFDLGNBQUFDLFdBQUFDLFVBQ0EsR0FBQUEsU0FBQVYsY0FBQUMsUUFBQVEsV0FBQVQsZUFBQSxHQUFBLENBQ0EsR0FBQVcsT0FBQUQsU0FBQVYsY0FBQUMsUUFBQVEsV0FBQVQsZUFDQVksSUFBQUgsV0FBQVYsTUFDQSxPQUFBVyxVQUFBUixPQUFBLEVBQUFTLE9BQUEsU0FBQUQsU0FBQVIsT0FBQVMsTUFBQUMsS0FBQSxVQUFBRixTQUFBUixPQUFBUyxNQUFBQyxJQUFBRixTQUFBWCxRQUVBLE1BQUFXLFVBRUEsR0FBQSxXQUFBSCxPQUFBLENBQ0EsR0FBQU0sSUFBQVYsRUFBQSwwRUFDQVUsSUFBQUMsUUFDQSxjQUFBUixLQUFBUyxhQUFBLEdBQUFULEtBQUFTLFlBQUFoQixPQUNBSSxFQUFBLG9DQUFBYSxRQUVBYixFQUFBYyxLQUFBWCxLQUFBUyxZQUFBLFNBQUFHLEtBQUFw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QyxPQUFBdUQsS0FBQStPLFdBQ0FQLGVBQUEvUixZQUtBRCxRQUFBdUIsTUFDQUMsR0FBQTZRLFVBQ0F4VSxTQUNBNEQsS0FBQXhCLFFBRUF5QixVQUNBQyxHQUFBLFlBQ0FDLEdBQUEsZ0JBQ0E2USxVQUFBLEdBRUF6WCxNQUNBL0IsTUFBQSxTQUVBcUIsTUFDQXJCLE1BQUEsVUFDQXlaLE9BQUEsR0FFQTNRLE9BQ0FDLFFBQUEsb0JBQUFzUSxhQUFBLDBCQUNBclEsS0FBQSxHQUVBMFEsUUFDQXJZLEtBQUEsV0FFQWIsRUFBQSwyQkFDQTBDLFFBQUF5VyxZQUNBelcsUUFBQTBXLEtBQ0FwWixFQUFBLG1CQUFBZ0osVUFJQXhDLE9BQUF1RCxLQUFBK08sV0FDQVAsZUFBQS9SLFlBU0EsUUFDQW9ILFdBQUEsU0FBQXBILFFBQ0ErUixlQUFBL1IsU0FFQTZTLGNBQUEsU0FBQVYsV0FBQXBTLFFBQUFDLE9BQUFvUyxVQUFBQyxjQUNBTixlQUFBL1IsUUFDQWtTLFlBQUFDLFdBQUFwUyxRQUFBQyxPQUFBb1MsVUFBQUMsZUFFQVMsVUFBQSxTQUFBL1IsU0FDQW9RLGlCQUFBcFEsVUFFQTRSLE1BQUEsU0FBQTVSLFNBQ0FzUSxhQUFBdFEsVUFFQWdTLFNBQUEsU0FBQWhTLFNBQ0EyUSxnQkFBQTNRLFVBRUFpUyxRQUFBLFNBQUFqUyxTQUNBNlEsZUFBQTdRLFVBRUFrUyxPQUFBLFNBQUFsUyxTQUNBOFEsY0FBQTlRLFVBRUFtUyxNQUFBLFNBQUFuUyxTQUNBK1EsYUFBQS9RLGFBUUEsSUFBQW9TLGtCQUFBM1osRUFBQSxtQkFDQTRaLHVCQUFBRCxpQkFBQXZZLFNBQUEsMEJBQ0F5WSxzQkFBQUYsaUJBQUF2WSxTQUFBLDBCQUNBeUMsUUFBQUEsTUFBQUMsT0FBQUQsTUFBQUMsTUFBQWtTLGFBQUFuUyxNQUNBQyxNQUNBa1MsWUFDQXFELGNBQUFNLGlCQUFBQyx1QkFBQUMiLCJmaWxlIjoia29oLW1hc3Rlci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBDb3B5cmlnaHQgwqkgMjAwMC0yMDE3IEtvaGxlciBDb21wYW55LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUF1dG9TdWdnZXN0KGV2ZW50KSB7XHJcbiAgICB2YXIgdGV4dElucHV0ID0gZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZTtcclxuICAgIGlmICh0ZXh0SW5wdXQubGVuZ3RoID4gMiB8fCAwID09IHRleHRJbnB1dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJrLVwiKSkge1xyXG5cdFx0IGlmICgwID09IHRleHRJbnB1dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJrLVwiKSkge1xyXG5cdFx0XHRcdHZhciBsZW5ndGggPSB0ZXh0SW5wdXQubGVuZ3RoO1xyXG5cdFx0XHRcdHRleHRJbnB1dCA9IHRleHRJbnB1dC5zdWJzdHIoMiwgbGVuZ3RoKTtcclxuXHRcdH1cclxuICAgICAgICAkLmdldEpTT04oJChcIi5rb2gtcHJpbWFyeS1uYXYtc3VnZ2VzdC1saW5rXCIpLnZhbCgpICsgXCI/cT1cIiArIHRleHRJbnB1dCwgZnVuY3Rpb24oZGF0YSwgc3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEJvbGRWYWx1ZShzZWFyY2hUZXh0LCBvcmlnaW5hbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCkpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBvcmlnaW5hbC50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc2VhcmNoVGV4dC50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gc2VhcmNoVGV4dC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLnN1YnN0cigwLCBzdGFydCkgKyBcIjxtYXJrPlwiICsgb3JpZ2luYWwuc3Vic3RyKHN0YXJ0LCBlbmQpICsgXCI8L21hcms+XCIgKyBvcmlnaW5hbC5zdWJzdHIoc3RhcnQgKyBlbmQsIG9yaWdpbmFsLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFwic3VjY2Vzc1wiID09IHN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVsID0gJChcImRpdiNzZWFyY2gtc3VnZ2VzdGlvbnMtY29udGFpbmVyID4gZGl2LnNlYXJjaC1zdWdnZXN0aW9ucy1zY3JvbGxlciA+IHVsXCIpO1xyXG4gICAgICAgICAgICAgICAgdWwuZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Z2dlc3Rpb25zID09PSAndW5kZWZpbmVkJyB8fCBkYXRhLnN1Z2dlc3Rpb25zLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcImRpdiNzZWFyY2gtc3VnZ2VzdGlvbnMtY29udGFpbmVyXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGRhdGEuc3VnZ2VzdGlvbnMsIGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXHQvKnZhciBkaXNwbGF5VmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5VmFsdWUgPSBkaXNwbGF5VmFsdWUucmVwbGFjZShcIihSKVwiLFwiPHN1cD4mcmVnOzwvc3VwPlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBcdCAgZGlzcGxheVZhbHVlID0gZGlzcGxheVZhbHVlLnJlcGxhY2UoXCIoVE0pXCIsXCI8c3VwPiZ0cmFkZTs8L3N1cD5cIik7Ki9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdWwuYXBwZW5kKCQoXCI8bGkgY2xhc3M9XFxcInN1Z2dlc3Rpb24taXRlbVxcXCI+PGEgIGhyZWY9XFxcIlwiICsgdmFsdWUgKyBcIlxcXCI+XCIgKyBnZXRCb2xkVmFsdWUodGV4dElucHV0LCB2YWx1ZSkgKyBcIjwvYT48L2xpPlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuc3VnZ2VzdGlvbi1pdGVtXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIja29oLW5hdi1zZWFyY2hib3hcIikudmFsKCQoJChlLmN1cnJlbnRUYXJnZXQpLmNoaWxkcmVuKClbMF0pLmF0dHIoXCJocmVmXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtc2l0ZS1zZWFyY2gtZm9ybVwiKVswXS5zdWJtaXQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJChcImRpdiNzZWFyY2gtc3VnZ2VzdGlvbnMtY29udGFpbmVyXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCJkaXYjc2VhcmNoLXN1Z2dlc3Rpb25zLWNvbnRhaW5lclwiKS5oaWRlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgJChcIiNrb2gtbmF2LXNlYXJjaGJveFwiKS5vbihcImtleXVwXCIsIGhhbmRsZUF1dG9TdWdnZXN0KTtcclxufSk7XHJcblxyXG4kKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xyXG4gICAgJChcIiNrb2gtbmF2LXNlYXJjaGJveFwiKS5vbihcImtleXVwXCIsIGhhbmRsZUF1dG9TdWdnZXN0KTtcclxufSk7XHJcblxyXG4kKHdpbmRvdykubG9hZChmdW5jdGlvbigpIHtcclxuICAgICQoXCIja29oLW5hdi1zZWFyY2hib3hcIikub24oXCJrZXl1cFwiLCBoYW5kbGVBdXRvU3VnZ2VzdCk7XHJcbiAgICAkKCdib2R5JykuY3NzKCdwb2ludGVyLWV2ZW50cycsJ2FsbCcpO1xyXG59KTtcclxuIiwiLypcclxuICogQ29weXJpZ2h0IMKpIDIwMDAtMjAxNyBLb2hsZXIgQ29tcGFueS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUNvb2tpZShuYW1lLCB2YWx1ZSwgbWludXRlcywgbG9jYWxlKSB7XHJcbiAgICB2YXIgZXhwaXJlcyA9IFwiXCIsXHJcbiAgICAgICAgY29va2llID0gXCJcIjtcclxuICAgIGlmIChtaW51dGVzKSB7XHJcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZTtcclxuICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyA2MCAqIG1pbnV0ZXMgKiAxZTMpLFxyXG4gICAgICAgICAgICBleHBpcmVzID0gXCJleHBpcmVzPVwiICsgZGF0ZS50b1VUQ1N0cmluZygpXHJcbiAgICB9XHJcbiAgICBjb29raWUgPSBuYW1lICsgXCI9XCIgKyB2YWx1ZSArIFwiOyBcIiArIGV4cGlyZXMgKyBcIjsgcGF0aD0vXCIgKyBcIjtcIjtcclxuICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZVxyXG59XHJcblxyXG5mdW5jdGlvbiBzd2l0Y2hMYW5ndWFnZSAobG9jYWxlLCBpc1BhcmVudCwgY3VycmVudFNpdGVVcmwsIHRhcmdldFNpdGVVcmwpIHtcclxuXHQvLyBDb2RlIGZvciBrZWVwaW5nIHRoZSBzYW1lIHVybCB3aGlsZSBzd2l0Y2hpbmcgdGhlIGxhbmd1YWdlXHJcbiAgICBpZiAobG9jYWxlICE9ICcnICYmIGxvY2FsZSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YXIgZ2V0TGFuZ3VhZ2VDb2RlID0gbG9jYWxlLnNwbGl0KCdfJylbMF07XHJcbiAgICAgICAgdmFyIGdldEN1cnJlbnRVcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcclxuICAgICAgICB2YXIgcGFyYW1ldGVycyA9ICcnO1xyXG4gICAgICAgIGlmIChnZXRDdXJyZW50VXJsLmluZGV4T2YoJz8nKSA+IDApIHtcclxuICAgICAgICBcdHBhcmFtZXRlcnMgPSBnZXRDdXJyZW50VXJsLnN1YnN0cmluZyAoZ2V0Q3VycmVudFVybC5pbmRleE9mKFwiP1wiKSwgZ2V0Q3VycmVudFVybC5sZW5ndGgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1BhcmVudCkge1xyXG4gICAgICAgIFx0dmFyIGZpbmFsVXJsID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgd2luZG93LmxvY2F0aW9uLmhvc3Q7XHJcbiAgICAgICAgXHR2YXIgY3VycmVudFVybCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcclxuICAgICAgICBcdGlmIChjdXJyZW50VXJsID09PSBjdXJyZW50U2l0ZVVybCkge1xyXG4gICAgICAgIFx0XHRmaW5hbFVybCA9IGZpbmFsVXJsICsgY3VycmVudFVybC5yZXBsYWNlKGN1cnJlbnRTaXRlVXJsLCB0YXJnZXRTaXRlVXJsKTtcclxuICAgICAgICBcdH0gZWxzZSB7XHJcbiAgICAgICAgXHRcdGZpbmFsVXJsID0gZmluYWxVcmwgKyBjdXJyZW50VXJsLnJlcGxhY2UoY3VycmVudFNpdGVVcmwgKyBcIi9cIiwgdGFyZ2V0U2l0ZVVybCk7XHJcbiAgICAgICAgXHR9XHJcbiAgICAgICAgXHRmaW5hbFVybCA9IGZpbmFsVXJsICsgcGFyYW1ldGVycztcclxuICAgICAgICBcdGxvY2F0aW9uLmFzc2lnbihmaW5hbFVybCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICBcdHZhciBmaW5hbFVybCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xyXG4gICAgICAgIFx0dmFyIGN1cnJlbnRVcmwgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XHJcbiAgICAgICAgXHRpZiAoY3VycmVudFVybCA9PT0gY3VycmVudFNpdGVVcmwpIHtcclxuICAgICAgICBcdFx0ZmluYWxVcmwgPSBmaW5hbFVybCArIGN1cnJlbnRVcmwucmVwbGFjZShjdXJyZW50U2l0ZVVybCwgdGFyZ2V0U2l0ZVVybCk7XHJcbiAgICAgICAgXHR9IGVsc2UgaWYgKGN1cnJlbnRVcmwgPT09IGN1cnJlbnRTaXRlVXJsICsgXCIvXCIpIHtcclxuICAgICAgICBcdFx0ZmluYWxVcmwgPSBmaW5hbFVybCArIGN1cnJlbnRVcmwucmVwbGFjZShjdXJyZW50U2l0ZVVybCArIFwiL1wiLCB0YXJnZXRTaXRlVXJsKTtcclxuICAgICAgICBcdH0gZWxzZSBpZiAoY3VycmVudFVybC5pbmRleE9mIChjdXJyZW50U2l0ZVVybCkgPT09IDApIHtcclxuICAgICAgICBcdFx0aWYgKHRhcmdldFNpdGVVcmwgPT09IFwiL1wiKSB7XHJcbiAgICAgICAgXHRcdFx0ZmluYWxVcmwgPSBmaW5hbFVybCArIGN1cnJlbnRVcmwucmVwbGFjZShjdXJyZW50U2l0ZVVybCArIFwiL1wiLCB0YXJnZXRTaXRlVXJsKTtcclxuICAgICAgICBcdFx0fSBlbHNlIHtcclxuICAgICAgICBcdFx0XHRmaW5hbFVybCA9IGZpbmFsVXJsICsgY3VycmVudFVybC5yZXBsYWNlKGN1cnJlbnRTaXRlVXJsLCB0YXJnZXRTaXRlVXJsICsgXCIvXCIpO1xyXG4gICAgICAgIFx0XHR9XHJcbiAgICAgICAgXHR9XHJcbiAgICAgICAgXHRmaW5hbFVybCA9IGZpbmFsVXJsICsgcGFyYW1ldGVycztcclxuICAgICAgICBcdGxvY2F0aW9uLmFzc2lnbihmaW5hbFVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGFkZFJlbWVDb29raWUocmVtZUVsZW1lbnQsIGxvY2FsZSkge1xyXG4gICAgdmFyIGNvb2tpZU5hbWUgPSByZW1lRWxlbWVudC5kYXRhKFwiY29va2llLW5hbWVcIik7XHJcbiAgICB2YXIgY29va2llVmFsdWUgPSByZW1lRWxlbWVudC5kYXRhKFwiY29va2llLXZhbHVlXCIpO1xyXG4gICAgaWYgKGxvY2FsZSAhPT0gJycpIHtcclxuICAgICAgICBjb29raWVWYWx1ZSA9IGxvY2FsZTtcclxuICAgIH1cclxuICAgIHZhciBkdXJhdGlvbk1pbnV0ZXMgPSByZW1lRWxlbWVudC5kYXRhKFwiY29va2llLWR1cmF0aW9uXCIpO1xyXG4gICAgdmFyIGV4cGlyZXMgPSBcIlwiLFxyXG4gICAgICAgIGNvb2tpZSA9IFwiXCI7XHJcbiAgICBpZiAoZHVyYXRpb25NaW51dGVzID09PSBudWxsIHx8IGR1cmF0aW9uTWludXRlcyA9PT0gJycpIHtcclxuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlO1xyXG4gICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIDYwICogZHVyYXRpb25NaW51dGVzICogMWUzKSxcclxuICAgICAgICAgICAgZXhwaXJlcyA9IFwiZXhwaXJlcz1cIiArIGRhdGUudG9VVENTdHJpbmcoKVxyXG4gICAgfVxyXG4gICAgY3JlYXRlQ29va2llKGNvb2tpZU5hbWUsIGNvb2tpZVZhbHVlLCBkdXJhdGlvbk1pbnV0ZXMsIGxvY2FsZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEFsdGVybmF0ZUZpbHRlckNvb2tpZSAocmVtZUVsZW1lbnQsIGxvY2FsZSkge1xyXG4gICAgLy9hbHRlcm5hdGVfZmlsdGVyX2Nvb2tpZV9uYW1lXHJcbiAgICB2YXIgYWx0ZXJuYXRlRmlsdGVyQ29va2llTmFtZSA9IHJlbWVFbGVtZW50LmRhdGEoXCJhbHRlcm5hdGVfZmlsdGVyX2Nvb2tpZV9uYW1lXCIpO1xyXG4gICAgY3JlYXRlQ29va2llKGFsdGVybmF0ZUZpbHRlckNvb2tpZU5hbWUsIFwiWUVTXCIsIDIsIGxvY2FsZSk7XHJcbn1cclxuXHJcbiQoJy5rb2gtbGluay1sYW5ndWFnZS1sZWZ0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG4gICAgdmFyIHNwbGl0ZWRVcmwgPSB1cmwuc3BsaXQoJy8nKTtcclxuICAgIHZhciBvcmkgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luOyAvLyBHZXR0aW5nIHJvb3QgVVJMXHJcbiAgICB2YXIgcmVtZUVsZW1lbnQgPSAkKCcjY29tcGFyZS1jb29raWUtaW5mby1yZW1lJyk7XHJcbiAgICB2YXIgbG9jYWxlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtbG9jYWxlJyk7XHJcbiAgICBhZGRSZW1lQ29va2llKHJlbWVFbGVtZW50LCBsb2NhbGUpO1xyXG4gICAgYWRkQWx0ZXJuYXRlRmlsdGVyQ29va2llIChyZW1lRWxlbWVudCwgbG9jYWxlKTtcclxuICAgIHZhciBpc1BhcmVudCA9ICQodGhpcykuaGFzQ2xhc3MoXCJwYXJlbnQtbW91bnRcIik7XHJcbiAgICB2YXIgY3VycmVudFNpdGVVcmwgPSAkKHRoaXMpLmRhdGEoXCJjdXJyZW50LXNpdGUtdXJsXCIpO1xyXG4gICAgdmFyIHRhcmdldFNpdGVVcmwgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxuICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwia29oLWxpbmstbGFuZ3VhZ2UtYWN0aXZlXCIpKSB7XHJcbiAgICBcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gICAgfSBlbHNlIHtcclxuICAgIFx0c3dpdGNoTGFuZ3VhZ2UgKGxvY2FsZSwgaXNQYXJlbnQsIGN1cnJlbnRTaXRlVXJsLCB0YXJnZXRTaXRlVXJsKTtcclxuICAgIH1cclxufSlcclxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XHJcbiAgICB2YXIgcmVtZUVsZW1lbnQgPSAkKCcjY29tcGFyZS1jb29raWUtaW5mby1yZW1lJyk7XHJcbiAgICBpZiAocmVtZUVsZW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgaWYgKHJlbWVFbGVtZW50LmRhdGEoXCJtdWx0aXNpdGVcIikgPT09ICd5ZXMnKSB7XHJcbiAgICAgICAgICAgIGFkZFJlbWVDb29raWUocmVtZUVsZW1lbnQsICcnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pOyIsIi8qXHJcbiAqIENvcHlyaWdodCDCqSAyMDAwLTIwMTcgS29obGVyIENvbXBhbnkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbiAqL1xyXG5cclxudmFyIGF4S09IID0gYXhLT0ggfHwge307XHJcblxyXG5heEtPSC51dGlscyA9IGF4S09ILnV0aWxzIHx8IHt9O1xyXG5cclxuLy8gSGFuZHkgdXRpbGl0eSBmdW5jdGlvbiBmb3IgcHJldHR5LXByaW50aW5nIGFuIG9iamVjdFxyXG5heEtPSC51dGlscy5vYmpUb1N0cmluZyA9IGZ1bmN0aW9uKG9iaikge1xyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgNCk7XHJcbn07XHJcblxyXG4vLyBGdW5jdGlvbiBmb3IgbG9nZ2luZyBzbyBpdCBjYW4gYmUgdHVybmVkIG9uL29mZiBlYXNpbHlcclxuYXhLT0gudXRpbHMuZGVidWdMb2cgPSBmdW5jdGlvbihjb250ZW50KSB7XHJcbiAgICAvKmlmIChjb25zb2xlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coY29udGVudCk7XHJcbiAgICB9Ki9cclxufTtcclxuXHJcbmF4S09ILnV0aWxzLnRvZ2dsZUNsYXNzID0gZnVuY3Rpb24oJGVsZW1lbnQsIGNsYXNzTmFtZSwgYWRkSXQpIHtcclxuICAgIGlmIChhZGRJdCkge1xyXG4gICAgICAgICRlbGVtZW50LmFkZENsYXNzKGNsYXNzTmFtZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICRlbGVtZW50LnJlbW92ZUNsYXNzKGNsYXNzTmFtZSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5heEtPSC51dGlscy5oaWRlRWxlbWVudCA9IGZ1bmN0aW9uKCRlbGVtZW50LCBoaWRlSXQpIHtcclxuICAgIHZhciBoaWRlQ2xhc3MgPSBcImhpZGRlblwiO1xyXG4gICAgYXhLT0gudXRpbHMudG9nZ2xlQ2xhc3MoJGVsZW1lbnQsIGhpZGVDbGFzcywgaGlkZUl0KTtcclxufTtcclxuXHJcbmF4S09ILnV0aWxzLm9wZW5NZW51ID0gZnVuY3Rpb24oJGVsZW1lbnQsIG9wZW5JdCkge1xyXG4gICAgdmFyIG9wZW5DbGFzcyA9IFwib3BlblwiO1xyXG4gICAgYXhLT0gudXRpbHMudG9nZ2xlQ2xhc3MoJGVsZW1lbnQsIG9wZW5DbGFzcywgb3Blbkl0KTtcclxufTtcclxuXHJcbmF4S09ILnV0aWxzLmRpc2FibGVMaW5rcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIGVsZW1lbnQuZmluZCgnYScpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuYXhLT0gudXRpbHMuc3RvcFZpZGVvcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIHZhciBpZnJhbWUgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZScpO1xyXG4gICAgdmFyIHZpZGVvID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCd2aWRlbycpO1xyXG4gICAgaWYgKGlmcmFtZSAhPT0gbnVsbCkge1xyXG4gICAgICAgIHZhciBpZnJhbWVTcmMgPSBpZnJhbWUuc3JjO1xyXG4gICAgICAgIGlmcmFtZS5zcmMgPSBpZnJhbWVTcmM7XHJcbiAgICB9XHJcbiAgICBpZiAodmlkZW8gIT09IG51bGwpIHtcclxuICAgICAgICB2aWRlby5wYXVzZSgpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuIiwiLypcclxuICogQ29weXJpZ2h0IMKpIDIwMDAtMjAxNyBLb2hsZXIgQ29tcGFueS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuICovXHJcbiBcclxuLy8gSmF2YXNjcmlwdCBOYW1lc3BhY2luZyBzZXR1cFxyXG52YXIgYXhLT0ggPSBheEtPSCB8fCB7fTtcclxuYXhLT0gubWFpbiA9IGF4S09ILm1haW4gfHwge307XHJcbmF4S09ILm1haW4uY29tcG9uZW50TWFuYWdlciA9IGF4S09ILm1haW4uY29tcG9uZW50TWFuYWdlciB8fCB7fTtcclxuYXhLT0gubWFpbi5jb21wb25lbnRNYW5hZ2VyLmNvbXBhcmVQYW5lbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjb21wb25lbnRDbGFzcyA9IFwiYy1rb2gtY29tcGFyZS1wYW5lbFwiO1xyXG4gICAgdmFyIGluaXRDb21wb25lbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAvKnZhciAkY29tcG9uZW50cyA9ICQoXCIuXCIrY29tcG9uZW50Q2xhc3MpO1xyXG5cclxuICAgICAgICAkY29tcG9uZW50cy5lYWNoKCBmdW5jdGlvbihjb21wb25lbnRJbmRleCkge1xyXG4gICAgICAgIFx0dmFyICRjb21wb25lbnQgPSAkKHRoaXMpO1xyXG4gICAgICAgIFx0dmFyICRwYW5lbFRvZ2dsZSBcdD0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1jb21wYXJlLXRvZ2dsZVwiKTtcclxuICAgICAgICBcdHZhciAkcGFuZWxJdGVtcyBcdD0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1jb21wYXJlLWl0ZW1zXCIpO1xyXG5cclxuICAgICAgICBcdCRwYW5lbFRvZ2dsZS5jbGljayggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgXHRcdCRwYW5lbEl0ZW1zLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgXHRcdCQodGhpcykudG9nZ2xlQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICBcdH0pO1xyXG5cclxuICAgICAgICB9KTsqL1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgaW5pdENvbXBhcmVNb2RhbCA9IGZ1bmN0aW9uICgkY29tcG9uZW50cykge1xyXG4gICAgICAgICRjb21wb25lbnRzXHJcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uIChjb21wb25lbnRJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgdmFyICRjb21wb25lbnQgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlbW9kYWxJRCA9IFwiQ29tcGFyZU1vZGFsXCIgKyBjb21wb25lbnRJbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAkYnV0dG9uID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1jb21wYXJlLXBhbmVsLWJ1dHRvblwiKSxcclxuICAgICAgICAgICAgICAgICAgICAkcGFuZWwgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLWNvbXBhcmUtcGFuZWwtbW9kYWxcIik7XHJcbiAgICAgICAgICAgICAgICBpbml0QXNNb2RhbCgkYnV0dG9uLCAkcGFuZWwsIHJlbW9kYWxJRCksXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdENvbG9yT3ZlcmxheXMoKTtcclxuICAgICAgICAgICAgICAgIHZhciAkY29tcGFyZVByb2R1Y3RzID0gJChcIi5jLWtvaC1jb21wYXJlLXByb2R1Y3RzXCIpLmZpbmQoXCIua29oLWNvbXBhcmUtcHJvZHVjdFwiKTtcclxuICAgICAgICAgICAgICAgICRjb21wYXJlUHJvZHVjdHMuZWFjaChmdW5jdGlvbiAoY29tcG9uZW50SW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgJHByb2R1Y3QgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYnV0dG9uID0gJHByb2R1Y3QuZmluZChcIi5rb2gtY29tcGFyZS1wcm9kdWN0LXJlcXVpcmVkLWJ1dHRvblwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHBhbmVsID0gJHByb2R1Y3QuZmluZChcIi5rb2gtY29tcGFyZS1yZXF1aXJlZC1wcm9kdWN0cy1wYW5lbFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb2RhbElEID0gXCJSZXF1aXJlZENvbXBhcmVJdGVtc1wiICsgY29tcG9uZW50SW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdEFzTW9kYWwoJGJ1dHRvbiwgJHBhbmVsLCByZW1vZGFsSUQpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgaW5pdEFzTW9kYWwgPSBmdW5jdGlvbiAoJGJ1dHRvbiwgJHBhbmVsLCByZW1vZGFsSUQpIHtcclxuICAgICAgICAkcGFuZWwuZGF0YShcInJlbW9kYWwtaWRcIiwgcmVtb2RhbElEKSxcclxuICAgICAgICAgICAgJHBhbmVsLnByZXBlbmQoJzxidXR0b24gZGF0YS1yZW1vZGFsLWFjdGlvbj1cImNsb3NlXCIgY2xhc3M9XCJyZW1vZGFsLWNsb3NlXCI+PC9idXR0b24+JyksXHJcbiAgICAgICAgICAgICRwYW5lbC5hdHRyKFwiZGF0YS1rb2gtY29tcG9uZW50XCIsIGNvbXBvbmVudENsYXNzKSxcclxuICAgICAgICAgICAgJHBhbmVsLmFkZENsYXNzKGNvbXBvbmVudENsYXNzICsgXCItbW9kYWxcIik7XHJcbiAgICAgICAgdmFyICRyZW1vZGFsUGFuZWwgPSAkcGFuZWwucmVtb2RhbCh7XHJcbiAgICAgICAgICAgIGhhc2hUcmFja2luZzogdHJ1ZSxcclxuICAgICAgICAgICAgY2xvc2VPbkNhbmNlbDogdHJ1ZSxcclxuICAgICAgICAgICAgY2xvc2VPbkVzY2FwZTogdHJ1ZSxcclxuICAgICAgICAgICAgY2xvc2VPbk91dHNpZGVDbGljazogdHJ1ZSxcclxuICAgICAgICAgICAgbW9kaWZpZXI6IFwiXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICAkYnV0dG9uLmRhdGEoXCJyZW1vZGFsLXRhcmdldFwiLCByZW1vZGFsSUQpLFxyXG4gICAgICAgICAgICAkYnV0dG9uLmNsaWNrKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJHJlbW9kYWxQYW5lbFxyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgJHRhcmdldCA9IGUuZGF0YS50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICAkdGFyZ2V0Lm9wZW4oKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgaW5pdEFzTW9kYWxBbmRPcGVuID0gZnVuY3Rpb24gKCRidXR0b24sICRwYW5lbCwgcmVtb2RhbElEKSB7XHJcbiAgICAgICAgJHBhbmVsLmRhdGEoXCJyZW1vZGFsLWlkXCIsIHJlbW9kYWxJRCksXHJcbiAgICAgICAgICAgICRwYW5lbC5wcmVwZW5kKCc8YnV0dG9uIGRhdGEtcmVtb2RhbC1hY3Rpb249XCJjbG9zZVwiIGNsYXNzPVwicmVtb2RhbC1jbG9zZVwiPjwvYnV0dG9uPicpLFxyXG4gICAgICAgICAgICAkcGFuZWwuYXR0cihcImRhdGEta29oLWNvbXBvbmVudFwiLCBjb21wb25lbnRDbGFzcyksXHJcbiAgICAgICAgICAgICRwYW5lbC5hZGRDbGFzcyhjb21wb25lbnRDbGFzcyArIFwiLW1vZGFsXCIpO1xyXG4gICAgICAgIHZhciAkcmVtb2RhbFBhbmVsID0gJHBhbmVsXHJcbiAgICAgICAgICAgIC5yZW1vZGFsKHtcclxuICAgICAgICAgICAgICAgIGhhc2hUcmFja2luZzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNsb3NlT25DYW5jZWw6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjbG9zZU9uRXNjYXBlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY2xvc2VPbk91dHNpZGVDbGljazogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1vZGlmaWVyOiBcIlwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vcGVuKCk7XHJcbiAgICAgICAgJGJ1dHRvbi5kYXRhKFwicmVtb2RhbC10YXJnZXRcIiwgcmVtb2RhbElEKSxcclxuICAgICAgICAgICAgJGJ1dHRvbi5jbGljayh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICRyZW1vZGFsUGFuZWxcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKSxcclxuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdmFyICR0YXJnZXQgPSBlLmRhdGEudGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgJHRhcmdldC5vcGVuKClcclxuICAgICAgICAgICAgfSlcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGluaXRDb2xvck92ZXJsYXlzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciAkY29sb3JTd2F0Y2hlcyA9ICQoXCIuY29tcGFyZUNvbG9yU3dhdGNoXCIpO1xyXG4gICAgICAgICRjb2xvclN3YXRjaGVzLmVhY2goZnVuY3Rpb24gKHN3YXRjaEluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciAkY29sb3JTd2F0Y2ggPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgJGNvbG9yTGFiZWwgPSAkY29sb3JTd2F0Y2guYXR0cihcImFsdFwiKTtcclxuICAgICAgICAgICAgJGNvbG9yU3dhdGNoLnF0aXAoe1xyXG4gICAgICAgICAgICAgICAgaWQ6IFwic3dhdGNoXCIgKyBzd2F0Y2hJbmRleCxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAkY29sb3JMYWJlbFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbXk6IFwidG9wIGxlZnRcIixcclxuICAgICAgICAgICAgICAgICAgICBhdDogXCJib3R0b20gbGVmdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFkanVzdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiA2XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogXCJrb2gtcXRpcC10b29sdGlwIGtvaC1wcm9kdWN0LWRldGFpbC10b29sdGlwIHF0aXAtYm9vdHN0cmFwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGlwOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBpbml0Q29tcGFyZVBhbmVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZU1vZGFsUHJvZHVjdChldmVudCwgcHJvZHVjdCkge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB2YXIgY29va2llQ29udGVudCxcclxuICAgICAgICAgICAgICAgIHVyaSA9IHByb2R1Y3QuYXR0cihcImhyZWZcIiksXHJcbiAgICAgICAgICAgICAgICBpdGVtbm8gPSBwcm9kdWN0LmRhdGEoXCJwcm9kdWN0LWl0ZW1ub1wiKSxcclxuICAgICAgICAgICAgICAgIGNvb2tpZU5hbWUgPSAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1uYW1lXCIpLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb25NaW51dGVzID0gJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtZHVyYXRpb25cIiksXHJcbiAgICAgICAgICAgICAgICBjb29raWUgPSBnZXRDb29raWUoY29va2llTmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChudWxsID09PSBjb29raWUgfHwgXCJcIiA9PT0gY29va2llKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgJChcIi5jLWtvaC1jb21wYXJlLXBhbmVsXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB2YXIgcHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBjb29raWUuc3BsaXQoXCIuXCIpLFxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSB2YWx1ZXNbMF07XHJcbiAgICAgICAgICAgIHZhbHVlcy5sZW5ndGggPiAxICYmIChwcm9kdWN0cyA9IHZhbHVlc1sxXS5zcGxpdChcInxcIikpO1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwcm9kdWN0cy5pbmRleE9mKGl0ZW1uby50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgaWYgKHByb2R1Y3RzLnNwbGljZShpbmRleCwgMSksIGNvb2tpZUNvbnRlbnQgPSBjYXRlZ29yeSArIFwiLlwiICsgcHJvZHVjdHMuam9pbihcInxcIiksIGRlbGV0ZUNvb2tpZShjb29raWVOYW1lKSwgIShwcm9kdWN0cy5sZW5ndGggPiAwKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiAkKFwiLmMta29oLWNvbXBhcmUtcGFuZWxcIikucmVtb3ZlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ29va2llKGNvb2tpZU5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIHZvaWQgY3JlYXRlQ29va2llKGNvb2tpZU5hbWUsIFwiXCIsIGR1cmF0aW9uTWludXRlcyk7XHJcbiAgICAgICAgICAgIGNyZWF0ZUNvb2tpZShjb29raWVOYW1lLCBjb29raWVDb250ZW50LCBkdXJhdGlvbk1pbnV0ZXMpLFxyXG4gICAgICAgICAgICAgICAgcHJvZHVjdFxyXG4gICAgICAgICAgICAgICAgLmNsb3Nlc3QoXCIua29oLWNvbXBhcmUtcHJvZHVjdFwiKVxyXG4gICAgICAgICAgICAgICAgLnJlbW92ZSgpLFxyXG4gICAgICAgICAgICAgICAgJChcIi5jLWtvaC1jb21wYXJlLXByb2R1Y3RzXCIpXHJcbiAgICAgICAgICAgICAgICAuZmluZChcIi5rb2gtY29tcGFyZS1yZW1vdmVcIilcclxuICAgICAgICAgICAgICAgIC5yZW1vdmUoKSxcclxuICAgICAgICAgICAgICAgIHJlbW92ZVByb2R1Y3RUZXh0KHByb2R1Y3QpO1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogdXJpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2NvbXBhcmVQYW5lbFwiKS5odG1sKGRhdGEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1pdGVtc1wiKS5hZGRDbGFzcyhcIm9wZW5cIilcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbG9hZEFuZE9wZW5Nb2RhbCgpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmZhaWwoZnVuY3Rpb24gKCkge30pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKmZ1bmN0aW9uIGNyZWF0ZUNvb2tpZShuYW1lLCB2YWx1ZSwgbWludXRlcykge1xyXG4gICAgICAgICAgICB2YXIgZXhwaXJlcyA9IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBjb29raWUgPSBcIlwiO1xyXG4gICAgICAgICAgICBpZiAobWludXRlcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZTtcclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIDYwICogbWludXRlcyAqIDFlMyksXHJcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlcyA9IFwiZXhwaXJlcz1cIiArIGRhdGUudG9VVENTdHJpbmcoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvb2tpZSA9IG5hbWUgKyBcIj1cIiArIHZhbHVlICsgXCI7IFwiICsgZXhwaXJlcyArIFwiOyBwYXRoPS9cIixcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZVxyXG4gICAgICAgIH0qL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRDb29raWUobmFtZSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBuYW1lRVEgPSBuYW1lICsgXCI9XCIsIGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KFwiO1wiKSwgaSA9IGNhLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjID0gY2FbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIgPT09IGMuY2hhckF0KDApOylcclxuICAgICAgICAgICAgICAgICAgICBjID0gYy5zdWJzdHJpbmcoMSwgYy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKDAgPT09IGMuaW5kZXhPZihuYW1lRVEpKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjLnN1YnN0cmluZyhuYW1lRVEubGVuZ3RoLCBjLmxlbmd0aClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlQ29va2llKG5hbWUpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArIFwiPTsgZXhwaXJlcz1UaHUsIDAxLUphbi03MCAwMDowMDowMSBHTVQ7XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZFByb2R1Y3RUZXh0KCRwYW5lbCkge1xyXG4gICAgICAgICAgICAkKFwiLmFkZF9cIiArICRwYW5lbC5kYXRhKFwicHJvZHVjdC1pdGVtbm9cIikpLmNsb3Nlc3QoXCIua29oLXByb2R1Y3QtdG9vbHNcIikuYWRkQ2xhc3MoXCJwcm9kdWN0LWFkZGVkXCIpO1xyXG4gICAgICAgICAgICAkKFwiLmFkZF9cIiArICRwYW5lbC5kYXRhKFwicHJvZHVjdC1pdGVtbm9cIikpLmNsb3Nlc3QoXCIua29oLXByb2R1Y3QtdGlsZVwiKS5hZGRDbGFzcyhcInByb2R1Y3QtYWRkZWRcIik7XHJcbiAgICAgICAgICAgICRwYW5lbC5oYXNDbGFzcyhcImtvaC1jb21wYXJlLWJ1dHRvbi1xdWlja3ZpZXdcIikgJiYgKCRwYW5lbC5jbG9zZXN0KFwiLmtvaC1wcm9kdWN0LXF1aWNrLXZpZXctcGFuZWxcIikuYWRkQ2xhc3MoXCJwcm9kdWN0LWFkZGVkXCIpLCAkKFwiZGl2W2RhdGEtbW9kYWwtbGluaz0nXCIgKyAkcGFuZWwuY2xvc2VzdChcIi5rb2gtcHJvZHVjdC1xdWljay12aWV3LXBhbmVsXCIpLmF0dHIoXCJpZFwiKSArIFwiJ11cIikuYWRkQ2xhc3MoXCJwcm9kdWN0LWFkZGVkXCIpKSxcclxuICAgICAgICAgICAgICAgICRwYW5lbC5oYXNDbGFzcyhcImtvaC1jb21wYXJlLWJ1dHRvbi10aWxlXCIpICYmICgkcGFuZWwuY2xvc2VzdChcIi5rb2gtcHJvZHVjdC10aWxlXCIpLmFkZENsYXNzKFwicHJvZHVjdC1hZGRlZFwiKSwgJChcIiNcIiArICRwYW5lbC5jbG9zZXN0KFwiLmtvaC1wcm9kdWN0LXRpbGVcIikuYXR0cihcImRhdGEtbW9kYWwtbGlua1wiKSkuYWRkQ2xhc3MoXCJwcm9kdWN0LWFkZGVkXCIpLCAkKFwiLmtvaC1wcm9kdWN0LWRldGFpbHNcIikuZmluZChcIi5rb2gtcHJvZHVjdC10b29sc1wiKS5hZGRDbGFzcyhcInByb2R1Y3QtYWRkZWRcIikpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVQcm9kdWN0VGV4dCgkcGFuZWwpIHtcclxuICAgICAgICAgICAgJChcIi5yZW1vdmVfXCIgKyAkcGFuZWwuZGF0YShcInByb2R1Y3QtaXRlbW5vXCIpKS5jbG9zZXN0KFwiLmtvaC1wcm9kdWN0LXRvb2xzXCIpLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1hZGRlZFwiKTtcclxuICAgICAgICAgICAgJChcIi5yZW1vdmVfXCIgKyAkcGFuZWwuZGF0YShcInByb2R1Y3QtaXRlbW5vXCIpKS5jbG9zZXN0KFwiLmtvaC1wcm9kdWN0LXRpbGVcIikucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWFkZGVkXCIpO1xyXG4gICAgICAgICAgICAkcGFuZWwuaGFzQ2xhc3MoXCJrb2gtY29tcGFyZS1idXR0b24tcXVpY2t2aWV3XCIpICYmICgkcGFuZWwuY2xvc2VzdChcIi5rb2gtcHJvZHVjdC1xdWljay12aWV3LXBhbmVsXCIpLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1hZGRlZFwiKSwgJChcImRpdltkYXRhLW1vZGFsLWxpbms9J1wiICsgJHBhbmVsLmNsb3Nlc3QoXCIua29oLXByb2R1Y3QtcXVpY2stdmlldy1wYW5lbFwiKS5hdHRyKFwiaWRcIikgKyBcIiddXCIpLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1hZGRlZFwiKSksXHJcbiAgICAgICAgICAgICAgICAkcGFuZWwuaGFzQ2xhc3MoXCJrb2gtY29tcGFyZS1idXR0b24tdGlsZVwiKSAmJiAoJHBhbmVsLmNsb3Nlc3QoXCIua29oLXByb2R1Y3QtdGlsZVwiKS5yZW1vdmVDbGFzcyhcInByb2R1Y3QtYWRkZWRcIiksICQoXCIjXCIgKyAkcGFuZWwuY2xvc2VzdChcIi5rb2gtcHJvZHVjdC10aWxlXCIpLmF0dHIoXCJkYXRhLW1vZGFsLWxpbmtcIikpLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1hZGRlZFwiKSksXHJcbiAgICAgICAgICAgICAgICAkcGFuZWwuaGFzQ2xhc3MoXCJrb2gtY29tcGFyZS1yZW1vdmUtbW9kYWxcIikgJiYgKCQoXCJkaXZbZGF0YS1tb2RhbC1saW5rPSdRdWlja1ZpZXdcIiArICRwYW5lbC5hdHRyKFwiZGF0YS1wcm9kdWN0LWl0ZW1ub1wiKSArIFwiJ11cIikucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWFkZGVkXCIpLCAkKFwiI1F1aWNrVmlld1wiICsgJHBhbmVsLmF0dHIoXCJkYXRhLXByb2R1Y3QtaXRlbW5vXCIpKS5yZW1vdmVDbGFzcyhcInByb2R1Y3QtYWRkZWRcIiksICQoXCIua29oLXByb2R1Y3QtZGV0YWlsc1wiKS5maW5kKFwiLmtvaC1wcm9kdWN0LXRvb2xzXCIpLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1hZGRlZFwiKSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKFwiLmMta29oLXByb2R1Y3QtZmFjZXRlZC1zZWFyY2gtbW9kYWwgLmtvaC1jb21wYXJlLWFkZFwiKVxyXG4gICAgICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtbm8gPSAoJCh0aGlzKS5hdHRyKFwiaHJlZlwiKSwgJCh0aGlzKS5kYXRhKFwicHJvZHVjdC1pdGVtbm9cIikpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29raWVOYW1lID0gJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtbmFtZVwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29va2llID0gKCQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLWR1cmF0aW9uXCIpLCAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1tYXgtaXRlbXMtbnVtYmVyXCIpLCAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1tYXgtaXRlbXMtbWVzc2FnZVwiKSwgJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtZGlmZi1jYXRlZ29yeS1tZXNzYWdlXCIpLCAkKFwiI2NhdGVnb3J5LWluZm9cIikuZGF0YShcImNvb2tpZS1jYXRlZ29yeS1wcm9kdWN0XCIpLCBnZXRDb29raWUoY29va2llTmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSBjb29raWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGNvb2tpZS5zcGxpdChcIi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1swXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlc1sxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2R1Y3RzID0gdmFsdWVzWzFdLnNwbGl0KFwifFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qZm9yIChpIGluIHByb2R1Y3RzKSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1tpXSA9PSBpdGVtbm8gJiYgJCh0aGlzKS5hZGRDbGFzcyhcImFkZGVkXCIpKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSwgMWUzKTtcclxuXHJcbiAgICAgICAgdmFyIHJlbG9hZE1vZGFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgJGNvbXBvbmVudHMgPSAkKFwiLlwiICsgY29tcG9uZW50Q2xhc3MpO1xyXG4gICAgICAgICAgICAkY29tcG9uZW50cy5lYWNoKGZ1bmN0aW9uIChjb21wb25lbnRJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgdmFyICRjb21wb25lbnQgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlbW9kYWxJRCA9IFwiQ29tcGFyZU1vZGFsXCIgKyBjb21wb25lbnRJbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAkYnV0dG9uID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1jb21wYXJlLXBhbmVsLWJ1dHRvblwiKSxcclxuICAgICAgICAgICAgICAgICAgICAkcGFuZWwgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLWNvbXBhcmUtcGFuZWwtbW9kYWxcIik7XHJcbiAgICAgICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLXBhbmVsLW1vZGFsXCIpLnJlbW92ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRBc01vZGFsKCRidXR0b24sICRwYW5lbCwgcmVtb2RhbElEKSxcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmMta29oLWNvbXBhcmUtcHJvZHVjdHNcIikub24oXCJjbGlja1wiLCBcIi5rb2gtY29tcGFyZS1yZW1vdmUtbW9kYWxcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU1vZGFsUHJvZHVjdChldmVudCwgJCh0aGlzKSlcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICAyID09ICQoXCIua29oLWNvbXBhcmUtcHJvZHVjdFwiKS5zaXplKCkgP1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIua29oLWNvbXBhcmUtcHJvZHVjdFwiKS53aWR0aChcIjUwJVwiKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1wcm9kdWN0XCIpLndpZHRoKFwiMzMuMzMzMyVcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdENvbG9yT3ZlcmxheXMoKTtcclxuICAgICAgICAgICAgICAgIHZhciAkY29tcGFyZVByb2R1Y3RzID0gJChcIi5jLWtvaC1jb21wYXJlLXByb2R1Y3RzXCIpLmZpbmQoXCIua29oLWNvbXBhcmUtcHJvZHVjdFwiKTtcclxuICAgICAgICAgICAgICAgICRjb21wYXJlUHJvZHVjdHMuZWFjaChmdW5jdGlvbiAoY29tcG9uZW50SW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgJHByb2R1Y3QgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYnV0dG9uID0gJHByb2R1Y3QuZmluZChcIi5rb2gtY29tcGFyZS1wcm9kdWN0LXJlcXVpcmVkLWJ1dHRvblwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHBhbmVsID0gJHByb2R1Y3QuZmluZChcIi5rb2gtY29tcGFyZS1yZXF1aXJlZC1wcm9kdWN0cy1wYW5lbFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb2RhbElEID0gXCJSZXF1aXJlZENvbXBhcmVJdGVtc1wiICsgY29tcG9uZW50SW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdEFzTW9kYWwoJGJ1dHRvbiwgJHBhbmVsLCByZW1vZGFsSUQpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciByZWxvYWRBbmRPcGVuTW9kYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciAkY29tcG9uZW50cyA9ICQoXCIuXCIgKyBjb21wb25lbnRDbGFzcyk7XHJcbiAgICAgICAgICAgICRjb21wb25lbnRzLmVhY2goZnVuY3Rpb24gKGNvbXBvbmVudEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGNvbXBvbmVudCA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb2RhbElEID0gXCJDb21wYXJlTW9kYWxcIiArIGNvbXBvbmVudEluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICRidXR0b24gPSAkY29tcG9uZW50LmZpbmQoXCIua29oLWNvbXBhcmUtcGFuZWwtYnV0dG9uXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICRwYW5lbCA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtY29tcGFyZS1wYW5lbC1tb2RhbFwiKTtcclxuICAgICAgICAgICAgICAgICQoXCIua29oLWNvbXBhcmUtcGFuZWwtbW9kYWxcIikucmVtb3ZlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdEFzTW9kYWwoJGJ1dHRvbiwgJHBhbmVsLCByZW1vZGFsSUQpLFxyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuYy1rb2gtY29tcGFyZS1wcm9kdWN0c1wiKS5vbihcImNsaWNrXCIsIFwiLmtvaC1jb21wYXJlLXJlbW92ZS1tb2RhbFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTW9kYWxQcm9kdWN0KGV2ZW50LCAkKHRoaXMpKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIDIgPT0gJChcIi5rb2gtY29tcGFyZS1wcm9kdWN0XCIpLnNpemUoKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1wcm9kdWN0XCIpLndpZHRoKFwiNTAlXCIpIDpcclxuICAgICAgICAgICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLXByb2R1Y3RcIikud2lkdGgoXCIzMy4zMzMzJVwiKTtcclxuICAgICAgICAgICAgICAgIHZhciAkY29tcGFyZVByb2R1Y3RzID0gJChcIi5jLWtvaC1jb21wYXJlLXByb2R1Y3RzXCIpLmZpbmQoXCIua29oLWNvbXBhcmUtcHJvZHVjdFwiKTtcclxuICAgICAgICAgICAgICAgICRjb21wYXJlUHJvZHVjdHMuZWFjaChmdW5jdGlvbiAoY29tcG9uZW50SW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgJHByb2R1Y3QgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYnV0dG9uID0gJHByb2R1Y3QuZmluZChcIi5rb2gtY29tcGFyZS1wcm9kdWN0LXJlcXVpcmVkLWJ1dHRvblwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHBhbmVsID0gJHByb2R1Y3QuZmluZChcIi5rb2gtY29tcGFyZS1yZXF1aXJlZC1wcm9kdWN0cy1wYW5lbFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb2RhbElEID0gXCJSZXF1aXJlZENvbXBhcmVJdGVtc1wiICsgY29tcG9uZW50SW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdEFzTW9kYWxBbmRPcGVuKCRidXR0b24sICRwYW5lbCwgcmVtb2RhbElEKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkKFwiYm9keVwiKS5vbihcImNsaWNrXCIsIFwiLmtvaC1jb21wYXJlLWFkZFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdmFyIHByb2R1Y3REZXRhaWxzbGluayA9ICQoJyNwcm9kdWN0RGV0YWlsc2xpbmsnKS52YWwoKTtcclxuICAgICAgICAgICAgdmFyIGdyaWRJbWFnZVByb2R1Y3RVcmwgPSAkKCcjZ3JpZEltYWdlUHJvZHVjdFVybCcpLnZhbCgpO1xyXG4gICAgICAgICAgICB2YXIgZ3JpZEltYWdlTmV3UHJvZHVjdFVybCA9ICQoJyNncmlkSW1hZ2VOZXdQcm9kdWN0VXJsJykudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciBjb21wYXJlUGFuZWxQcm9kdWN0cyA9ICQoJyNjb21wYXJlUGFuZWxQcm9kdWN0cycpLnZhbCgpO1xyXG4gICAgICAgICAgICB2YXIgY29tcGFyZUJ1dHRvbkxhYmxlID0gJCgnI2NvbXBhcmVCdXR0b25MYWJsZScpLnZhbCgpO1xyXG4gICAgICAgICAgICB2YXIgY29tcGFyZUNsZWFyUmVzdWx0cyA9ICQoJyNjb21wYXJlQ2xlYXJSZXN1bHQnKS52YWwoKTtcclxuICAgICAgICAgICAgdmFyIGNvb2tpZUNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICB1cmkgPSAkKHRoaXMpLmRhdGEoXCJocmVmXCIpLFxyXG4gICAgICAgICAgICAgICAgaXRlbW5vID0gJCh0aGlzKS5kYXRhKFwicHJvZHVjdC1pdGVtbm9cIiksXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnlLZXkgPSAkKHRoaXMpLmRhdGEoXCJjYXRlZ29yeVwiKSxcclxuICAgICAgICAgICAgICAgIGl0ZW1Ob011bHRpQW5zY2VzdG9ycyA9ICQodGhpcykuZGF0YShcInByb2R1Y3QtaXRlbW5vLW11bHRpYW5zY2VzdG9yc1wiKSxcclxuICAgICAgICAgICAgICAgIGNvb2tpZU5hbWUgPSAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1uYW1lXCIpLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb25NaW51dGVzID0gJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtZHVyYXRpb25cIiksXHJcbiAgICAgICAgICAgICAgICBjb21wYXJlTWF4SXRlbXNOdW1iZXIgPSAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1tYXgtaXRlbXMtbnVtYmVyXCIpLFxyXG4gICAgICAgICAgICAgICAgY29tcGFyZU1heEl0ZW1zTWVzc2FnZSA9ICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLW1heC1pdGVtcy1tZXNzYWdlXCIpLFxyXG4gICAgICAgICAgICAgICAgY29tcGFyZURpZmZDYXRlZ29yeU1lc3NhZ2UgPSAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1kaWZmLWNhdGVnb3J5LW1lc3NhZ2VcIiksXHJcbiAgICAgICAgICAgICAgICBjb29raWUgPSBnZXRDb29raWUoY29va2llTmFtZSksXHJcbiAgICAgICAgICAgICAgICBjb29raWVQcm9kdWN0Q291bnQgPSAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1wcm9kdWN0X2NvdW50XCIpLFxyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHMgPSBcIlwiO1xyXG4gICAgICAgICAgICBpZiAobnVsbCA9PT0gY29va2llIHx8IFwiXCIgPT09IGNvb2tpZSkge1xyXG4gICAgICAgICAgICAgICAgY29va2llQ29udGVudCA9IGRlZmF1bHRDYXRlZ29yeUtleSArIFwiLlwiICsgaXRlbU5vTXVsdGlBbnNjZXN0b3JzLFxyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNvb2tpZShjb29raWVOYW1lLCBjb29raWVDb250ZW50LCBkdXJhdGlvbk1pbnV0ZXMpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFkZFByb2R1Y3RUZXh0KCQodGhpcykpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGNvb2tpZS5zcGxpdChcIi5cIiksXHJcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSB2YWx1ZXNbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHMgPSB2YWx1ZXNbMV0uc3BsaXQoXCJ8XCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGZsYWdFeGlzdHMgPSBmYWxzZTtcclxuXHQgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnkgPT09IGRlZmF1bHRDYXRlZ29yeUtleSkge1xyXG4gICAgICAgICAgICAgICAgXHRmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XHJcblx0ICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdHNbaV0udG9TdHJpbmcoKSA9PT0gaXRlbU5vTXVsdGlBbnNjZXN0b3JzLnRvU3RyaW5nKCkpIHtcclxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblx0ICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcdH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGZsYWdFeGlzdHMgfHwgcHJvZHVjdHMucHVzaChpdGVtTm9NdWx0aUFuc2Nlc3RvcnMpLCBkZWZhdWx0Q2F0ZWdvcnlLZXkgIT0gY2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgciA9IGNvbmZpcm0oY29tcGFyZURpZmZDYXRlZ29yeU1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIua29oLWNvbXBhcmUtaXRlbVwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5wcm9kdWN0LWFkZGVkXCIpLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1hZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ29va2llKGNvb2tpZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29raWVDb250ZW50ID0gZGVmYXVsdENhdGVnb3J5S2V5ICsgXCIuXCIgKyBpdGVtTm9NdWx0aUFuc2Nlc3RvcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNvb2tpZShjb29raWVOYW1lLCBjb29raWVDb250ZW50LCBkdXJhdGlvbk1pbnV0ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRQcm9kdWN0VGV4dCgkKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHMgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyQoXCIua29oLXByb2R1Y3QtdG9vbHNcIikucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb29raWVDb250ZW50ID0gY2F0ZWdvcnkgKyBcIi5cIiArIHByb2R1Y3RzLmpvaW4oXCJ8XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIFx0XHRpZiAocHJvZHVjdHMubGVuZ3RoID4gY29tcGFyZU1heEl0ZW1zTnVtYmVyKSB7XHRcdFxyXG4gICAgICAgIFx0XHRcdCByZW1vdmVQcm9kdWN0VGV4dCgkKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsZXJ0KGNvbXBhcmVNYXhJdGVtc01lc3NhZ2UpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIFx0XHRkZWZhdWx0Q2F0ZWdvcnlLZXkgPT0gY2F0ZWdvcnkgJiYgcHJvZHVjdHMubGVuZ3RoIDw9IGNvbXBhcmVNYXhJdGVtc051bWJlciAmJiBhZGRQcm9kdWN0VGV4dCgkKHRoaXMpKSxcclxuICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ29va2llKGNvb2tpZU5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICBjcmVhdGVDb29raWUoY29va2llTmFtZSwgY29va2llQ29udGVudCwgZHVyYXRpb25NaW51dGVzKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBpdGVtTnVtYmVycyA9IFwiXCIgO1xyXG4gICAgICAgICAgICBpZiAoaXNOYU4oaXRlbU5vTXVsdGlBbnNjZXN0b3JzKSkge1xyXG4gICAgICAgICAgICBcdGl0ZW1OdW1iZXJzID0gaXRlbU5vTXVsdGlBbnNjZXN0b3JzLnNwbGl0KFwiIV9cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGRlZmF1bHRDYXRlZ29yeSA9IFwiXCI7XHJcbiAgICAgICAgICAgIGlmIChpdGVtTnVtYmVycy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIFx0ZGVmYXVsdENhdGVnb3J5ID0gXCImZGVmYXVsdENhdGVnb3J5PVwiICsgaXRlbU51bWJlcnNbMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVyaSxcclxuICAgICAgICAgICAgICAgICAgICBjYWNoZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnaXRlbU51bWJlcic6IGl0ZW1ub1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2VzcyA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFx0dmFyIHByb2R1Y3RJbWFnZVVybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHRpZihkYXRhLml0ZW1zWzBdLmlzTmV3KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcdHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHRcdHByb2R1Y3RJbWFnZVVybCA9IGdyaWRJbWFnZU5ld1Byb2R1Y3RVcmwucmVwbGFjZShcInswfVwiLGRhdGEuaXRlbXNbMF0uc3JjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHR9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHRcdHByb2R1Y3RJbWFnZVVybCA9IGdyaWRJbWFnZVByb2R1Y3RVcmwucmVwbGFjZShcInswfVwiLGRhdGEuaXRlbXNbMF0uc3JjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFx0dmFyIG11bHRpQW5jZXN0b3JlZmF1bHRDYXRlZ29yeURhdGEgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcdG11bHRpQW5jZXN0b3JlZmF1bHRDYXRlZ29yeURhdGEgPSBcIiBkYXRhLXByb2R1Y3QtaXRlbW5vLW11bHRpYW5zY2VzdG9ycz1cXFwiXCIrIGl0ZW1Ob011bHRpQW5zY2VzdG9ycyArIFwiXFxcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWxEYXRhID0gXCI8ZGl2IGNsYXNzPVxcXCJrb2gtY29tcGFyZS1pdGVtXFxcIiBpZD1cXFwiXCIgKyBpdGVtbm8gKyBcIlxcXCI+PGEgaHJlZj1cXFwiXCIgKyBwcm9kdWN0RGV0YWlsc2xpbmsgKyBcIi9cIiArIGRhdGEuaXRlbXNbMF0uaXRlbU51bWJlciArIFwiLz9za3VpZD1cIisgZGF0YS5pdGVtc1swXS5kZWZhdWx0U2t1ICsgZGVmYXVsdENhdGVnb3J5ICsgXCJcXFwiID48aW1nIGNsYXNzPSdrb2gtY29tcGFyZS1pbWFnZScgc3JjPSdcIitwcm9kdWN0SW1hZ2VVcmwrXCInIGFsdD0nJyBoZWlnaHQ9JzEwMCcgd2lkdGg9JzY4Jz5cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxEYXRhICs9IFwiPC9icj48c3BhbiBjbGFzcz1cXFwia29oLWNvbXBhcmUtbmFtZVxcXCI+PHNwYW4gY2xhc3M9XFxcImtvaC1wcm9kdWN0LWZhbWlseVxcXCI+XCIgKyBkYXRhLml0ZW1zWzBdLmZhbWlseSArIFwiPC9zcGFuPlwiICsgZGF0YS5pdGVtc1swXS5kZXNjcmlwdGlvbiArIFwiPC9zcGFuPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbERhdGEgKz0gXCI8L2JyPjxzcGFuIGNsYXNzPVxcXCJrb2gtY29tcGFyZS1za3VcXFwiPkstXCIgKyBkYXRhLml0ZW1zWzBdLmRlZmF1bHRTa3UgKyBcIjwvc3Bhbj48L2E+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sRGF0YSArPSBcIjwvYnI+PGJ1dHRvbiBjbGFzcz1cXFwia29oLWNvbXBhcmUtcmVtb3ZlXFxcIiBkYXRhLXByb2R1Y3QtaXRlbW5vPVxcXCJcIiArIGRhdGEuaXRlbXNbMF0uaXRlbU51bWJlciArIFwiXFxcIlwiICsgbXVsdGlBbmNlc3RvcmVmYXVsdENhdGVnb3J5RGF0YSArIFwiPlJlbW92ZSBQcm9kdWN0PC9idXR0b24+PC9kaXY+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdHMgPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wYXJlTGluayA9ICQoJyNjb21wYXJlTGluaycpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBodG1sTWFpbkRhdGEgPSBcIjxpbnB1dCBpZD1cXFwiY29tcGFyZS1jb29raWUtaW5mb1xcXCIgdHlwZT1cXFwiaGlkZGVuXFxcIiBkYXRhLWNvb2tpZS1uYW1lPVxcXCJcIiArIGNvb2tpZU5hbWUgKyBcIlxcXCIgZGF0YS1jb29raWUtZHVyYXRpb249XFxcIjE1XFxcIiBkYXRhLWNvb2tpZS1tYXgtaXRlbXMtbnVtYmVyPVxcXCIxXFxcIiBkYXRhLWNvb2tpZS1tYVwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ4LWl0ZW1zLW1lc3NhZ2U9XFxcIk9ubHkgdGhyZWUgY29tcGFyaXNvbiBwcm9kdWN0cyBhcmUgYWxsb3dlZC4gUGxlYXNlIHJlbW92ZSBvbmUgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImluIG9yZGVyIHRvIGFsbG93IGFkZGluZyB0aGlzIG5ldyBjb21wYXJlIHRvIHRoZSBsaXN0LlxcXCIgZGF0YS1jb29raWUtZGlmZi1jYXRlZ29cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicnktbWVzc2FnZT1cXFwiWW91IGNhbiBvbmx5IGNvbXBhcmUgcHJvZHVjdHMgZnJvbSB0aGUgc2FtZSBjYXRlZ29yeS4gQWRkaW5nIHRoaXMgcFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyb2R1Y3Qgd2lsbCBjbGVhciB5b3VyIGN1cnJlbnQgY29tcGFyaXNvbi5cXFwiIGRhdGEtY29va2llLWNhdGVnb3J5PVxcXCJcIiArIGRlZmF1bHRDYXRlZ29yeUtleSArIFwiXFxcIiBkYXRhLWNvb2tpZS1wcm9kdWN0X2NvdW50PVxcXCJjb29raWVQcm9kdWN0Q291bnRcXFwiPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxNYWluRGF0YSArPSBcIjxkaXYgY2xhc3M9XFxcImMta29oLWNvbXBhcmUtcGFuZWxcXFwiPjxkaXYgY2xhc3M9XFxcImtvaC1jb21wYXJlLWhlYWRlclxcXCI+PHNwYW4gY2xhc3NcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPVxcXCJrb2gtY29tcGFyZS10aXRsZVxcXCI+XCIrIGNvbXBhcmVQYW5lbFByb2R1Y3RzICtcIjwvc3Bhbj5cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sTWFpbkRhdGEgKz0gXCI8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImtvaC1jb21wYXJlLXRvZ2dsZSBvcGVuXFxcIiBvbmNsaWNrPVxcXCIkKCcua29oLWNvbXBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJlLXRvZ2dsZScpLnRvZ2dsZUNsYXNzKCdvcGVuJyk7JCgnLmtvaC1jb21wYXJlLWl0ZW1zJykudG9nZ2xlQ2xhc3MoJ29wZW4nKTtcXFwiPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJTaG93L0hpZGU8L2J1dHRvbj5cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sTWFpbkRhdGEgKz0gXCI8YSBocmVmPVxcXCJcXFwiIGRhdGEtbGlzdGluZy1wYWdlLXVybCA9IFxcXCJcIiArIHdpbmRvdy5sb2NhdGlvbi5ocmVmICsgXCJcXFwiIGRhdGEtY29tcGFyZS1saW5rID0gXFxcIlwiICsgY29tcGFyZUxpbmsgKyBcIlxcXCIgY2xhc3M9XFxcImtvaC1jb21wYXJlLWxpbmsgYnRuLS1wcmltYXJ5IGZ1bGwtd2lkdGgtc20gbWFyZy1iLTEwLXNtIGFjdGl2ZVxcXCI+XCIrY29tcGFyZUJ1dHRvbkxhYmxlK1wiPC9hPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxNYWluRGF0YSArPSBcIjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwia29oLWNvbXBhcmUtY2xlYXJcXFwiPlwiK2NvbXBhcmVDbGVhclJlc3VsdHMrXCI8L2J1dHRvbj48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz1cXFwia29oLWNvbXBhcmUtaXRlbXNcXFwiPjwvZGl2PjwvZGl2PlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjY29tcGFyZVBhbmVsXCIpLmh0bWwoaHRtbE1haW5EYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbERhdGEgKz0gXCI8ZGl2IGNsYXNzPVxcXCJrb2gtY29tcGFyZS1pdGVtXFxcIj48c3BhbiBjbGFzcz1cXFwia29oLWNvbXBhcmUtYWRkLWJsYW5rIGNvbXBhcmUtYWRkLVwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZW1vXFxcIj4yPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XFxcImtvaC1jb21wYXJlLWl0ZW1cXFwiPjxzcGFuIGNsYXNzPVxcXCJrb2gtY29tcGFyZS1hXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRkLWJsYW5rIGNvbXBhcmUtYWRkLWRlbW9cXFwiPjM8L3NwYW4+PC9kaXY+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1pdGVtc1wiKS5odG1sKGh0bWxEYXRhKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1pdGVtc1wiKS5hZGRDbGFzcyhcIm9wZW5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IHByb2R1Y3RzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29va2llc1ZhbHVlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tpZXNWYWx1ZSA9IHByb2R1Y3RzW2ldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1pdGVtc1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5sYXN0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1pdGVtc1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5sYXN0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxEYXRhICs9IFwiPGRpdiBjbGFzcz1cXFwia29oLWNvbXBhcmUtaXRlbVxcXCI+PHNwYW4gY2xhc3M9XFxcImtvaC1jb21wYXJlLWFkZC1ibGFuayBjb21wYXJlLWFkZC1cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRlbW9cXFwiPjM8L3NwYW4+PC9kaXY+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIua29oLWNvbXBhcmUtaXRlbXNcIikuYXBwZW5kKGh0bWxEYXRhKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIua29oLWNvbXBhcmUtaXRlbXNcIikuYWRkQ2xhc3MoXCJvcGVuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLWl0ZW1zXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGRyZW4oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmxhc3QoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLWl0ZW1zXCIpLmFwcGVuZChodG1sRGF0YSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLWl0ZW1zXCIpLmFkZENsYXNzKFwib3BlblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIua29oLWNvbXBhcmUtdG9nZ2xlXCIpLmFkZENsYXNzKFwib3BlblwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1pdGVtc1wiKS5hZGRDbGFzcyhcIm9wZW5cIik7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmZhaWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsZXJ0KFwiZmFpbGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC8qICQoXCIua29oLWNvbXBhcmUtaXRlbXNcIikuYWRkQ2xhc3MoXCJvcGVuXCIpO1xyXG4gICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLXRvZ2dsZVwiKS5hZGRDbGFzcyhcIm9wZW5cIiksICQoXCIua29oLWNvbXBhcmUtaXRlbXNcIikuYWRkQ2xhc3MoXCJvcGVuXCIpLCByZWxvYWRNb2RhbCgpKi9cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCJib2R5XCIpLm9uKFwiY2xpY2tcIiwgXCIua29oLWNvbXBhcmUtcmVtb3Zlc1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdmFyIHVyaSA9ICQodGhpcykuZGF0YShcImhyZWZcIiksXHJcbiAgICAgICAgICAgICAgICBpdGVtbm8gPSAkKHRoaXMpLmRhdGEoXCJwcm9kdWN0LWl0ZW1ub1wiKSxcclxuICAgICAgICAgICAgICAgIGl0ZW1NdWx0aUFuY2VzdG9ycyA9ICQodGhpcykuZGF0YShcInByb2R1Y3QtaXRlbW5vLW11bHRpYW5zY2VzdG9yc1wiKSxcclxuICAgICAgICAgICAgICAgIGNvb2tpZU5hbWUgPSAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1uYW1lXCIpLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb25NaW51dGVzID0gJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtZHVyYXRpb25cIik7XHJcbiAgICAgICAgICAgIC8vICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLW1heC1pdGVtcy1udW1iZXJcIiksXHJcbiAgICAgICAgICAgIC8vICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLW1heC1pdGVtcy1tZXNzYWdlXCIpLFxyXG4gICAgICAgICAgICAvLyAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1kaWZmLWNhdGVnb3J5LW1lc3NhZ2VcIik7XHJcbiAgICAgICAgICAgIHJlbW92ZVByb2R1Y3RUZXh0KCQodGhpcykpO1xyXG4gICAgICAgICAgICAvLyQoJChcIi5yZW1vdmVfXCIraXRlbW5vKSkuY2xvc2VzdChcIi5rb2gtcHJvZHVjdC10b29sc1wiKS5yZW1vdmVDbGFzcyhcInByb2R1Y3QtYWRkXHJcbiAgICAgICAgICAgIC8vZWRcIik7XHJcbiAgICAgICAgICAgIHZhciBjb29raWVDb250ZW50LFxyXG4gICAgICAgICAgICAgICAgY29va2llID0gZ2V0Q29va2llKGNvb2tpZU5hbWUpO1xyXG4gICAgICAgICAgICBpZiAobnVsbCA9PT0gY29va2llIHx8IFwiXCIgPT09IGNvb2tpZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB2b2lkICQoXCIuYy1rb2gtY29tcGFyZS1wYW5lbFwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdmFyIHByb2R1Y3RzLFxyXG4gICAgICAgICAgICAgICAgdmFsdWVzID0gY29va2llLnNwbGl0KFwiLlwiKSxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gdmFsdWVzWzBdO1xyXG4gICAgICAgICAgICB2YWx1ZXMubGVuZ3RoID4gMSAmJiAocHJvZHVjdHMgPSB2YWx1ZXNbMV0uc3BsaXQoXCJ8XCIpKTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gcHJvZHVjdHMuaW5kZXhPZihpdGVtbm8udG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIGlmIChpdGVtTXVsdGlBbmNlc3RvcnMgIT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgXHRpbmRleCA9IHByb2R1Y3RzLmluZGV4T2YoaXRlbU11bHRpQW5jZXN0b3JzLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDApe1xyXG4gICAgICAgICAgICBcdHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocHJvZHVjdHMuc3BsaWNlKGluZGV4LCAxKSwgY29va2llQ29udGVudCA9IGNhdGVnb3J5ICsgXCIuXCIgKyBwcm9kdWN0cy5qb2luKFwifFwiKSwgZGVsZXRlQ29va2llKGNvb2tpZU5hbWUpLCAhKHByb2R1Y3RzLmxlbmd0aCA+IDApKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICQoXCIuYy1rb2gtY29tcGFyZS1wYW5lbFwiKS5yZW1vdmUoKSxcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVDb29raWUoY29va2llTmFtZSksXHJcbiAgICAgICAgICAgICAgICAgICAgdm9pZCBjcmVhdGVDb29raWUoY29va2llTmFtZSwgXCJcIiwgZHVyYXRpb25NaW51dGVzKTtcclxuICAgICAgICAgICAgY3JlYXRlQ29va2llKGNvb2tpZU5hbWUsIGNvb2tpZUNvbnRlbnQsIGR1cmF0aW9uTWludXRlcyk7XHJcbiAgICAgICAgICAgIHZhciBjb3VudCA9IHByb2R1Y3RzLmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIGNvb2tpZXNWYWx1ZSA9IG51bGw7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvb2tpZXNWYWx1ZSA9IHByb2R1Y3RzW2ldO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkKFwiI1wiICsgaXRlbW5vICsgXCJcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHZhciBjb3VudCA9IHByb2R1Y3RzLmxlbmd0aDtcclxuICAgICAgICAgICAgJChcIi5jb21wYXJlLWFkZC1kZW1vXCIpXHJcbiAgICAgICAgICAgICAgICAucGFyZW50KClcclxuICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgaWYgKGNvdW50ID09IDEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBodG1sRGF0YSA9IFwiPGRpdiBjbGFzcz1cXFwia29oLWNvbXBhcmUtaXRlbVxcXCI+PHNwYW4gY2xhc3M9XFxcImtvaC1jb21wYXJlLWFkZC1ibGFuayBjb21wYXJlLWFkZC1cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJkZW1vXFxcIj4yPC9zcGFuPjwvZGl2PlwiO1xyXG4gICAgICAgICAgICAgICAgaHRtbERhdGEgKz0gXCI8ZGl2IGNsYXNzPVxcXCJrb2gtY29tcGFyZS1pdGVtXFxcIj48c3BhbiBjbGFzcz1cXFwia29oLWNvbXBhcmUtYWRkLWJsYW5rIGNvbXBhcmUtYWRkLVwiICtcclxuICAgICAgICAgICAgICAgICAgICBcImRlbW9cXFwiPjM8L3NwYW4+PC9kaXY+XCI7XHJcbiAgICAgICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLWl0ZW1zXCIpLmFwcGVuZChodG1sRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvLyQoXCIua29oLWNvbXBhcmUtdG9nZ2xlXCIpLmFkZENsYXNzKFwib3BlblwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY291bnQgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGh0bWxEYXRhID0gXCI8ZGl2IGNsYXNzPVxcXCJrb2gtY29tcGFyZS1pdGVtXFxcIj48c3BhbiBjbGFzcz1cXFwia29oLWNvbXBhcmUtYWRkLWJsYW5rIGNvbXBhcmUtYWRkLVwiICtcclxuICAgICAgICAgICAgICAgICAgICBcImRlbW9cXFwiPjM8L3NwYW4+PC9kaXY+XCI7XHJcbiAgICAgICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLWl0ZW1zXCIpLmFwcGVuZChodG1sRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvLyQoXCIua29oLWNvbXBhcmUtdG9nZ2xlXCIpLmFkZENsYXNzKFwib3BlblwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiI2NvbXBhcmVQYW5lbFwiKS5vbihcImNsaWNrXCIsIFwiLmtvaC1jb21wYXJlLXJlbW92ZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdmFyIHVyaSA9ICQodGhpcykuYXR0cihcImhyZWZcIiksXHJcbiAgICAgICAgICAgICAgICBpdGVtbm8gPSAkKHRoaXMpLmRhdGEoXCJwcm9kdWN0LWl0ZW1ub1wiKSxcclxuICAgICAgICAgICAgICAgIGl0ZW1NdWx0aUFuY2VzdG9ycyA9ICQodGhpcykuZGF0YShcInByb2R1Y3QtaXRlbW5vLW11bHRpYW5zY2VzdG9yc1wiKSxcclxuICAgICAgICAgICAgICAgIGNvb2tpZU5hbWUgPSAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1uYW1lXCIpLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb25NaW51dGVzID0gJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtZHVyYXRpb25cIik7XHJcbiAgICAgICAgICAgIC8vICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLW1heC1pdGVtcy1udW1iZXJcIiksXHJcbiAgICAgICAgICAgIC8vICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLW1heC1pdGVtcy1tZXNzYWdlXCIpLFxyXG4gICAgICAgICAgICAvLyAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1kaWZmLWNhdGVnb3J5LW1lc3NhZ2VcIik7XHJcbiAgICAgICAgICAgIHZhciBlbGVtID0gJChcIi5yZW1vdmVfXCIgKyBpdGVtbm8pWzBdO1xyXG4gICAgICAgICAgICByZW1vdmVQcm9kdWN0VGV4dCgkKGVsZW0pKTtcclxuICAgICAgICAgICAgJCgkKFwiLnJlbW92ZV9cIiArIGl0ZW1ubykpXHJcbiAgICAgICAgICAgICAgICAuY2xvc2VzdChcIi5rb2gtcHJvZHVjdC10b29sc1wiKVxyXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1hZGRlZFwiKTtcclxuICAgICAgICAgICAgdmFyIGNvb2tpZUNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICBjb29raWUgPSBnZXRDb29raWUoY29va2llTmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChudWxsID09PSBjb29raWUgfHwgXCJcIiA9PT0gY29va2llKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgJChcIi5jLWtvaC1jb21wYXJlLXBhbmVsXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB2YXIgcHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBjb29raWUuc3BsaXQoXCIuXCIpLFxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSB2YWx1ZXNbMF07XHJcbiAgICAgICAgICAgIHZhbHVlcy5sZW5ndGggPiAxICYmIChwcm9kdWN0cyA9IHZhbHVlc1sxXS5zcGxpdChcInxcIikpO1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwcm9kdWN0cy5pbmRleE9mKGl0ZW1uby50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgaWYgKGl0ZW1NdWx0aUFuY2VzdG9ycyAhPSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBcdGluZGV4ID0gcHJvZHVjdHMuaW5kZXhPZihpdGVtTXVsdGlBbmNlc3RvcnMudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHByb2R1Y3RzLnNwbGljZShpbmRleCwgMSksIGNvb2tpZUNvbnRlbnQgPSBjYXRlZ29yeSArIFwiLlwiICsgcHJvZHVjdHMuam9pbihcInxcIiksIGRlbGV0ZUNvb2tpZShjb29raWVOYW1lKSwgIShwcm9kdWN0cy5sZW5ndGggPiAwKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiAkKFwiLmMta29oLWNvbXBhcmUtcGFuZWxcIikucmVtb3ZlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ29va2llKGNvb2tpZU5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIHZvaWQgY3JlYXRlQ29va2llKGNvb2tpZU5hbWUsIFwiXCIsIGR1cmF0aW9uTWludXRlcyk7XHJcbiAgICAgICAgICAgIGNyZWF0ZUNvb2tpZShjb29raWVOYW1lLCBjb29raWVDb250ZW50LCBkdXJhdGlvbk1pbnV0ZXMpO1xyXG4gICAgICAgICAgICB2YXIgY291bnQgPSBwcm9kdWN0cy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBjb29raWVzVmFsdWUgPSBudWxsO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb29raWVzVmFsdWUgPSBwcm9kdWN0c1tpXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJChcIiNcIiArIGl0ZW1ubyArIFwiXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB2YXIgY291bnQgPSBwcm9kdWN0cy5sZW5ndGg7XHJcbiAgICAgICAgICAgICQoXCIuY29tcGFyZS1hZGQtZGVtb1wiKVxyXG4gICAgICAgICAgICAgICAgLnBhcmVudCgpXHJcbiAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIGlmIChjb3VudCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaHRtbERhdGEgPSBcIjxkaXYgY2xhc3M9XFxcImtvaC1jb21wYXJlLWl0ZW1cXFwiPjxzcGFuIGNsYXNzPVxcXCJrb2gtY29tcGFyZS1hZGQtYmxhbmsgY29tcGFyZS1hZGQtXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiZGVtb1xcXCI+Mjwvc3Bhbj48L2Rpdj5cIjtcclxuICAgICAgICAgICAgICAgIGh0bWxEYXRhICs9IFwiPGRpdiBjbGFzcz1cXFwia29oLWNvbXBhcmUtaXRlbVxcXCI+PHNwYW4gY2xhc3M9XFxcImtvaC1jb21wYXJlLWFkZC1ibGFuayBjb21wYXJlLWFkZC1cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJkZW1vXFxcIj4zPC9zcGFuPjwvZGl2PlwiO1xyXG4gICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1pdGVtc1wiKS5hcHBlbmQoaHRtbERhdGEpO1xyXG4gICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS10b2dnbGVcIikuYWRkQ2xhc3MoXCJvcGVuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb3VudCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaHRtbERhdGEgPSBcIjxkaXYgY2xhc3M9XFxcImtvaC1jb21wYXJlLWl0ZW1cXFwiPjxzcGFuIGNsYXNzPVxcXCJrb2gtY29tcGFyZS1hZGQtYmxhbmsgY29tcGFyZS1hZGQtXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiZGVtb1xcXCI+Mzwvc3Bhbj48L2Rpdj5cIjtcclxuICAgICAgICAgICAgICAgICQoXCIua29oLWNvbXBhcmUtaXRlbXNcIikuYXBwZW5kKGh0bWxEYXRhKTtcclxuICAgICAgICAgICAgICAgICQoXCIua29oLWNvbXBhcmUtdG9nZ2xlXCIpLmFkZENsYXNzKFwib3BlblwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIiNjb21wYXJlUGFuZWxcIikub24oXCJjbGlja1wiLCBcIi5rb2gtY29tcGFyZS1jbGVhclwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgJChcIi5jLWtvaC1jb21wYXJlLXBhbmVsXCIpLnJlbW92ZSgpLFxyXG4gICAgICAgICAgICAgICAgJChcIi5wcm9kdWN0LWFkZGVkXCIpLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1hZGRlZFwiKTtcclxuICAgICAgICAgICAgdmFyIGNvb2tpZU5hbWUgPSAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1uYW1lXCIpLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb25NaW51dGVzID0gJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtZHVyYXRpb25cIik7XHJcbiAgICAgICAgICAgIGRlbGV0ZUNvb2tpZShjb29raWVOYW1lKSxcclxuICAgICAgICAgICAgICAgIGNyZWF0ZUNvb2tpZShjb29raWVOYW1lLCBcIlwiLCBkdXJhdGlvbk1pbnV0ZXMpLFxyXG4gICAgICAgICAgICAgICAgcmVsb2FkTW9kYWwoKTtcclxuICAgICAgICAgICAgdmFyIGNvb2tpZVByb2R1Y3RDb3VudCA9ICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLXByb2R1Y3RfY291bnRcIiksXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbk1pbnV0ZXMgPSAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1kdXJhdGlvblwiKTtcclxuICAgICAgICAgICAgZGVsZXRlQ29va2llKGNvb2tpZVByb2R1Y3RDb3VudCk7XHJcbiAgICAgICAgICAgIGNyZWF0ZUNvb2tpZShjb29raWVQcm9kdWN0Q291bnQsIFwiXCIsIGR1cmF0aW9uTWludXRlcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIjY29tcGFyZVBhbmVsXCIpLm9uKFwiY2xpY2tcIiwgXCIua29oLWNvbXBhcmUtbGlua1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdmFyIGNvbXBhcmVMaW5rVXJsID0gJCh0aGlzKS5kYXRhKFwiY29tcGFyZS1saW5rXCIpO1xyXG4gICAgICAgICAgICB2YXIgbGlzdGluZ1BhZ2VVcmwgPSAkKHRoaXMpLmRhdGEoXCJsaXN0aW5nLXBhZ2UtdXJsXCIpO1xyXG4gICAgICAgICAgICBjcmVhdGVDb29raWUoJ2xpc3RpbmdQYWdlVXJsJywgbGlzdGluZ1BhZ2VVcmwsIDUpO1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGNvbXBhcmVMaW5rVXJsO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiLmMta29oLWNvbXBhcmUtcHJvZHVjdHNcIikub24oXCJjbGlja1wiLCBcIi5rb2gtaGlzdG9yeS1wYWdlIGJ1dHRvblwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdmFyIGxpc3RpbmdQYWdlVXJsID0gZ2V0Q29va2llKCdsaXN0aW5nUGFnZVVybCcpO1xyXG4gICAgICAgICAgICBpZiAobnVsbCA9PT0gbGlzdGluZ1BhZ2VVcmwgfHwgXCJcIiA9PT0gbGlzdGluZ1BhZ2VVcmwpIHt9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBsaXN0aW5nUGFnZVVybDtcclxuICAgICAgICAgICAgICAgIC8vZGVsZXRlQ29va2llKCdsaXN0aW5nUGFnZVVybCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIuYy1rb2gtY29tcGFyZS1wcm9kdWN0c1wiKS5vbihcImNsaWNrXCIsIFwiLmtvaC1jb21wYXJlLXJlbW92ZS1tb2RhbFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgcmVtb3ZlTW9kYWxQcm9kdWN0KGV2ZW50LCAkKHRoaXMpKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKFwiI2NvbXBhcmUtcHJvZHVjdC1kZXRhaWxzXCIpLm9uKFwiY2xpY2tcIiwgXCIua29oLWNvbXBhcmUtcmVtb3ZlXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAvLyBhZGQgY29tcGFyZSBkZXRhaWxzICBjbG9zZSBidXR0b24uXHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGl0ZW1ubyA9ICQodGhpcykuZGF0YShcInByb2R1Y3QtaXRlbW5vXCIpLFxyXG4gICAgICAgICAgICBcdGl0ZW1NdWx0aUFuY2VzdG9ycyA9ICQodGhpcykuZGF0YShcInByb2R1Y3QtaXRlbW5vLW11bHRpYW5zY2VzdG9yc1wiKSxcclxuICAgICAgICAgICAgICAgIGNvb2tpZU5hbWUgPSAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1uYW1lXCIpLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb25NaW51dGVzID0gJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtZHVyYXRpb25cIik7XHJcbiAgICAgICAgICAgIHZhciBjb29raWVDb250ZW50LFxyXG4gICAgICAgICAgICAgICAgY29va2llID0gZ2V0Q29va2llKGNvb2tpZU5hbWUpO1xyXG4gICAgICAgICAgICBpZiAobnVsbCA9PT0gY29va2llIHx8IFwiXCIgPT09IGNvb2tpZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB2b2lkICQoXCIuYy1rb2gtY29tcGFyZS1wYW5lbFwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdmFyIHByb2R1Y3RzLFxyXG4gICAgICAgICAgICAgICAgdmFsdWVzID0gY29va2llLnNwbGl0KFwiLlwiKSxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gdmFsdWVzWzBdO1xyXG4gICAgICAgICAgICB2YWx1ZXMubGVuZ3RoID4gMSAmJiAocHJvZHVjdHMgPSB2YWx1ZXNbMV0uc3BsaXQoXCJ8XCIpKTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gcHJvZHVjdHMuaW5kZXhPZihpdGVtbm8udG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIGlmIChpdGVtTXVsdGlBbmNlc3RvcnMgIT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgXHRpbmRleCA9IHByb2R1Y3RzLmluZGV4T2YoaXRlbU11bHRpQW5jZXN0b3JzLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwcm9kdWN0cy5zcGxpY2UoaW5kZXgsIDEpLCBjb29raWVDb250ZW50ID0gY2F0ZWdvcnkgKyBcIi5cIiArIHByb2R1Y3RzLmpvaW4oXCJ8XCIpLCBkZWxldGVDb29raWUoY29va2llTmFtZSksICEocHJvZHVjdHMubGVuZ3RoID4gMCkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmUoKSxcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVDb29raWUoY29va2llTmFtZSksXHJcbiAgICAgICAgICAgICAgICAgICAgdm9pZCBjcmVhdGVDb29raWUoY29va2llTmFtZSwgXCJcIiwgZHVyYXRpb25NaW51dGVzKTtcclxuICAgICAgICAgICAgY3JlYXRlQ29va2llKGNvb2tpZU5hbWUsIGNvb2tpZUNvbnRlbnQsIGR1cmF0aW9uTWludXRlcyk7XHJcbiAgICAgICAgICAgICQodGhpcylcclxuICAgICAgICAgICAgICAgIC5wYXJlbnQoKVxyXG4gICAgICAgICAgICAgICAgLnBhcmVudCgpXHJcbiAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VzaG93XCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIChldmVudC5wZXJzaXN0ZWQgfHwgd2luZG93LnBlcmZvcm1hbmNlICYmIDIgPT0gd2luZG93LnBlcmZvcm1hbmNlLm5hdmlnYXRpb24udHlwZSkgJiYgIChpc0lFQnJvd3NlcigpKSAmJiBsb2NhdGlvbi5yZWxvYWQoKVxyXG4gICAgfSwgZmFsc2UpLCB7XHJcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpbml0Q29tcG9uZW50cygpO1xyXG4gICAgICAgICAgICB2YXIgJGNvbXBvbmVudHMgPSAkKFwiLlwiICsgY29tcG9uZW50Q2xhc3MpO1xyXG4gICAgICAgICAgICBpbml0Q29tcGFyZVBhbmVsKCRjb21wb25lbnRzKSxcclxuICAgICAgICAgICAgICAgIGluaXRDb21wYXJlTW9kYWwoJGNvbXBvbmVudHMpLFxyXG5cdFx0XHRcdGluaXRDb2xvck92ZXJsYXlzKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHt9XHJcbiAgICB9XHJcblxyXG59KCk7XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBleGVjdXRlcyB3aGVuIEhUTUwtRG9jdW1lbnQgaXMgbG9hZGVkIGFuZCBET00gaXMgcmVhZHlcclxuICAgICAgICBheEtPSC5tYWluLmNvbXBvbmVudE1hbmFnZXIuY29tcGFyZVBhbmVsLmluaXRpYWxpemUoKTtcclxuICAgIH0pO1xyXG4gICAgJCh3aW5kb3cpLmxvYWQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGV4ZWN1dGVzIGFmdGVyIHRoZSB3aW5kb3cgaXMgZnVsbHkgbG9hZGVkLCBpbmNsdWRpbmcgYWxsIGltYWdlcywgZXRjLlxyXG4gICAgICAgIGF4S09ILm1haW4uY29tcG9uZW50TWFuYWdlci5jb21wYXJlUGFuZWwub25Mb2FkKCk7XHJcblxyXG4gICAgICAgIC8vbW92ZSBjb21wYXJlIHBhbmVsIGRpdiBpbnRvIHRoZSBoZWFkZXIgZm9yIGZpeGVkIHNjcm9sbFxyXG4gICAgICAgIHZhciBjb21wYXJlSFRNTCA9ICQoJyNjb21wYXJlUGFuZWwnKTtcclxuICAgICAgICAkKFwiLmtvaC1nbG9iYWwtbmF2aWdhdGlvbi1jb21wb25lbnRzXCIpLmFwcGVuZChjb21wYXJlSFRNTCk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG4kKGRvY3VtZW50KS5vbihcIm9wZW5lZFwiLCBcIi5yZW1vZGFsXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIGFkanVzdFJvd0hlaWdodHMoKSxcclxuICAgICAgICAkKFwiLmMta29oLWJyYW5kaW5nLWJhclwiKS5hZGRDbGFzcyhcInByaW50LWhpZGRlblwiKSxcclxuICAgICAgICAkKFwiI2NvbXBhcmVQYW5lbFwiKS5hZGRDbGFzcyhcInByaW50LWhpZGRlblwiKSxcclxuICAgICAgICAkKFwiLmtvaC1wYWdlXCIpLmFkZENsYXNzKFwicHJpbnQtaGlkZGVuXCIpLFxyXG4gICAgICAgICQoXCIuYy1rb2gtcHJpbnRmb290ZXJcIikuYWRkQ2xhc3MoXCJwcmludC1oaWRkZW5cIilcclxufSk7XHJcblxyXG4kKGRvY3VtZW50KS5vbihcImNsb3NpbmdcIiwgXCIucmVtb2RhbFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLnByaW50LWhpZGRlblwiKS5yZW1vdmVDbGFzcyhcInByaW50LWhpZGRlblwiKVxyXG59KTtcclxuXHJcbnZhciBhZGp1c3RSb3dIZWlnaHRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG51bVJvd3MgPSAkKFwiLmtvaC1jb21wYXJlLWZlYXR1cmVzLWxpc3RcIikubGFzdCgpLmZpbmQoXCJsaVwiKS5sZW5ndGg7XHJcbiAgICBtYXhDZWxsSGVpZ2h0ID0gMDtcclxuICAgIG51bUNvbHMgPSAkKFwiLmtvaC1jb21wYXJlLWZlYXR1cmVzLWxpc3RcIikubGVuZ3RoO1xyXG4gICAgJHJvdyA9ICQoXCIucm93MFwiKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBudW1Sb3dzID4gaTsgaSsrKVxyXG4gICAgICAgICRyb3cgPSAkKFwiLnJvd1wiICsgaSk7XHJcbiAgICAkcm93LmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciAkY2VsbCA9ICQodGhpcyk7XHJcbiAgICAgICAgJGNlbGwuaGVpZ2h0KCkgPiBtYXhDZWxsSGVpZ2h0ICYmIChtYXhDZWxsSGVpZ2h0ID0gJGNlbGwuaGVpZ2h0KCkpXHJcbiAgICB9KTtcclxuICAgICRyb3cuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5oZWlnaHQobWF4Q2VsbEhlaWdodClcclxuICAgIH0pO1xyXG59O1xyXG5cclxudmFyIGlzSUVCcm93c2VyID0gZnVuY3Rpb24gKCkge1xyXG5cdGlmIChuYXZpZ2F0b3IuYXBwTmFtZSA9PSAnTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyJyB8fCAgISEobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVHJpZGVudC8pIHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL3J2OjExLykpIHx8ICh0eXBlb2YgJC5icm93c2VyICE9PSBcInVuZGVmaW5lZFwiICYmICQuYnJvd3Nlci5tc2llID09IDEpKVxyXG5cdHtcclxuXHQgIHJldHVybiB0cnVlO1xyXG5cdH1lbHNle1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxufVx0XHJcbiIsIi8qXHJcbiAqIENvcHlyaWdodCDCqSAyMDAwLTIwMTcgS29obGVyIENvbXBhbnkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbiAqL1xyXG5cclxudmFyIGF4S09IID0gYXhLT0ggfHwge307XHJcblxyXG5heEtPSC5tYWluID0gYXhLT0gubWFpbiB8fCB7fTtcclxuXHJcbmF4S09ILm1haW4uZm9vdGVyTWFuYWdlciA9IChmdW5jdGlvbigpIHtcclxuXHJcbiAgICB2YXIgaW5pdEZvb3Rlck5hdiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIExvY2F0ZSBhbGwgaW5zdGFuY2VzIG9mIHRoZSBGb290ZXIgTmF2IGNvbXBvbmVudFxyXG4gICAgICAgIHZhciAkY29tcG9uZW50cyA9ICQoXCIuYy1rb2gtZm9vdGVyLW5hdlwiKTtcclxuXHJcbiAgICAgICAgJGNvbXBvbmVudHMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgLy8gTG9jYXRlIHRoZSBtYXN0ZXIgbmF2IGl0ZW1zIGNvbGxlY3Rpb25cclxuICAgICAgICAgICAgdmFyICRuYXZJdGVtc0NvbnRhaW5lciA9ICQodGhpcykuZmluZChcIi5rb2gtbmF2LWl0ZW1zXCIpO1xyXG5cclxuICAgICAgICAgICAgJG5hdkl0ZW1zQ29udGFpbmVyLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMb2NhdGUgYWxsIHRoZSBuYXYgc2VjdGlvbnMgYW5kIGFkZCBjbGljayBoYW5kbGluZyB0byBlYWNoXHJcbiAgICAgICAgICAgICAgICB2YXIgJG5hdlNlY3Rpb25zID0gJCh0aGlzKS5jaGlsZHJlbihcIi5rb2gtbmF2LXNlY3Rpb25cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gV2hhdCB3ZSdyZSBsb29raW5nIGZvciBpcyBhbGwgb2YgdGhlIGtvaC1uYXYtc2VjdGlvbi1pdGVtcyBlbGVtZW50cyB0aGF0XHJcbiAgICAgICAgICAgICAgICAvLyBsaXZlIGluc2lkZSBzZWN0aW9ucyBpbiBvdXIgbWFpbiBjb250YWluZXIuIFRoZXNlIGFyZSB0aGUgc2libGluZ3MgdGhhdCBcclxuICAgICAgICAgICAgICAgIC8vIHNob3VsZCBjb2xsYXBzZSB3aGVuIG9uZSBvZiB0aGVtIGlzIG9wZW5lZC5cclxuICAgICAgICAgICAgICAgIHZhciAkbmF2U2VjdGlvblRpdGxlc0NvbGxlY3Rpb24gPSAkbmF2U2VjdGlvbnMuY2hpbGRyZW4oXCIua29oLW5hdi1zZWN0aW9uLXRpdGxlXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyICRuYXZTZWN0aW9uSXRlbXNDb2xsZWN0aW9uID0gJG5hdlNlY3Rpb25zLmNoaWxkcmVuKFwiLmtvaC1uYXYtc2VjdGlvbi1pdGVtc1wiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBGb3IgZWFjaCBuYXYgc2VjdGlvbiwgYWRkIGEgY2xpY2sgaGFuZGxlclxyXG4gICAgICAgICAgICAgICAgJG5hdlNlY3Rpb25zLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRuYXZTZWN0aW9uID0gJCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgbmF2IHNlY3Rpb24gdGl0bGUgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciAkbmF2U2VjdGlvblRpdGxlID0gJG5hdlNlY3Rpb24uY2hpbGRyZW4oXCIua29oLW5hdi1zZWN0aW9uLXRpdGxlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBuYXYgc2VjdGlvbiBpdGVtcyBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRuYXZTZWN0aW9uSXRlbXMgPSAkbmF2U2VjdGlvblRpdGxlLm5leHQoXCIua29oLW5hdi1zZWN0aW9uLWl0ZW1zXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBnZXQgdGhlIHZhcmlhYmxlcyBvdXRzaWRlIHRoZSBjbGljayBoYW5kbGVyIGFuZCBwYXNzIHRoZW0gaW4sIHJhdGhlclxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoYW4gZ2V0dGluZyB0aGVtIGluIHRoZSBjbGljayBoYW5kbGVyLCB0byByZWR1Y2UgcGFnZSBwcm9jZXNzaW5nIChzdHJ1Y3R1cmUgc3RheXNcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc2FtZSwgc28gbm8gcmVhc29uIHRvIGdyYWIgdGhlIGVsZW1lbnRzIG9uIGV2ZXJ5IGNsaWNrXHJcbiAgICAgICAgICAgICAgICAgICAgJG5hdlNlY3Rpb25UaXRsZS5jbGljayh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZUYXJnZXQ6ICRuYXZTZWN0aW9uSXRlbXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZTaWJsaW5nczogJG5hdlNlY3Rpb25JdGVtc0NvbGxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZTaWJsaW5nVGl0bGVzOiAkbmF2U2VjdGlvblRpdGxlc0NvbGxlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB3ZSdyZSBhdCBtb2JpbGUgc2l6ZS4gSWYgc28sIHRvZ2dsZSB0aGUgYWN0aXZlIGNsYXNzLiBJZiBub3QsIGRvIG5vdGhpbmcuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHJlYWxseSBsaWtlIGhhcmQtY29kaW5nIHRoZSB3aWR0aCBicmVha3BvaW50IGhlcmUsIGJ1dCBmb3Igbm93IHRoaXMgd2lsbCBkb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgOTgwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRuYXZUYXJnZXRUaXRsZSA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRuYXZUYXJnZXQgPSBlLmRhdGEubmF2VGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkbmF2U2libGluZ3MgPSBlLmRhdGEubmF2U2libGluZ3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRuYXZTaWJsaW5nVGl0bGVzID0gZS5kYXRhLm5hdlNpYmxpbmdUaXRsZXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkbmF2VGFyZ2V0VGl0bGUuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGFscmVhZHkgb3BlbiwgY2xvc2UgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG5hdlRhcmdldFRpdGxlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG5hdlRhcmdldC5zbGlkZVVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgbm90IG9wZW4sIGNsb3NlIGFsbCBzaWJsaW5ncywgYW5kIG9wZW4gaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG5hdlNpYmxpbmdUaXRsZXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbmF2U2libGluZ3Muc2xpZGVVcCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG5hdlRhcmdldFRpdGxlLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG5hdlRhcmdldC5zbGlkZURvd24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICApOyAvLyBlbmQgY2xpY2tcclxuICAgICAgICAgICAgICAgIH0pOyAvLyBlbmQgbmF2U2VjdGlvbnMuZWFjaFxyXG4gICAgICAgICAgICB9KTsgLy8gZW5kIG5hdkl0ZW1zQ29udGFpbmVyLmVhY2hcclxuICAgICAgICB9KTsgLy8gZW5kIGNvbXBvbmVudHMuZWFjaCAgICAgICAgXHJcbiAgICB9O1xyXG5cclxuICAgIC8qIERlZmluZXMgZnVuY3Rpb25zIGV4cG9zZWQgdGhyb3VnaCBmb290ZXJNYW5hZ2VyIG9iamVjdCAqL1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaW5pdEZvb3Rlck5hdigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pKCk7XHJcblxyXG4kKGZ1bmN0aW9uKCkge1xyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gZXhlY3V0ZXMgd2hlbiBIVE1MLURvY3VtZW50IGlzIGxvYWRlZCBhbmQgRE9NIGlzIHJlYWR5XHJcbiAgICAgICAgYXhLT0gubWFpbi5mb290ZXJNYW5hZ2VyLmluaXQoKTtcclxuXHJcbiAgICAgICAgLy8gQmFjayB0byB0b3AgY29tbW9uIGJ1dHRvblxyXG4gICAgICAgIHZhciB0aHJvdHRsZVNjcm9sbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBfLnRocm90dGxlKHNjcm9sbFRvVG9wLCAxZTMpKSxcclxuICAgICAgICAgICAgICAgICQoXCIjYmFjay10by10b3BcIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcImJvZHksaHRtbFwiKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgc2Nyb2xsVG9Ub3AgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuc2Nyb2xsVG9wKCkgPj0gNTAwID8gJChcIiNiYWNrLXRvLXRvcFwiKS5jc3MoXCJvcGFjaXR5XCIsIDEpIDogJChcIiNiYWNrLXRvLXRvcFwiKS5jc3MoXCJvcGFjaXR5XCIsIDApXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhyb3R0bGVTY3JvbGwoKTtcclxuICAgIH0pO1xyXG59KTsiLCIvKlxyXG4gKiBDb3B5cmlnaHQgwqkgMjAwMC0yMDE3IEtvaGxlciBDb21wYW55LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4gKi9cclxuXHJcbnZhciBheEtPSCA9IGF4S09IIHx8IHt9O1xyXG5cclxuYXhLT0gubWFpbiA9IGF4S09ILm1haW4gfHwge307XHJcblxyXG5heEtPSC5tYWluLmhlYWRlck1hbmFnZXIgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWxlY3RvcnMgPSB7XHJcbiAgICAgICAgLy8gZ2xvYmFsIG5hdmlnYXRpb25cclxuICAgICAgICBnbG9iYWxOYXY6IFwiLmtvaC1nbG9iYWwtbmF2aWdhdGlvblwiLFxyXG4gICAgICAgIGdsb2JhbE5hdkNvbXBvbmVudHM6IFwiLmtvaC1nbG9iYWwtbmF2aWdhdGlvbi1jb21wb25lbnRzXCIsXHJcbiAgICAgICAgZ2xvYmFsTmF2U3BhY2VyOiBcIi5rb2gtZ2xvYmFsLW5hdmlnYXRpb24tc3BhY2VyXCIsXHJcbiAgICAgICAgLy8gYnJhbmRpbmcgYmFyXHJcbiAgICAgICAgYnJhbmRpbmdCYXI6IFwiLmMta29oLWJyYW5kaW5nLWJhclwiLFxyXG4gICAgICAgIGJyYW5kQ29udGVudDogXCIua29oLWJyYW5kc1wiLFxyXG4gICAgICAgIC8vIG1lbnUgYmFyXHJcbiAgICAgICAgbWVudUJhcjogXCIuYy1rb2gtbmF2aWdhdGlvbi1iYXJcIixcclxuICAgICAgICBtZW51QmFyTmF2OiBcIi5jLWtvaC1uYXZpZ2F0aW9uXCIsXHJcbiAgICAgICAgbWVudUJhclNlYXJjaDogXCIuYy1rb2gtc2l0ZS1zZWFyY2hcIixcclxuICAgICAgICBtZW51QmFyQ2FydDogXCIuYy1rb2gtc2hvcHBpbmctY2FydC1tZW51XCIsXHJcbiAgICAgICAgbWVudUJhck5hdkhlYWRlcjogXCIua29oLXByaW1hcnktbmF2ID4gLmtvaC1wcmltYXJ5LW5hdi1oZWFkZXJcIixcclxuICAgICAgICBtZW51QmFyTmF2TWVudTogXCIua29oLXByaW1hcnktbmF2ID4gLmtvaC1wcmltYXJ5LW5hdi1tZW51XCIsXHJcbiAgICAgICAgLy8gYmFjayB0byB0b3AgYnV0dG9uXHJcbiAgICAgICAgdG9wQnV0dG9uOiBcIi5rb2gtYmFjay10b3BcIlxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgJGdsb2JhbE5hdiA9IG51bGw7XHJcbiAgICB2YXIgJGdsb2JhbE5hdk1lbnUgPSBudWxsO1xyXG4gICAgdmFyICRnbG9iYWxOYXZDb21wb25lbnRzID0gbnVsbDtcclxuICAgIHZhciAkZ2xvYmFsTmF2U3BhY2VyID0gbnVsbDtcclxuICAgIHZhciAkYnJhbmRpbmdCYXIgPSBudWxsO1xyXG4gICAgdmFyICRicmFuZENvbnRlbnQgPSBudWxsO1xyXG4gICAgdmFyICRicmFuZGluZ0Jhck1vYmlsZSA9IG51bGw7XHJcbiAgICB2YXIgJG1lbnVCYXIgPSBudWxsO1xyXG4gICAgdmFyICRtZW51QmFyTmF2ID0gbnVsbDtcclxuICAgIHZhciAkbWVudUJhclNlYXJjaCA9IG51bGw7XHJcbiAgICB2YXIgJG1lbnVCYXJTZWFyY2hNb2JpbGUgPSBudWxsO1xyXG4gICAgdmFyICRtZW51QmFyQ2FydCA9IG51bGw7XHJcbiAgICB2YXIgJG1lbnVCYXJDYXJ0TW9iaWxlID0gbnVsbDtcclxuICAgIHZhciAkbWVudUJhck5hdkhlYWRlciA9IG51bGw7XHJcbiAgICB2YXIgJG5hdlRvZ2dsZSA9IG51bGw7XHJcbiAgICB2YXIgJHNlYXJjaFRvZ2dsZSA9IG51bGw7XHJcblxyXG4gICAgdmFyIGdsb2JhbE5hdkhlaWdodCA9IG51bGw7XHJcbiAgICB2YXIgbWVudUJhckhlaWdodCA9IG51bGw7XHJcbiAgICB2YXIgYnJhbmRpbmdCYXJIZWlnaHQgPSBudWxsO1xyXG5cclxuICAgIHZhciBpbml0R2xvYmFsTmF2ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gRmluZCB0aGUgZ2xvYmFsIG5hdjsgaWYgdGhlcmUncyBtb3JlIHRoYW4gb25lLCB3ZSBoYXZlIGlzc3Vlcywgc28gZmlsdGVyIHRvIGp1c3QgdGhlIGZpcnN0LCBhbmQgaGlkZSBhbnkgZXh0cmFzXHJcbiAgICAgICAgJGdsb2JhbE5hdiA9IHJlZHVjZVRvRmlyc3QoJChzZWxlY3RvcnMuZ2xvYmFsTmF2KSk7XHJcblxyXG4gICAgICAgIC8vIEJyYW5kaW5nIGJhclxyXG4gICAgICAgICRicmFuZGluZ0JhciA9IHJlZHVjZVRvRmlyc3QoJGdsb2JhbE5hdi5jaGlsZHJlbihzZWxlY3RvcnMuYnJhbmRpbmdCYXIpKTtcclxuICAgICAgICAkYnJhbmRDb250ZW50ID0gJGJyYW5kaW5nQmFyLmZpbmQoXCIua29oLWJyYW5kc1wiKTtcclxuXHJcbiAgICAgICAgLy8gTWVudSBiYXJcclxuICAgICAgICAkbWVudUJhciA9IHJlZHVjZVRvRmlyc3QoJGdsb2JhbE5hdi5jaGlsZHJlbihzZWxlY3RvcnMubWVudUJhcikpO1xyXG4gICAgICAgICRtZW51QmFyTmF2ID0gcmVkdWNlVG9GaXJzdCgkbWVudUJhci5jaGlsZHJlbihzZWxlY3RvcnMubWVudUJhck5hdikpO1xyXG4gICAgICAgICRtZW51QmFyU2VhcmNoID0gcmVkdWNlVG9GaXJzdCgkbWVudUJhci5jaGlsZHJlbihzZWxlY3RvcnMubWVudUJhclNlYXJjaCkpO1xyXG4gICAgICAgICRtZW51QmFyQ2FydCA9IHJlZHVjZVRvRmlyc3QoJG1lbnVCYXIuY2hpbGRyZW4oc2VsZWN0b3JzLm1lbnVCYXJDYXJ0KSk7XHJcbiAgICAgICAgJG1lbnVCYXJOYXZIZWFkZXIgPSByZWR1Y2VUb0ZpcnN0KCRtZW51QmFyTmF2LmZpbmQoc2VsZWN0b3JzLm1lbnVCYXJOYXZIZWFkZXIpKTtcclxuICAgICAgICAkbmF2VG9nZ2xlID0gcmVkdWNlVG9GaXJzdCgkbWVudUJhck5hdkhlYWRlci5jaGlsZHJlbihcIi5rb2gtcHJpbWFyeS1uYXYtdG9nZ2xlXCIpKTtcclxuICAgICAgICAkc2VhcmNoVG9nZ2xlID0gcmVkdWNlVG9GaXJzdCgkbWVudUJhck5hdkhlYWRlci5jaGlsZHJlbihcIi5rb2gtcHJpbWFyeS1zZWFyY2gtdG9nZ2xlXCIpKTtcclxuICAgICAgICAkbWVudUJhckNhcnRNb2JpbGUgPSByZWR1Y2VUb0ZpcnN0KCRtZW51QmFyTmF2SGVhZGVyLmNoaWxkcmVuKFwiLmtvaC1zaG9wcGluZy1jYXJ0LW1lbnUtbW9iaWxlXCIpKTtcclxuXHJcbiAgICAgICAgLy8gTWFpbiBnbG9iYWwgbmF2IG1lbnVcclxuICAgICAgICAkZ2xvYmFsTmF2TWVudSA9IHJlZHVjZVRvRmlyc3QoJG1lbnVCYXJOYXYuZmluZChzZWxlY3RvcnMubWVudUJhck5hdk1lbnUpKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIG1vYmlsZSBuYXYgaXRlbXMgaW4gY29ycmVjdCBvcmRlciB2aWEgY2xvbmluZ1xyXG4gICAgICAgIGNyZWF0ZU1vYmlsZU1lbnUoKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHdyYXBwZXIgYXJvdW5kIGNvbXBvbmVudHNcclxuICAgICAgICAkZ2xvYmFsTmF2Q29tcG9uZW50cyA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuICAgICAgICAkZ2xvYmFsTmF2Q29tcG9uZW50cy5hZGRDbGFzcyhzZWxlY3RvcnMuZ2xvYmFsTmF2Q29tcG9uZW50cy5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XHJcbiAgICAgICAgJGdsb2JhbE5hdi53cmFwSW5uZXIoJGdsb2JhbE5hdkNvbXBvbmVudHMpO1xyXG4gICAgICAgICRnbG9iYWxOYXZDb21wb25lbnRzID0gcmVkdWNlVG9GaXJzdCgkZ2xvYmFsTmF2LmNoaWxkcmVuKHNlbGVjdG9ycy5nbG9iYWxOYXZDb21wb25lbnRzKSk7IC8vIE5lZWQgdGhpcyBiZWNhdXNlIHdyYXBJbm5lciBjcmVhdGVzIGEgbmV3IGVsZW1lbnRcclxuXHJcbiAgICAgICAgLy8gQWRkIHNwYWNlciBlbGVtZW50IHRvIGNvbnRyb2wgaGVhZGVyIHNwYWNpbmdcclxuICAgICAgICAkZ2xvYmFsTmF2U3BhY2VyID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4gICAgICAgICRnbG9iYWxOYXZTcGFjZXIuYWRkQ2xhc3Moc2VsZWN0b3JzLmdsb2JhbE5hdlNwYWNlci5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XHJcbiAgICAgICAgJGdsb2JhbE5hdi5hcHBlbmQoJGdsb2JhbE5hdlNwYWNlcik7XHJcblxyXG4gICAgICAgIC8vIFNldCB1cCBjbGljayBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIGFkZENsaWNrRXZlbnRzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciByZXNpemVOYXYgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBTYXZlIGhlaWdodHMgb2YgYnJhbmRpbmcgYmFyIGFuZCBnbG9iYWwgbmF2XHJcbiAgICAgICAgaWYgKGlzTW9iaWxlKCkpIHtcclxuICAgICAgICAgICAgbWVudUJhckhlaWdodCA9ICRtZW51QmFyTmF2SGVhZGVyLm91dGVySGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIGJyYW5kaW5nQmFySGVpZ2h0ID0gMDtcclxuICAgICAgICAgICAgZ2xvYmFsTmF2SGVpZ2h0ID0gbWVudUJhckhlaWdodDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtZW51QmFySGVpZ2h0ID0gJG1lbnVCYXIub3V0ZXJIZWlnaHQoKTtcclxuICAgICAgICAgICAgYnJhbmRpbmdCYXJIZWlnaHQgPSAkYnJhbmRpbmdCYXIub3V0ZXJIZWlnaHQoKTtcclxuICAgICAgICAgICAgZ2xvYmFsTmF2SGVpZ2h0ID0gbWVudUJhckhlaWdodCArIGJyYW5kaW5nQmFySGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgaWYgKCQoJy5rb2gtbGluay1jb21wYW55LWJyYW5kJykuaGFzQ2xhc3MoJ29wZW4nKSkge1xyXG4gICAgICAgICAgICAgICAgJGJyYW5kaW5nQmFyLmFkZENsYXNzKFwiY29sbGFwc2VkXCIpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmtvaC1saW5rLWNvbXBhbnktYnJhbmQnKS5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgdG9nZ2xlT3BlbigkYnJhbmRDb250ZW50LCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBtZW51QmFySGVpZ2h0ID0gJG1lbnVCYXIub3V0ZXJIZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGJyYW5kaW5nQmFySGVpZ2h0ID0gMDtcclxuICAgICAgICAgICAgICAgIGdsb2JhbE5hdkhlaWdodCA9IG1lbnVCYXJIZWlnaHQgKyBicmFuZGluZ0JhckhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIk5hdiBoZWlnaHQ6IFwiK2dsb2JhbE5hdkhlaWdodCtcIiA9IFwiK21lbnVCYXJIZWlnaHQrXCIgKyBcIiticmFuZGluZ0JhckhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIFJlc2l6ZSB0aGUgc3BhY2VyXHJcbiAgICAgICAgc2V0TmF2U3BhY2VySGVpZ2h0KCk7XHJcblxyXG4gICAgICAgIC8vIFJlc2V0IHRoZSBzY3JvbGxpbmcgaW4gY2FzZSB0aGUgbWVudSBpcyBzbWFsbGVyIHRoYW4gdGhlIHdpbmRvd1xyXG4gICAgICAgIGlmIChpc01vYmlsZSgpKSB7XHJcbiAgICAgICAgICAgIHJlc2V0TmF2TWVudVNjcm9sbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIHNjcm9sbE5hdiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgSWYgdGhlIHdpbmRvdyB0b3Agb2Zmc2V0IGlzIGF0IG9yIGFib3ZlIHRoZSBicmFuZGluZyBiYXIsIHVuZml4IHRoZSBoZWFkZXIgYW5kIHNob3cgdGhlIGJyYW5kaW5nIGJhci5cclxuICAgICAgICBJZiB0aGUgd2luZG93IHRvcCBvZmZzZXQgaXMgYmVsb3cgdGhlIGJyYW5kaW5nIGJhciwgZml4IHRoZSBoZWFkZXIgdG8gdGhlIHRvcCBvZiB0aGUgc2NyZWVuIGFuZCBoaWRlIHRoZSBicmFuZGluZyBiYXIuXHJcbiAgICAgICAgKi9cclxuXHJcbiAgICAgICAgdmFyIHNjcm9sbEhlaWdodCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuXHJcbiAgICAgICAgaWYgKHNjcm9sbEhlaWdodCA+IGJyYW5kaW5nQmFySGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIG5hdiBmaXhlZCBhbmQgaGlkZSB0aGUgYnJhbmRpbmcgYmFyXHJcbiAgICAgICAgICAgICRnbG9iYWxOYXYuYWRkQ2xhc3MoXCJmaXhlZFwiKTtcclxuICAgICAgICAgICAgJGJyYW5kaW5nQmFyLmFkZENsYXNzKFwiY29sbGFwc2VkXCIpO1xyXG4gICAgICAgICAgICAkKCcua29oLWxpbmstY29tcGFueS1icmFuZCcpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgICAgICRicmFuZENvbnRlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICRicmFuZGluZ0Jhci5oZWlnaHQoYnJhbmRpbmdCYXJIZWlnaHQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIG5hdiBub3QgZml4ZWQgYW5kIHNob3cgdGhlIGJyYW5kaW5nIGJhclxyXG4gICAgICAgICAgICAkZ2xvYmFsTmF2LnJlbW92ZUNsYXNzKFwiZml4ZWRcIik7XHJcbiAgICAgICAgICAgIHJlbW92ZUlubGluZUNTUygkZ2xvYmFsTmF2LCBcImRpc3BsYXlcIik7XHJcbiAgICAgICAgICAgICRicmFuZGluZ0Jhci5yZW1vdmVDbGFzcyhcImNvbGxhcHNlZFwiKTtcclxuICAgICAgICAgICAgcmVtb3ZlSW5saW5lQ1NTKCRicmFuZGluZ0JhciwgXCJkaXNwbGF5XCIpO1xyXG4gICAgICAgICAgICAkYnJhbmRpbmdCYXIuaGVpZ2h0KGJyYW5kaW5nQmFySGVpZ2h0KTtcclxuICAgICAgICAgICAgJCgnLmtvaC1saW5rLWNvbXBhbnktYnJhbmQnKS5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgICAgICAgICAkYnJhbmRDb250ZW50LnJlbW92ZUNsYXNzKCdvcGVuJykuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8qIElmIHRoZSB1c2VyIGhvdmVycyBvdmVyIHRoZSBtZW51LCBkaXNwbGF5IHRoZSBicmFuZGluZyBiYXIgYnkgc2xpZGluZyBpdCBkb3duLiAqL1xyXG4gICAgICAgICRnbG9iYWxOYXYuaG92ZXIoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmICghaXNNb2JpbGUoKSAmJiAkKHRoaXMpLmhhc0NsYXNzKFwiZml4ZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkYnJhbmRpbmdCYXIuaGFzQ2xhc3MoXCJjb2xsYXBzZWRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAkYnJhbmRpbmdCYXIuc3RvcCgpLnNsaWRlRG93bigpO1xyXG4gICAgICAgICAgICAgICAgICAgICRicmFuZGluZ0Jhci5yZW1vdmVDbGFzcyhcImNvbGxhcHNlZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAoIWlzTW9iaWxlKCkgJiYgJCh0aGlzKS5oYXNDbGFzcyhcImZpeGVkXCIpICYmICEkKFwiLmtvaC1icmFuZHNcIikuaGFzQ2xhc3MoJ29wZW4nKSAmJiAoYnJhbmRpbmdCYXJIZWlnaHQgPCAzMykpIHtcclxuICAgICAgICAgICAgICAgIGlmICghJGJyYW5kaW5nQmFyLmhhc0NsYXNzKFwiY29sbGFwc2VkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGJyYW5kaW5nQmFyLnN0b3AoKS5zbGlkZVVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGJyYW5kaW5nQmFyLmFkZENsYXNzKFwiY29sbGFwc2VkXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBjcmVhdGVNb2JpbGVNZW51ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gTW9iaWxlIG1lbnUgaXMgYXNzZW1ibGVkLCBpbiBvcmRlciwgZnJvbSB0aGUgZm9sbG93aW5nIGl0ZW1zOiBTZWFyY2gsIE1lbnUgQmFyLCBCcmFuZGluZyBCYXJcclxuICAgICAgICAkYnJhbmRpbmdCYXJNb2JpbGUgPSAkYnJhbmRpbmdCYXIuY2xvbmUoKTtcclxuICAgICAgICAkYnJhbmRpbmdCYXJNb2JpbGUucmVtb3ZlQ2xhc3Moc2VsZWN0b3JzLmJyYW5kaW5nQmFyLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcclxuICAgICAgICAkYnJhbmRpbmdCYXJNb2JpbGUuYWRkQ2xhc3Moc2VsZWN0b3JzLmJyYW5kaW5nQmFyLnJlcGxhY2UoXCIuYy1cIiwgXCJcIikgKyBcIi1tb2JpbGVcIik7XHJcbiAgICAgICAgJGJyYW5kaW5nQmFyTW9iaWxlLmFkZENsYXNzKFwia29oLWNsb25lZFwiKS5hZGRDbGFzcyhcImtvaC1tb2JpbGUtbmF2XCIpO1xyXG4gICAgICAgICRicmFuZGluZ0Jhci5hZGRDbGFzcyhcImtvaC1kZXNrdG9wLW5hdlwiKTtcclxuICAgICAgICAkZ2xvYmFsTmF2TWVudS5hcHBlbmQoJGJyYW5kaW5nQmFyTW9iaWxlKTtcclxuXHJcbiAgICAgICAgJG1lbnVCYXJTZWFyY2hNb2JpbGUgPSAkbWVudUJhclNlYXJjaC5jbG9uZSgpO1xyXG4gICAgICAgICRtZW51QmFyU2VhcmNoTW9iaWxlLnJlbW92ZUNsYXNzKHNlbGVjdG9ycy5tZW51QmFyU2VhcmNoLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcclxuICAgICAgICAkbWVudUJhclNlYXJjaE1vYmlsZS5hZGRDbGFzcyhzZWxlY3RvcnMubWVudUJhclNlYXJjaC5yZXBsYWNlKFwiLmMtXCIsIFwiXCIpICsgXCItbW9iaWxlXCIpO1xyXG4gICAgICAgICRtZW51QmFyU2VhcmNoTW9iaWxlLmFkZENsYXNzKFwia29oLWNsb25lZFwiKS5hZGRDbGFzcyhcImtvaC1tb2JpbGUtbmF2XCIpO1xyXG4gICAgICAgICRtZW51QmFyU2VhcmNoLmFkZENsYXNzKFwia29oLWRlc2t0b3AtbmF2XCIpO1xyXG4gICAgICAgICRnbG9iYWxOYXZNZW51LnByZXBlbmQoJG1lbnVCYXJTZWFyY2hNb2JpbGUpO1xyXG5cclxuICAgICAgICAkbWVudUJhckNhcnRNb2JpbGUuYWRkQ2xhc3MoXCJrb2gtbW9iaWxlLW5hdlwiKTtcclxuICAgICAgICAkbWVudUJhckNhcnQuYWRkQ2xhc3MoXCJrb2gtZGVza3RvcC1uYXZcIik7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBhZGRDbGlja0V2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIE1vYmlsZSBuYXYgdG9nZ2xlXHJcbiAgICAgICAgJG5hdlRvZ2dsZS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKGlzTW9iaWxlKCkpIHtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZU9wZW4oJGdsb2JhbE5hdk1lbnUsIHRydWUsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0TmF2TWVudVNjcm9sbCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTW9iaWxlIHNlYXJjaCBmb3JtIHRvZ2dsZVxyXG4gICAgICAgICRzZWFyY2hUb2dnbGUuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChpc01vYmlsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoISRnbG9iYWxOYXZNZW51Lmhhc0NsYXNzKFwib3BlblwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZU9wZW4oJGdsb2JhbE5hdk1lbnUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdG9nZ2xlT3BlbigkbWVudUJhclNlYXJjaE1vYmlsZSwgdHJ1ZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZXROYXZNZW51U2Nyb2xsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkbWVudUJhclNlYXJjaE1vYmlsZS5oYXNDbGFzcyhcIm9wZW5cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlT3BlbigkZ2xvYmFsTmF2TWVudSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJyYW5kaW5nIGJhciB0b2dnbGUgKG1vYmlsZSBhbmQgZGVza3RvcClcclxuICAgICAgICAkYnJhbmRpbmdCYXJNb2JpbGUuZmluZChcIi5rb2gtbGluay1jb21wYW55LWJyYW5kXCIpLmNsaWNrKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJGJyYW5kaW5nQmFyTW9iaWxlLmZpbmQoXCIua29oLWJyYW5kc1wiKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTW9iaWxlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2dnbGVPcGVuKCQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZU9wZW4oZS5kYXRhLnRhcmdldCwgdHJ1ZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0TmF2TWVudVNjcm9sbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgJGJyYW5kaW5nQmFyLmZpbmQoXCIua29oLWxpbmstY29tcGFueS1icmFuZFwiKS5jbGljayh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICRicmFuZGluZ0Jhci5maW5kKFwiLmtvaC1icmFuZHNcIilcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGlmICghaXNNb2JpbGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZU9wZW4oZS5kYXRhLnRhcmdldCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICAgICQoXCIua29oLWJyYW5kcyAud29ybGR3aWRlLW1lbnUtdG9wXCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJvcGVuXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwib3BlblwiKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcIm9wZW5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIi5rb2gtc2l0ZS1zZWFyY2gtZm9ybVwiKS5zdWJtaXQoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBzZWFyY2hCb3ggPSAkKFwiLmtvaC1zaXRlLXNlYXJjaC1mb3JtICNrb2gtbmF2LXNlYXJjaGJveFwiKSwgaXNFbXB0eSA9ICEwLCBpID0gMDsgaSA8IHNlYXJjaEJveC5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgIHNlYXJjaEJveFtpXS52YWx1ZS5sZW5ndGggPiAwICYmIChpc0VtcHR5ID0gITEpO1xyXG4gICAgICAgICAgICBpc0VtcHR5ICYmIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBNYWluIG5hdiBwYXJlbnQgc3ViIG1lbnUgdG9nZ2xlXHJcbiAgICAgICAgdmFyICRnbG9iYWxOYXZNZW51T3BlbmFibGVzID0gJGdsb2JhbE5hdk1lbnUuZmluZChcIi5rb2gtbmF2LXBhcmVudHMgPiBsaVwiKS5jaGlsZHJlbihcImEsc3Bhbiwua29oLW5hdi1zdWJuYXZcIik7XHJcbiAgICAgICAgJGdsb2JhbE5hdk1lbnUuZmluZChcIi5rb2gtbmF2LXBhcmVudHMgPiBsaVwiKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgJG5hdkxpc3RJdGVtID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgdmFyICRuYXZMaW5rID0gJG5hdkxpc3RJdGVtLmNoaWxkcmVuKFwiYSxzcGFuXCIpO1xyXG4gICAgICAgICAgICB2YXIgJG5hdlN1Ym1lbnUgPSAkbmF2TGlzdEl0ZW0uY2hpbGRyZW4oXCIua29oLW5hdi1zdWJuYXZcIik7XHJcblxyXG4gICAgICAgICAgICAkbmF2TGluay5jbGljayh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICRuYXZTdWJtZW51LFxyXG4gICAgICAgICAgICAgICAgc2libGluZ3M6ICRnbG9iYWxOYXZNZW51T3BlbmFibGVzXHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghJG5hdkxpbmsuaGFzQ2xhc3MoXCJzaW5nbGVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQoJy5rb2gtbGluay1jb21wYW55LWJyYW5kJykuaGFzQ2xhc3MoJ29wZW4nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYnJhbmRpbmdCYXIuYWRkQ2xhc3MoXCJjb2xsYXBzZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5rb2gtbGluay1jb21wYW55LWJyYW5kJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlT3BlbigkYnJhbmRDb250ZW50LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCBhbGwgdGhlIHNpYmxpbmdzIGFuZCBjbG9zZSB0aGVtXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRzaWJsaW5ncyA9IGUuZGF0YS5zaWJsaW5ncy5ub3QoJCh0aGlzKSkubm90KGUuZGF0YS50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzaWJsaW5ncy5yZW1vdmVDbGFzcyhcIm9wZW5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNpYmxpbmdzLmNzcyhcImRpc3BsYXlcIiwgXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9wZW4gdGhlIGNsaWNrZWQgb25lXHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlT3BlbigkKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNb2JpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlT3BlbihlLmRhdGEudGFyZ2V0LCB0cnVlLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0TmF2TWVudVNjcm9sbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVPcGVuKGUuZGF0YS50YXJnZXQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciByZXNldE5hdk1lbnVTY3JvbGwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgd2luZG93SGVpZ2h0ID0gJCh3aW5kb3cpLmlubmVySGVpZ2h0KCk7XHJcbiAgICAgICAgdmFyIGJvZHlIZWlnaHQgPSAkKFwiYm9keVwiKS5pbm5lckhlaWdodCgpO1xyXG4gICAgICAgIHZhciBuYXZIZWlnaHQgPSBnbG9iYWxOYXZIZWlnaHQ7XHJcbiAgICAgICAgaWYgKGlzTW9iaWxlKCkpIHtcclxuICAgICAgICAgICAgaWYgKCRnbG9iYWxOYXZNZW51Lmhhc0NsYXNzKFwib3BlblwiKSkge1xyXG4gICAgICAgICAgICAgICAgbmF2SGVpZ2h0ID0gbmF2SGVpZ2h0ICsgJGdsb2JhbE5hdk1lbnUub3V0ZXJIZWlnaHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGlmIG5vdCBtb2JpbGUsIG5lZWQgdG8gYWNjb3VudCBmb3IgbW9yZSB0aGluZ3Mgb3BlblxyXG4gICAgICAgICAgICBpZiAoJGdsb2JhbE5hdk1lbnUuaGFzQ2xhc3MoXCJvcGVuXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBuYXZIZWlnaHQgPSBuYXZIZWlnaHQgKyAkZ2xvYmFsTmF2TWVudS5vdXRlckhlaWdodCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghJGJyYW5kaW5nQmFyLmhhc0NsYXNzKFwiY29sbGFwc2VkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBuYXZIZWlnaHQgPSBuYXZIZWlnaHQgKyAkYnJhbmRpbmdCYXIub3V0ZXJIZWlnaHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIldpbmRvdyAoXCIrd2luZG93SGVpZ2h0K1wiKSB2cyBCb2R5IChcIitib2R5SGVpZ2h0K1wiKSB2cyBOYXYgKFwiK25hdkhlaWdodCtcIilcIik7XHJcblxyXG4gICAgICAgIGlmIChuYXZIZWlnaHQgPj0gd2luZG93SGVpZ2h0ICYmICEkKFwiYm9keVwiKS5oYXNDbGFzcyhcInVuc2Nyb2xsYWJsZVwiKSkge1xyXG4gICAgICAgICAgICBpZiAoYm9keUhlaWdodCA8PSB3aW5kb3dIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICQoXCJib2R5XCIpLmNzcyhcIm92ZXJmbG93XCIsIFwic2Nyb2xsXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRnbG9iYWxOYXZDb21wb25lbnRzLmFkZENsYXNzKFwic2Nyb2xsYWJsZVwiKTtcclxuICAgICAgICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJ1bnNjcm9sbGFibGVcIik7XHJcbiAgICAgICAgICAgIGlmIChib2R5SGVpZ2h0IDw9IHdpbmRvd0hlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiYm9keVwiKS5jc3MoXCJvdmVyZmxvd1wiLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIH0sIDAuNSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKG5hdkhlaWdodCA8IHdpbmRvd0hlaWdodCAmJiAkKFwiYm9keVwiKS5oYXNDbGFzcyhcInVuc2Nyb2xsYWJsZVwiKSkge1xyXG4gICAgICAgICAgICAkZ2xvYmFsTmF2Q29tcG9uZW50cy5yZW1vdmVDbGFzcyhcInNjcm9sbGFibGVcIik7XHJcbiAgICAgICAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwidW5zY3JvbGxhYmxlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIHNldE5hdlNwYWNlckhlaWdodCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICRnbG9iYWxOYXZTcGFjZXIuY3NzKCdoZWlnaHQnLCBnbG9iYWxOYXZIZWlnaHQpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgcmVkdWNlVG9GaXJzdCA9IGZ1bmN0aW9uKCRvYmplY3QpIHtcclxuICAgICAgICAvLyBGb3IgdGhlIGdsb2JhbCBuYXYsIGlmIHRoZXJlIGlzIGV2ZXIgbW9yZSB0aGFuIG9uZSBvZiBhbiBvYmplY3QsIGl0IHdpbGwgY2F1c2UgaXNzdWVzLlxyXG4gICAgICAgIC8vIFJlZHVjZSB0aGUgc2V0IHRvIGp1c3QgdGhlIGZpcnN0IG1hdGNoLCBhbmQgaGlkZSBhbnkgZXh0cmFzXHJcbiAgICAgICAgdmFyICRmaXJzdE9iamVjdCA9ICRvYmplY3QuZmlyc3QoKTtcclxuICAgICAgICBpZiAoJG9iamVjdC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICRvYmplY3Quc2xpY2UoMSkuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJGZpcnN0T2JqZWN0O1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgaXNNb2JpbGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBSYXRoZXIgdGhhbiBjaGVjayB3aW5kb3cgc2l6ZSwgbGV0J3MgdGFrZSBhZHZhbnRhZ2Ugb2YgdGhlIGZhY3QgdGhhdCB0aGVcclxuICAgICAgICAvLyBoYW1idXJnZXIgdG9nZ2xlIGlzIGhpZGRlbiBhdCBkZXNrdG9wIHNpemVzLiBJZiBpdCdzIGRpc3BsYXllZCwgdGhlbiB3ZSdyZVxyXG4gICAgICAgIC8vIGF0IG1vYmlsZS4gT3RoZXJ3aXNlIHdlJ3JlIG5vdC5cclxuICAgICAgICByZXR1cm4gKCRuYXZUb2dnbGUuY3NzKFwiZGlzcGxheVwiKSAhPT0gXCJub25lXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgdG9nZ2xlT3BlbiA9IGZ1bmN0aW9uKCR0YXJnZXQsIGFuaW1hdGUsIGNhbGxiYWNrQWZ0ZXIpIHtcclxuICAgICAgICAkdGFyZ2V0Lmhhc0NsYXNzKFwib3BlblwiKSA/ICgkdGFyZ2V0LnNlbGVjdG9yID09ICRicmFuZENvbnRlbnQuc2VsZWN0b3IgJiYgJGJyYW5kaW5nQmFyLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDBcclxuICAgICAgICB9LCA4MDApLCBhbmltYXRlICYmICR0YXJnZXQuc2xpZGVVcCg4MDAsIGNhbGxiYWNrQWZ0ZXIpLCAkdGFyZ2V0LnJlbW92ZUNsYXNzKFwib3BlblwiKSkgOiAoJHRhcmdldC5zZWxlY3RvciA9PSAkYnJhbmRDb250ZW50LnNlbGVjdG9yICYmICRicmFuZGluZ0Jhci5hbmltYXRlKHtcclxuICAgICAgICAgICAgaGVpZ2h0OiAzMiArICRicmFuZENvbnRlbnQub3V0ZXJIZWlnaHQoKVxyXG4gICAgICAgIH0sIDgwMCksIGFuaW1hdGUgJiYgJHRhcmdldC5zbGlkZURvd24oODAwLCBjYWxsYmFja0FmdGVyKSwgJHRhcmdldC5hZGRDbGFzcyhcIm9wZW5cIikpXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciByZW1vdmVJbmxpbmVDU1MgPSBmdW5jdGlvbigkdGFyZ2V0LCBjc3NQcm9wZXJ0eSkge1xyXG4gICAgICAgICR0YXJnZXQuY3NzKGNzc1Byb3BlcnR5LCBcIlwiKTtcclxuICAgICAgICBpZiAoJHRhcmdldC5hdHRyKFwic3R5bGVcIikgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgJHRhcmdldC5yZW1vdmVBdHRyKFwic3R5bGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0b3BCdXR0b24gPSAkKCdib2R5JykuZmluZCgnLmtvaC1iYWNrLXRvcCBidXR0b24nKTtcclxuICAgIHNlY3Rpb25Ub3AgPSAkKHRvcEJ1dHRvbikuY2xvc2VzdCgnc2VjdGlvbicpO1xyXG5cclxuICAgIC8vIEJhY2sgdG8gdG9wIGJ1dHRvblxyXG4gICAgdmFyIGluaXRCYWNrVG9wQnV0dG9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQodG9wQnV0dG9uKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHRvcFRhcmdldCA9IHNlY3Rpb25Ub3A7XHJcbiAgICAgICAgICAgICQodG9wQnV0dG9uKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0O1xyXG4gICAgICAgICAgICAgICAgaWYgKCQodG9wVGFyZ2V0KS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogJCh0b3BUYXJnZXQpLm9mZnNldCgpLnRvcCAtIDgwXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMjUwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBCYWNrIHRvIHRvcCBmYWRlaW5cclxuICAgIHZhciBpbml0QmFja1RvcERpc3RhbmNlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQodG9wQnV0dG9uKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHRvcERpc3RhbmNlID0gc2VjdGlvblRvcC5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLnNjcm9sbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciB5ID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcclxuICAgICAgICAgICAgICAgIGlmICh5ID4gdG9wRGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRvcEJ1dHRvbikuZmFkZUluKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQodG9wQnV0dG9uKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyogdmFyIGh0bWxFc2NhcGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxyXG4gICAgICAgICAgICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxyXG4gICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgJyYjMzk7JylcclxuICAgICAgICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcclxuICAgICAgICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcclxuICAgICAgICAgICAgIC5yZXBsYWNlKC9cXCgvZywgXCImIzQwO1wiKVxyXG4gICAgICAgICAgICAgLnJlcGxhY2UoL1xcKS9nLCBcIiYjNDE7XCIpXHJcbiAgICAgICAgICAgICAucmVwbGFjZSgvXFwrL2csICcmIzQzOycpXHJcbiAgICAgICAgICAgICAucmVwbGFjZSgvXFwvL2csICcmI3gyRjsnKTtcclxuICAgICB9O1xyXG5cclxuICAgICAkKFwiLmtvaC1zaXRlLXNlYXJjaC1mb3JtXCIpLnN1Ym1pdChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICB2YXIgc2VhcmNoQm94ID0gJChcIi5rb2gtc2l0ZS1zZWFyY2gtZm9ybSAja29oLW5hdi1zZWFyY2hib3hcIik7XHJcbiAgICAgICAgIHNlYXJjaEJveC52YWwoaHRtbEVzY2FwZSQoc2VhcmNoQm94LnZhbHVlKSk7XHJcbiAgICAgfSk7Ki9cclxuXHJcbiAgICAvKiBEZWZpbmVzIGZ1bmN0aW9ucyBleHBvc2VkIHRocm91Z2ggZm9vdGVyTWFuYWdlciBvYmplY3QgKi9cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGluaXRHbG9iYWxOYXYoKTtcclxuICAgICAgICAgICAgLyogSW5pdGlhbGl6ZSBCYWNrIHRvIFRvcCBCdXR0b24gKi9cclxuICAgICAgICAgICAgaW5pdEJhY2tUb3BCdXR0b24oKTtcclxuICAgICAgICAgICAgLyogU2hvdy9IaWRlIEJhY2sgdG8gVG9wIEJ1dHRvbiAqL1xyXG4gICAgICAgICAgICBpbml0QmFja1RvcERpc3RhbmNlKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBvblJlc2l6ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJlc2l6ZU5hdigpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25TY3JvbGw6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzY3JvbGxOYXYoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KCk7XHJcblxyXG4kKGZ1bmN0aW9uKCkge1xyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gZXhlY3V0ZXMgd2hlbiBIVE1MLURvY3VtZW50IGlzIGxvYWRlZCBhbmQgRE9NIGlzIHJlYWR5XHJcbiAgICAgICAgYXhLT0gubWFpbi5oZWFkZXJNYW5hZ2VyLmluaXRpYWxpemUoKTtcclxuICAgICAgICBheEtPSC5tYWluLmhlYWRlck1hbmFnZXIub25SZXNpemUoKTtcclxuICAgIH0pO1xyXG4gICAgJCh3aW5kb3cpLmxvYWQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgYXhLT0gubWFpbi5oZWFkZXJNYW5hZ2VyLm9uU2Nyb2xsKCk7XHJcbiAgICB9KTtcclxuICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgYXhLT0gubWFpbi5oZWFkZXJNYW5hZ2VyLm9uUmVzaXplKCk7XHJcbiAgICB9KTtcclxuICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgYXhLT0gubWFpbi5oZWFkZXJNYW5hZ2VyLm9uU2Nyb2xsKCk7XHJcbiAgICB9KTtcclxufSk7XHJcbiIsIi8qXHJcbiAqIENvcHlyaWdodCDCqSAyMDAwLTIwMTcgS29obGVyIENvbXBhbnkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbiAqL1xyXG5cclxuLy8gSmF2YVNjcmlwdCBOYW1lc3BhY2luZ1xyXG52YXIgYXhLT0ggPSBheEtPSCB8fCB7fTtcclxuYXhLT0gudXRpbHMgPSBheEtPSC51dGlscyB8fCB7fTtcclxuXHJcbmF4S09ILnV0aWxzLnNvY2lhbFNoYXJlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBob3V6eklEID0gXCIyODkyNVwiO1xyXG5cclxuICAgIC8vIEdldCBmdW5jdGlvbnMgZm9yIHNoYXJlIGxpbmsgaW5zZXJ0c1xyXG4gICAgdmFyIGdldFVSTCA9IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XHJcbiAgICAgICAgcmV0dXJuIGVuY29kZVVSSSgkdGFyZ2V0LmRhdGEoXCJzaGFyZS11cmxcIikgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgZ2V0VGl0bGUgPSBmdW5jdGlvbiAoJHRhcmdldCkge1xyXG4gICAgICAgIHZhciBzaGFyZVRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGFyZVRpdGxlXCIpO1xyXG4gICAgICAgIGlmKHNoYXJlVGl0bGUgIT09IG51bGwgJiYgc2hhcmVUaXRsZSAhPSAndW5kZWZpbmVkJyl7XHJcbiAgICBcdFx0dmFyIHNoYXJlVGl0bGVWYWx1ZSA9IHNoYXJlVGl0bGUudmFsdWU7XHJcblx0ICAgICAgICBpZiAoc2hhcmVUaXRsZVZhbHVlLmxlbmd0aCAhPSAwKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIHNoYXJlVGl0bGVWYWx1ZVxyXG5cdCAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICByZXR1cm4gJHRhcmdldC5kYXRhKFwic2hhcmUtdGl0bGVcIikgfHwgXCJcIlxyXG4gICAgXHR9ICBcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGdldEltYWdlID0gZnVuY3Rpb24gKCR0YXJnZXQpIHtcclxuICAgIFx0dmFyIHNoYXJlSW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJlSW1hZ2VcIik7XHJcbiAgICBcdGlmKHNoYXJlSW1hZ2UgIT09IG51bGwgJiYgc2hhcmVJbWFnZSAhPSAndW5kZWZpbmVkJyl7XHJcbiAgICBcdFx0dmFyIHNoYXJlSW1hZ2VWYWx1ZSA9IHNoYXJlSW1hZ2UudmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChzaGFyZUltYWdlVmFsdWUubGVuZ3RoICE9IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzaGFyZUltYWdlVmFsdWVcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIFx0cmV0dXJuICR0YXJnZXQuZGF0YShcInNoYXJlLWltYWdlXCIpIHx8IFwiXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgXHR9ZWxzZXtcclxuICAgICAgICAgcmV0dXJuICR0YXJnZXQuZGF0YShcInNoYXJlLWltYWdlXCIpIHx8IFwiXCJcclxuICAgIFx0fVxyXG4gICAgIH07XHJcblxyXG4gICAgdmFyIGdldERlc2NyaXB0aW9uID0gZnVuY3Rpb24gKCR0YXJnZXQpIHtcclxuICAgICAgICB2YXIgc2hhcmVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hhcmVEZXNjcmlwdGlvblwiKTtcclxuICAgICAgICBpZihzaGFyZURlc2NyaXB0aW9uICE9PSBudWxsICYmIHNoYXJlRGVzY3JpcHRpb24gIT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgIFx0dmFyIHNoYXJlRGVzY3JpcHRpb25WYWx1ZSA9IHNoYXJlRGVzY3JpcHRpb24udmFsdWUucmVwbGFjZSgvKDxbXj5dKz8+fDw+fDxcXC8+KS9pbWcsIFwiXCIpO1xyXG5cdCAgICAgICAgaWYgKHNoYXJlRGVzY3JpcHRpb25WYWx1ZS5sZW5ndGggIT0gMCkge1xyXG5cdCAgICAgICAgICAgIHJldHVybiBzaGFyZURlc2NyaXB0aW9uVmFsdWVcclxuXHQgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgcmV0dXJuICR0YXJnZXQuZGF0YShcInNoYXJlLWRlc2NyaXB0aW9uXCIpIHx8IFwiXCJcclxuICAgIFx0fSAgICBcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGdldFNvdXJjZSA9IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XHJcbiAgICAgICAgcmV0dXJuICR0YXJnZXQuZGF0YShcInNoYXJlLXNvdXJjZVwiKSB8fCBcIktPSExFUlwiXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBnZXRIYXNodGFncyA9IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XHJcbiAgICAgICAgcmV0dXJuICR0YXJnZXQuZGF0YShcInNoYXJlLWhhc2h0YWdzXCIpIHx8IFwiXCJcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGlzVmlkZW9TaGFyZSA9IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XHJcbiAgICAgICAgcmV0dXJuICR0YXJnZXQuZGF0YShcInNoYXJlLXZpZGVvXCIpIHx8IFwiZmFsc2VcIlxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgZ2V0Q2F0ZWdvcnkgPSBmdW5jdGlvbiAoJHRhcmdldCkge1xyXG4gICAgICAgIHJldHVybiAkdGFyZ2V0LmRhdGEoXCJzaGFyZS1jYXRlZ29yeVwiKSB8fCBcIlwiXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBmb3JtYXRTaGFyZUxpbmsgPSBmdW5jdGlvbiAoJHRhcmdldCwgbGlua1RlbXBsYXRlKSB7XHJcbiAgICAgICAgdmFyIGZvcm1hdHRlZExpbmsgPSBsaW5rVGVtcGxhdGU7XHJcblxyXG4gICAgICAgIGZvcm1hdHRlZExpbmsgPSBmb3JtYXR0ZWRMaW5rLnJlcGxhY2UoL3t1cmx9L2csIGdldFVSTCgkdGFyZ2V0KSk7XHJcbiAgICAgICAgZm9ybWF0dGVkTGluayA9IGZvcm1hdHRlZExpbmsucmVwbGFjZSgve3RpdGxlfS9nLCBnZXRUaXRsZSgkdGFyZ2V0KSk7XHJcbiAgICAgICAgZm9ybWF0dGVkTGluayA9IGZvcm1hdHRlZExpbmsucmVwbGFjZSgve2ltZ30vZywgZ2V0SW1hZ2UoJHRhcmdldCkpO1xyXG4gICAgICAgIGZvcm1hdHRlZExpbmsgPSBmb3JtYXR0ZWRMaW5rLnJlcGxhY2UoL3t2aWF9L2csIGdldFNvdXJjZSgkdGFyZ2V0KSk7XHJcbiAgICAgICAgZm9ybWF0dGVkTGluayA9IGZvcm1hdHRlZExpbmsucmVwbGFjZSgve2hhc2h0YWdzfS9nLCBnZXRIYXNodGFncygkdGFyZ2V0KSk7XHJcbiAgICAgICAgZm9ybWF0dGVkTGluayA9IGZvcm1hdHRlZExpbmsucmVwbGFjZSgve2lzX3ZpZGVvfS9nLCBpc1ZpZGVvU2hhcmUoJHRhcmdldCkpO1xyXG4gICAgICAgIGZvcm1hdHRlZExpbmsgPSBmb3JtYXR0ZWRMaW5rLnJlcGxhY2UoL3tjYXRlZ29yeX0vZywgZ2V0Q2F0ZWdvcnkoJHRhcmdldCkpO1xyXG4gICAgICAgIGZvcm1hdHRlZExpbmsgPSBmb3JtYXR0ZWRMaW5rLnJlcGxhY2UoL3tkZXNjcmlwdGlvbn0vZywgZ2V0RGVzY3JpcHRpb24oJHRhcmdldCkpO1xyXG5cclxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkTGluaztcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHNob3dXaW5kb3cgPSBmdW5jdGlvbiAodGFyZ2V0VVJMLCB0YXJnZXRQcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgdmFyIHdpbmRvd1Byb3BzID0gJ21lbnViYXI9bm8sbG9jYXRpb249eWVzLHJlc2l6YWJsZT15ZXMsc2Nyb2xsYmFycz15ZXMsc3RhdHVzPW5vLHdpZHRoPXt3aWR0aH0saGVpZ2h0PXtoZWlnaHR9LHRvcD17dG9wfSxsZWZ0PXtsZWZ0fSc7XHJcblxyXG4gICAgICAgIGlmICh0YXJnZXRQcm9wZXJ0aWVzICYmIHRhcmdldFByb3BlcnRpZXMud2lkdGggJiYgdGFyZ2V0UHJvcGVydGllcy5oZWlnaHQgJiYgc2NyZWVuICYmIHNjcmVlbi5oZWlnaHQpIHtcclxuICAgICAgICAgICAgd2luZG93UHJvcHMgPSB3aW5kb3dQcm9wcy5yZXBsYWNlKC97d2lkdGh9L2csIHRhcmdldFByb3BlcnRpZXMud2lkdGgpO1xyXG4gICAgICAgICAgICB3aW5kb3dQcm9wcyA9IHdpbmRvd1Byb3BzLnJlcGxhY2UoL3toZWlnaHR9L2csIHRhcmdldFByb3BlcnRpZXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgd2luZG93UHJvcHMgPSB3aW5kb3dQcm9wcy5yZXBsYWNlKC97dG9wfS9nLCAoc2NyZWVuLmhlaWdodCAvIDIpIC0gKHRhcmdldFByb3BlcnRpZXMuaGVpZ2h0IC8gMikpO1xyXG4gICAgICAgICAgICB3aW5kb3dQcm9wcyA9IHdpbmRvd1Byb3BzLnJlcGxhY2UoL3tsZWZ0fS9nLCAoc2NyZWVuLndpZHRoIC8gMikgLSAodGFyZ2V0UHJvcGVydGllcy53aWR0aCAvIDIpKTtcclxuICAgICAgICAgICAgd2luZG93Lm9wZW4odGFyZ2V0VVJMLCAnc2hhcmVXaW5kb3cnLCB3aW5kb3dQcm9wcykuZm9jdXMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aW5kb3cub3Blbih0YXJnZXRVUkwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gU2hhcmUgZnVuY3Rpb25zXHJcbiAgICB2YXIgc2hhcmVPblBpbnRlcmVzdCA9IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XHJcbiAgICAgICAgdmFyIHNoYXJlTGluayA9IGZvcm1hdFNoYXJlTGluaygkdGFyZ2V0LCAnaHR0cHM6Ly9waW50ZXJlc3QuY29tL3Bpbi9jcmVhdGUvYm9va21hcmtsZXQvP21lZGlhPXtpbWd9JnVybD17dXJsfSZpc192aWRlbz17aXNfdmlkZW99JmRlc2NyaXB0aW9uPXt0aXRsZX0nKTtcclxuICAgICAgICBzaG93V2luZG93KHNoYXJlTGluaywge1xyXG4gICAgICAgICAgICB3aWR0aDogNzUwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDMzMVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgdmFyIHNoYXJlT25Ib3V6eiA9IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XHJcbiAgICAgICAgLy8gQmVjYXVzZSBIb3V6eiBwcm92aWRlcyBhIHZlcnkgc3BlY2lmaWMgc2NyaXB0IHRhZyBpbiBhbiBpZnJhbWUgZm9yIHRoZWlyIHNoYXJlIGxpbmssXHJcbiAgICAgICAgLy8gdGhpcyBzaGFyZSBvcHRpb24gcmVxdWlyZXMgc3BlY2lhbCBoYW5kbGluZy4gV2UgcmVwbGFjZSB0aGUgZXhpc3RpbmcgYnV0dG9uIHdpdGggdGhlXHJcbiAgICAgICAgLy8gSG91enotcHJvdmlkZWQgY29kZSBzbmlwcGV0LCBhbmQgdGhlbiB0aGUgdXNlciBoYXMgdG8gbWFudWFsbHkgY2xpY2sgdGhlIG5ldyBIb3V6eiBidXR0b25cclxuXHJcbiAgICAgICAgJHRhcmdldC5hZGRDbGFzcyhcImNsaWNrZWRIb3V6elwiKTtcclxuICAgICAgICAvLyAkdGFyZ2V0IGlzIDxidXR0b24gY2xhc3M9XCJrb2gtc2hhcmUtaG91enpcIj5MYWJlbDwvYnV0dG9uPlxyXG4gICAgICAgIHZhciAkaG91enpCdXR0b24gPSAkdGFyZ2V0O1xyXG4gICAgICAgIHZhciAkaG91enpCdXR0b25Db250YWluZXIgPSAkdGFyZ2V0LnBhcmVudCgpO1xyXG4gICAgICAgIHZhciAkaG91enpGcmFtZUNvbnRhaW5lciA9ICRob3V6ekJ1dHRvbkNvbnRhaW5lci5maW5kKFwiLmtvaC1ob3V6ei1idXR0b24tdGFyZ2V0XCIpO1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgY29udGFpbmVyIGZvciB0aGUgc3BlY2lhbCBIb3V6eiBjb2RlIGRvZXNuJ3QgZXhpc3QsIGFkZCBpdFxyXG4gICAgICAgIGlmICgkaG91enpGcmFtZUNvbnRhaW5lci5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgICAgICAkaG91enpCdXR0b25Db250YWluZXIuYXBwZW5kKCc8c3BhbiBjbGFzcz1cImtvaC1ob3V6ei1idXR0b24tdGFyZ2V0XCI+PC9zcGFuPicpO1xyXG4gICAgICAgICAgICAkaG91enpGcmFtZUNvbnRhaW5lciA9ICRob3V6ekJ1dHRvbkNvbnRhaW5lci5maW5kKFwiLmtvaC1ob3V6ei1idXR0b24tdGFyZ2V0XCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTm93IHRoYXQgdGhlIGNvbnRhaW5lciBleGlzdHMgKGFzc3VtaW5nIG5vdGhpbmcgZmFpbGVkKVxyXG4gICAgICAgIGlmICgkaG91enpGcmFtZUNvbnRhaW5lci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICRob3V6ekZyYW1lQ29udGFpbmVyLmh0bWwoXCJIZWxsbyBXb3JsZFwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBpZnJhbWUgZG9lc24ndCBhbHJlYWR5IGV4aXN0LCBhZGQgdGhlIHNwZWNpYWwgSG91enogY29kZVxyXG4gICAgICAgICAgICAvL2lmICggJGhvdXp6RnJhbWVDb250YWluZXIuZmluZChcImlmcmFtZVwiKSA8PSAwICkge1xyXG5cclxuICAgICAgICAgICAgLy8gSFRNTCBzbmlwcGV0IGZvciB0aGlzIGlzIHByb3ZpZGVkIGJ5IEhvdXp6LCBhbmQgbXVzdCBtYXRjaCBleGFjdGx5XHJcbiAgICAgICAgICAgIHZhciBodG1sU25pcHBldCA9ICc8YSBjbGFzcz1cImhvdXp6LXNoYXJlLWJ1dHRvblwiIGRhdGEtdXJsPVwie3VybH1cIiBkYXRhLWh6aWQ9XCJ7aG91enpJRH1cIiBkYXRhLXRpdGxlPVwie3RpdGxlfVwiIGRhdGEtaW1nPVwie2ltZ31cIiBkYXRhLWRlc2M9XCJ7ZGVzY3JpcHRpb259XCIgZGF0YS1jYXRlZ29yeT1cIntjYXRlZ29yeX1cIiBkYXRhLXNob3djb3VudD1cIjBcIiBocmVmPVwiaHR0cDovL3d3dy5ob3V6ei5jb21cIj48L2E+JztcclxuICAgICAgICAgICAgaHRtbFNuaXBwZXQgPSBmb3JtYXRTaGFyZUxpbmsoJHRhcmdldCwgaHRtbFNuaXBwZXQpO1xyXG4gICAgICAgICAgICBodG1sU25pcHBldCA9IGh0bWxTbmlwcGV0LnJlcGxhY2UoL3tob3V6eklEL2csIGhvdXp6SUQpO1xyXG4gICAgICAgICAgICBodG1sU25pcHBldCArPSAnPHNjcmlwdD4oZnVuY3Rpb24oZCxzLGlkKXtpZighZC5nZXRFbGVtZW50QnlJZChpZCkpe3ZhciBqcz1kLmNyZWF0ZUVsZW1lbnQocyk7anMuaWQ9aWQ7anMuYXN5bmM9dHJ1ZTtqcy5zcmM9XCIvL3BsYXRmb3JtLmhvdXp6LmNvbS9qcy93aWRnZXRzLmpzP1wiKyhuZXcgRGF0ZSgpLmdldFRpbWUoKSk7dmFyIHNzPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUocylbMF07c3MucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoanMsc3MpO319KShkb2N1bWVudCxcInNjcmlwdFwiLFwiaG91enp3aWRnZXQtanNcIik7PC9zY3JpcHQ+JztcclxuXHJcbiAgICAgICAgICAgICRob3V6ekZyYW1lQ29udGFpbmVyLmh0bWwoaHRtbFNuaXBwZXQpO1xyXG4gICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgLy8gSGlkZSB0aGUgcHJldHR5IGJ1dHRvblxyXG4gICAgICAgICAgICAkaG91enpCdXR0b24uaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIHNoYXJlT25GYWNlYm9vayA9IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XHJcbiAgICBcdHZhciBpbWFnZSA9IGdldEltYWdlKCR0YXJnZXQpO1xyXG4gICAgXHR2YXIgc2hhcmVMaW5rID0gJyc7XHJcbiAgICBcdGlmKGltYWdlID09PSAnJyl7XHJcbiAgICBcdFx0c2hhcmVMaW5rID0gZm9ybWF0U2hhcmVMaW5rKCR0YXJnZXQsIFwiaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlci9zaGFyZXIucGhwP3U9e3VybH0mdGl0bGU9e3RpdGxlfSZkZXNjcmlwdGlvbj17ZGVzY3JpcHRpb259XCIpO1xyXG4gICAgXHR9ZWxzZXtcclxuICAgIFx0XHRzaGFyZUxpbmsgPSBmb3JtYXRTaGFyZUxpbmsoJHRhcmdldCwgXCJodHRwczovL3d3dy5mYWNlYm9vay5jb20vc2hhcmVyL3NoYXJlci5waHA/dT17dXJsfSZ0aXRsZT17dGl0bGV9JmRlc2NyaXB0aW9uPXtkZXNjcmlwdGlvbn0mcGljdHVyZT17aW1nfVwiKTtcclxuICAgIFx0fVxyXG4gICAgICAgIHNob3dXaW5kb3coc2hhcmVMaW5rLCB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA2MDAsXHJcbiAgICAgICAgICAgIGhlaWdodDogMjcwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBzaGFyZU9uVHdpdHRlciA9IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XHJcbiAgICAgICAgdmFyIHNoYXJlTGluayA9IGZvcm1hdFNoYXJlTGluaygkdGFyZ2V0LCBcImh0dHBzOi8vdHdpdHRlci5jb20vc2hhcmU/dXJsPXt1cmx9JnRleHQ9e3RpdGxlfVwiKTtcclxuICAgICAgICBzaG93V2luZG93KHNoYXJlTGluaywge1xyXG4gICAgICAgICAgICB3aWR0aDogNjAwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDQ0MFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgc2hhcmVPbkdvb2dsZSA9IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XHJcbiAgICAgICAgdmFyIHNoYXJlTGluayA9IGZvcm1hdFNoYXJlTGluaygkdGFyZ2V0LCAnaHR0cHM6Ly9wbHVzLmdvb2dsZS5jb20vc2hhcmU/dXJsPXt1cmx9Jyk7XHJcbiAgICAgICAgc2hvd1dpbmRvdyhzaGFyZUxpbmssIHtcclxuICAgICAgICAgICAgd2lkdGg6IDYwMCxcclxuICAgICAgICAgICAgaGVpZ2h0OiAyNzBcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHNoYXJlT25FbWFpbCA9IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XHJcbiAgICAgICAgLy8gTmVlZCB0byBmaWd1cmUgb3V0IHdoYXQgdGhlIGhhbmRsaW5nIGZvciBlbWFpbCBpc1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIGVudGlyZSBwYW5lbFxyXG4gICAgdmFyIGluaXRTaGFyZVBhbmVsID0gZnVuY3Rpb24gKCRzaGFyZVBhbmVsKSB7XHJcblxyXG4gICAgICAgIC8qIEFzc3VtZXMgdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmUsIHdoZXJlIHRoZSB1bCBpcyBwYXNzZWQgaW4gYXMgJHNoYXJlUGFuZWw6XHJcblxyXG4gICAgICAgIDx1bD5cclxuICAgICAgICBcdDxsaT48YnV0dG9uIGNsYXNzPVwia29oLXNoYXJlLXBpbnRlcmVzdFwiPkxhYmVsPC9idXR0b24+PC9saT5cclxuICAgICAgICBcdDxsaT48YnV0dG9uIGNsYXNzPVwia29oLXNoYXJlLWhvdXp6XCI+TGFiZWw8L2J1dHRvbj48L2xpPlxyXG4gICAgICAgIFx0PGxpPjxidXR0b24gY2xhc3M9XCJrb2gtc2hhcmUtZmFjZWJvb2tcIj5MYWJlbDwvYnV0dG9uPjwvbGk+XHJcbiAgICAgICAgXHQ8bGk+PGJ1dHRvbiBjbGFzcz1cImtvaC1zaGFyZS10d2l0dGVyXCI+TGFiZWw8L2J1dHRvbj48L2xpPlxyXG4gICAgICAgIFx0PGxpPjxidXR0b24gY2xhc3M9XCJrb2gtc2hhcmUtZ29vZ2xlXCI+TGFiZWw8L2J1dHRvbj48L2xpPlxyXG4gICAgICAgIFx0PGxpPjxidXR0b24gY2xhc3M9XCJrb2gtc2hhcmUtZW1haWxcIj5MYWJlbDwvYnV0dG9uPjwvbGk+XHJcbiAgICAgICAgXHQ8bGk+PGJ1dHRvbiBjbGFzcz1cImtvaC1zaGFyZS1zaG93cm9vbVwiPkxhYmVsPC9idXR0b24+PC9saT5cclxuICAgICAgICA8L3VsPlxyXG4gICAgICAgICovXHJcblxyXG4gICAgICAgIHZhciAkc2hhcmVCdXR0b25zID0gJHNoYXJlUGFuZWwuZmluZChcImxpID4gYnV0dG9uXCIpO1xyXG4gICAgICAgICRzaGFyZUJ1dHRvbnMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciAkYnV0dG9uID0gJCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICRidXR0b24ub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGJ1dHRvbi5oYXNDbGFzcyhcImtvaC1zaGFyZS1waW50ZXJlc3RcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaGFyZU9uUGludGVyZXN0KCRidXR0b24pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkYnV0dG9uLmhhc0NsYXNzKFwia29oLXNoYXJlLWhvdXp6XCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hhcmVPbkhvdXp6KCRidXR0b24pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkYnV0dG9uLmhhc0NsYXNzKFwia29oLXNoYXJlLWZhY2Vib29rXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hhcmVPbkZhY2Vib29rKCRidXR0b24pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkYnV0dG9uLmhhc0NsYXNzKFwia29oLXNoYXJlLXR3aXR0ZXJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaGFyZU9uVHdpdHRlcigkYnV0dG9uKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJGJ1dHRvbi5oYXNDbGFzcyhcImtvaC1zaGFyZS1nb29nbGVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaGFyZU9uR29vZ2xlKCRidXR0b24pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkYnV0dG9uLmhhc0NsYXNzKFwia29oLXNoYXJlLWVtYWlsXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hhcmVPbkVtYWlsKCRidXR0b24pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkYnV0dG9uLmhhc0NsYXNzKFwia29oLXNoYXJlLXNob3dyb29tXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSW50ZW50aW9uYWxseSBsZWZ0IGJsYW5rOyBzaG93cm9vbSBmZWF0dXJlIG5vdCBpbXBsZW1lbnRlZCB5ZXRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgbWFrZVRvb2x0aXAgPSBmdW5jdGlvbiAoJGNvbnRhaW5lciwgJGJ1dHRvbiwgJHBhbmVsLCB0b29sdGlwSUQsIHRvb2x0aXBDbGFzcykge1xyXG4gICAgICAgIC8vIFByZXNlcnZlIG9yaWdpbmFsIHBhbmVsIEhUTUwgc28gd2UgY2FuIHB1dCBpdCBiYWNrIHdoZW4gdGhlIHRvb2x0aXAgY2xvc2VzXHJcbiAgICAgICAgdmFyIHBhbmVsSFRNTCA9ICRwYW5lbC5odG1sKCk7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgdG9vbHRpcElEICE9ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICRidXR0b24ucXRpcCh7XHJcbiAgICAgICAgICAgICAgICBpZDogdG9vbHRpcElELFxyXG4gICAgICAgICAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICRwYW5lbFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbXk6ICdib3R0b20gcmlnaHQnLCAvLyBQb3NpdGlvbiBteSB0b3AgbGVmdC4uLlxyXG4gICAgICAgICAgICAgICAgICAgIGF0OiAnY2VudGVyIGNlbnRlcicsIC8vIGF0IHRoZSBib3R0b20gcmlnaHQgb2YuLi5cclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6ICRjb250YWluZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgdmlld3BvcnQ6IHRydWVcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzaG93OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdjbGljaydcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBoaWRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICd1bmZvY3VzJyxcclxuICAgICAgICAgICAgICAgICAgICBmaXhlZDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ2tvaC1xdGlwLXBvcG92ZXIgJyArIHRvb2x0aXBDbGFzcyArICcgcXRpcC1saWdodCBxdGlwLXNoYWRvdycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGlwOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3BlY2lhbCBjbGVhbiB1cCBvZiBIb3V6eiBidXR0b24gc3R1ZmZcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoJyNob3V6endpZGdldC1qcycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgd2luZG93LmhvdXp6O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHdpbmRvdy5oem1yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2hvdXp6d2lkZ2V0LWpzJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBodG1sIGFuZCByZWluaXRpYWxpemUgb25jbGljayBoYW5kbGVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGFuZWwuaHRtbChwYW5lbEhUTUwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0U2hhcmVQYW5lbCgkcGFuZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGJ1dHRvbi5xdGlwKHtcclxuICAgICAgICAgICAgICAgIGlkOiB0b29sdGlwSUQsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJHBhbmVsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgICBteTogJ3RvcCByaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYXQ6ICdjZW50ZXIgY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNob3c6IHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudDogJ2NsaWNrJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGhpZGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudDogJ3VuZm9jdXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpeGVkOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAna29oLXF0aXAtcG9wb3ZlciAnICsgdG9vbHRpcENsYXNzICsgJyBxdGlwLWxpZ2h0IHF0aXAtc2hhZG93JyxcclxuICAgICAgICAgICAgICAgICAgICB0aXA6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzcGVjaWFsIGNsZWFuIHVwIG9mIEhvdXp6IGJ1dHRvbiBzdHVmZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCgnI2hvdXp6d2lkZ2V0LWpzJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB3aW5kb3cuaG91eno7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgd2luZG93Lmh6bXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjaG91enp3aWRnZXQtanMnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgdGhlIGh0bWwgYW5kIHJlaW5pdGlhbGl6ZSBvbmNsaWNrIGhhbmRsZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRwYW5lbC5odG1sKHBhbmVsSFRNTCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRTaGFyZVBhbmVsKCRwYW5lbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvKiBEZWZpbmVzIGZ1bmN0aW9ucyBleHBvc2VkIHRocm91Z2ggbWFuYWdlciBvYmplY3QgKi9cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCRwYW5lbCkge1xyXG4gICAgICAgICAgICBpbml0U2hhcmVQYW5lbCgkcGFuZWwpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5pdEFzVG9vbHRpcDogZnVuY3Rpb24gKCRjb250YWluZXIsICRidXR0b24sICRwYW5lbCwgdG9vbHRpcElELCB0b29sdGlwQ2xhc3MpIHtcclxuICAgICAgICAgICAgaW5pdFNoYXJlUGFuZWwoJHBhbmVsKTtcclxuICAgICAgICAgICAgbWFrZVRvb2x0aXAoJGNvbnRhaW5lciwgJGJ1dHRvbiwgJHBhbmVsLCB0b29sdGlwSUQsIHRvb2x0aXBDbGFzcyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwaW50ZXJlc3Q6IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHNoYXJlT25QaW50ZXJlc3QoJHRhcmdldCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBob3V6ejogZnVuY3Rpb24gKCR0YXJnZXQpIHtcclxuICAgICAgICAgICAgc2hhcmVPbkhvdXp6KCR0YXJnZXQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZmFjZWJvb2s6IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHNoYXJlT25GYWNlYm9vaygkdGFyZ2V0KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHR3aXR0ZXI6IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHNoYXJlT25Ud2l0dGVyKCR0YXJnZXQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ29vZ2xlOiBmdW5jdGlvbiAoJHRhcmdldCkge1xyXG4gICAgICAgICAgICBzaGFyZU9uR29vZ2xlKCR0YXJnZXQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW1haWw6IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHNoYXJlT25FbWFpbCgkdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxufSkoKTtcclxuXHJcblxyXG4vKiBEZWZpbmVzIGNvbW1vbiBjb2RlIGZvciBzaGFyZSBidXR0b24gKi9cclxudmFyICRzb2NpYWxQYWdlU2hhcmUgPSAkKFwiLmtvaC1wYWdlLXNoYXJlXCIpO1xyXG52YXIgJHNvY2lhbFBhZ2VTaGFyZUJ1dHRvbiA9ICRzb2NpYWxQYWdlU2hhcmUuY2hpbGRyZW4oXCIua29oLXBhZ2Utc2hhcmUtYnV0dG9uXCIpO1xyXG52YXIgJHNvY2lhbFBhZ2VTaGFyZVBhbmVsID0gJHNvY2lhbFBhZ2VTaGFyZS5jaGlsZHJlbihcIi5rb2gtcGFnZS1zaGFyZS1wb3BvdmVyXCIpO1xyXG5heEtPSCAmJiBheEtPSC51dGlscyAmJiBheEtPSC51dGlscy5zb2NpYWxTaGFyZSAmJiBheEtPSFxyXG4gICAgLnV0aWxzXHJcbiAgICAuc29jaWFsU2hhcmVcclxuICAgIC5pbml0QXNUb29sdGlwKCRzb2NpYWxQYWdlU2hhcmUsICRzb2NpYWxQYWdlU2hhcmVCdXR0b24sICRzb2NpYWxQYWdlU2hhcmVQYW5lbCk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
