/*
 * Copyright © 2000-2017 Kohler Company. All Rights Reserved.
 */
/*
 * Copyright © 2000-2017 Kohler Company. All Rights Reserved.
 */
function handleAutoSuggest(event){var textInput=event.currentTarget.value;if(textInput.length>2||0==textInput.toLowerCase().indexOf("k-")){if(0==textInput.toLowerCase().indexOf("k-")){var length=textInput.length;textInput=textInput.substr(2,length)}$.getJSON($(".koh-primary-nav-suggest-link").val()+"?q="+textInput,function(data,status){function getBoldValue(searchText,original){if(original.toLowerCase().indexOf(searchText.toLowerCase())>-1){var start=original.toLowerCase().indexOf(searchText.toLowerCase()),end=searchText.length;return original.substr(0,start)+"<mark>"+original.substr(start,end)+"</mark>"+original.substr(start+end,original.length)}return original}if("success"==status){var ul=$("div#search-suggestions-container > div.search-suggestions-scroller > ul");ul.empty(),"undefined"===data.suggestions||0==data.suggestions.length?$("div#search-suggestions-container").hide():($.each(data.suggestions,function(name,value){ul.append($('<li class="suggestion-item"><a  href="'+value+'">'+getBoldValue(textInput,value)+"</a></li>"))}),$(".suggestion-item").on("click",function(e){e.preventDefault(),$("#koh-nav-searchbox").val($($(e.currentTarget).children()[0]).attr("href")),$(".koh-site-search-form")[0].submit()}),$("div#search-suggestions-container").show())}})}else $("div#search-suggestions-container").hide()}/*
 * Copyright © 2000-2017 Kohler Company. All Rights Reserved.
 */
function createCookie(name,value,minutes,locale){var expires="",cookie="";if(minutes){var date=new Date;date.setTime(date.getTime()+60*minutes*1e3),expires="expires="+date.toUTCString()}cookie=name+"="+value+"; "+expires+"; path=/;",document.cookie=cookie}function switchLanguage(locale,isParent,currentSiteUrl,targetSiteUrl){if(""!=locale&&void 0!=locale){var getCurrentUrl=(locale.split("_")[0],window.location.href),parameters="";if(getCurrentUrl.indexOf("?")>0&&(parameters=getCurrentUrl.substring(getCurrentUrl.indexOf("?"),getCurrentUrl.length)),isParent){var finalUrl=window.location.protocol+"//"+window.location.host,currentUrl=window.location.pathname;finalUrl+=currentUrl===currentSiteUrl?currentUrl.replace(currentSiteUrl,targetSiteUrl):currentUrl.replace(currentSiteUrl+"/",targetSiteUrl),finalUrl+=parameters,location.assign(finalUrl)}else{var finalUrl=window.location.protocol+"//"+window.location.host,currentUrl=window.location.pathname;currentUrl===currentSiteUrl?finalUrl+=currentUrl.replace(currentSiteUrl,targetSiteUrl):currentUrl===currentSiteUrl+"/"?finalUrl+=currentUrl.replace(currentSiteUrl+"/",targetSiteUrl):0===currentUrl.indexOf(currentSiteUrl)&&(finalUrl+="/"===targetSiteUrl?currentUrl.replace(currentSiteUrl+"/",targetSiteUrl):currentUrl.replace(currentSiteUrl,targetSiteUrl+"/")),finalUrl+=parameters,location.assign(finalUrl)}}}function addRemeCookie(remeElement,locale){var cookieName=remeElement.data("cookie-name"),cookieValue=remeElement.data("cookie-value");""!==locale&&(cookieValue=locale);var durationMinutes=remeElement.data("cookie-duration"),expires="";if(null===durationMinutes||""===durationMinutes){var date=new Date;date.setTime(date.getTime()+60*durationMinutes*1e3),expires="expires="+date.toUTCString()}createCookie(cookieName,cookieValue,durationMinutes,locale)}function addAlternateFilterCookie(remeElement,locale){var alternateFilterCookieName=remeElement.data("alternate_filter_cookie_name");createCookie(alternateFilterCookieName,"YES",2,locale)}var axKOH=axKOH||{};axKOH.utils=axKOH.utils||{},axKOH.utils.objToString=function(obj){return JSON.stringify(obj,null,4)},axKOH.utils.debugLog=function(content){},axKOH.utils.toggleClass=function($element,className,addIt){addIt?$element.addClass(className):$element.removeClass(className)},axKOH.utils.hideElement=function($element,hideIt){var hideClass="hidden";axKOH.utils.toggleClass($element,hideClass,hideIt)},axKOH.utils.openMenu=function($element,openIt){var openClass="open";axKOH.utils.toggleClass($element,openClass,openIt)},axKOH.utils.disableLinks=function(element){element.find("a").click(function(event){event.preventDefault()})},axKOH.utils.stopVideos=function(element){var iframe=element.querySelector("iframe"),video=element.querySelector("video");if(null!==iframe){var iframeSrc=iframe.src;iframe.src=iframeSrc}null!==video&&video.pause()};/*
 * Copyright © 2000-2017 Kohler Company. All Rights Reserved.
 */
/*
 * Copyright © 2000-2017 Kohler Company. All Rights Reserved.
 */
var axKOH=axKOH||{};axKOH.main=axKOH.main||{},axKOH.main.componentManager=axKOH.main.componentManager||{},axKOH.main.componentManager.comparePanel=function(){var componentClass="c-koh-compare-panel",initComponents=function(){},initCompareModal=function($components){$components.each(function(componentIndex){var $component=$(this),remodalID="CompareModal"+componentIndex,$button=$component.find(".koh-compare-panel-button"),$panel=$component.find(".koh-compare-panel-modal");initAsModal($button,$panel,remodalID),initColorOverlays();var $compareProducts=$(".c-koh-compare-products").find(".koh-compare-product");$compareProducts.each(function(componentIndex){var $product=$(this),$button=$product.find(".koh-compare-product-required-button"),$panel=$product.find(".koh-compare-required-products-panel"),remodalID="RequiredCompareItems"+componentIndex;initAsModal($button,$panel,remodalID)})})},initAsModal=function($button,$panel,remodalID){$panel.data("remodal-id",remodalID),$panel.prepend('<button data-remodal-action="close" class="remodal-close"></button>'),$panel.attr("data-koh-component",componentClass),$panel.addClass(componentClass+"-modal");var $remodalPanel=$panel.remodal({hashTracking:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:""});$button.data("remodal-target",remodalID),$button.click({target:$remodalPanel},function(e){e.preventDefault(),e.stopPropagation();var $target=e.data.target;$target.open()})},initAsModalAndOpen=function($button,$panel,remodalID){$panel.data("remodal-id",remodalID),$panel.prepend('<button data-remodal-action="close" class="remodal-close"></button>'),$panel.attr("data-koh-component",componentClass),$panel.addClass(componentClass+"-modal");var $remodalPanel=$panel.remodal({hashTracking:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:""}).open();$button.data("remodal-target",remodalID),$button.click({target:$remodalPanel},function(e){e.preventDefault(),e.stopPropagation();var $target=e.data.target;$target.open()})},initColorOverlays=function(){var $colorSwatches=$(".compareColorSwatch");$colorSwatches.each(function(swatchIndex){var $colorSwatch=$(this),$colorLabel=$colorSwatch.attr("alt");$colorSwatch.qtip({id:"swatch"+swatchIndex,content:{text:$colorLabel},position:{my:"top left",at:"bottom left",adjust:{y:6}},style:{classes:"koh-qtip-tooltip koh-product-detail-tooltip qtip-bootstrap",tip:!1}})})},initComparePanel=function(){function removeModalProduct(event,product){event.preventDefault();var cookieContent,uri=product.attr("href"),itemno=product.data("product-itemno"),cookieName=$("#compare-cookie-info").data("cookie-name"),durationMinutes=$("#compare-cookie-info").data("cookie-duration"),cookie=getCookie(cookieName);if(null===cookie||""===cookie)return void $(".c-koh-compare-panel").remove();var products,values=cookie.split("."),category=values[0];values.length>1&&(products=values[1].split("|"));var index=products.indexOf(itemno.toString());return products.splice(index,1),cookieContent=category+"."+products.join("|"),deleteCookie(cookieName),products.length>0?(createCookie(cookieName,cookieContent,durationMinutes),product.closest(".koh-compare-product").remove(),$(".c-koh-compare-products").find(".koh-compare-remove").remove(),removeProductText(product),void $.ajax({url:uri,cache:!1,success:function(data){$("#comparePanel").html(data),$(".koh-compare-items").addClass("open")}}).done(function(){reloadAndOpenModal()}).fail(function(){})):($(".c-koh-compare-panel").remove(),deleteCookie(cookieName),void createCookie(cookieName,"",durationMinutes))}function getCookie(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=ca.length-1;i>=0;--i){for(var c=ca[i];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null}function deleteCookie(name){document.cookie=name+"=; expires=Thu, 01-Jan-70 00:00:01 GMT;"}function addProductText($panel){$(".add_"+$panel.data("product-itemno")).closest(".koh-product-tools").addClass("product-added"),$(".add_"+$panel.data("product-itemno")).closest(".koh-product-tile").addClass("product-added"),$panel.hasClass("koh-compare-button-quickview")&&($panel.closest(".koh-product-quick-view-panel").addClass("product-added"),$("div[data-modal-link='"+$panel.closest(".koh-product-quick-view-panel").attr("id")+"']").addClass("product-added")),$panel.hasClass("koh-compare-button-tile")&&($panel.closest(".koh-product-tile").addClass("product-added"),$("#"+$panel.closest(".koh-product-tile").attr("data-modal-link")).addClass("product-added"),$(".koh-product-details").find(".koh-product-tools").addClass("product-added"))}function removeProductText($panel){$(".remove_"+$panel.data("product-itemno")).closest(".koh-product-tools").removeClass("product-added"),$(".remove_"+$panel.data("product-itemno")).closest(".koh-product-tile").removeClass("product-added"),$panel.hasClass("koh-compare-button-quickview")&&($panel.closest(".koh-product-quick-view-panel").removeClass("product-added"),$("div[data-modal-link='"+$panel.closest(".koh-product-quick-view-panel").attr("id")+"']").removeClass("product-added")),$panel.hasClass("koh-compare-button-tile")&&($panel.closest(".koh-product-tile").removeClass("product-added"),$("#"+$panel.closest(".koh-product-tile").attr("data-modal-link")).removeClass("product-added")),$panel.hasClass("koh-compare-remove-modal")&&($("div[data-modal-link='QuickView"+$panel.attr("data-product-itemno")+"']").removeClass("product-added"),$("#QuickView"+$panel.attr("data-product-itemno")).removeClass("product-added"),$(".koh-product-details").find(".koh-product-tools").removeClass("product-added"))}setTimeout(function(){$(".c-koh-product-faceted-search-modal .koh-compare-add").each(function(){var cookieName=($(this).attr("href"),$(this).data("product-itemno"),$("#compare-cookie-info").data("cookie-name")),cookie=($("#compare-cookie-info").data("cookie-duration"),$("#compare-cookie-info").data("cookie-max-items-number"),$("#compare-cookie-info").data("cookie-max-items-message"),$("#compare-cookie-info").data("cookie-diff-category-message"),$("#category-info").data("cookie-category-product"),getCookie(cookieName));if(null!==cookie){var values=cookie.split(".");if(values[0],values[1]){values[1].split("|")}}})},1e3);var reloadModal=function(){var $components=$("."+componentClass);$components.each(function(componentIndex){var $component=$(this),remodalID="CompareModal"+componentIndex,$button=$component.find(".koh-compare-panel-button"),$panel=$component.find(".koh-compare-panel-modal");$(".koh-compare-panel-modal").remove(),initAsModal($button,$panel,remodalID),$(".c-koh-compare-products").on("click",".koh-compare-remove-modal",function(event){removeModalProduct(event,$(this))}),2==$(".koh-compare-product").size()?$(".koh-compare-product").width("50%"):$(".koh-compare-product").width("33.3333%"),initColorOverlays();var $compareProducts=$(".c-koh-compare-products").find(".koh-compare-product");$compareProducts.each(function(componentIndex){var $product=$(this),$button=$product.find(".koh-compare-product-required-button"),$panel=$product.find(".koh-compare-required-products-panel"),remodalID="RequiredCompareItems"+componentIndex;initAsModal($button,$panel,remodalID)})})},reloadAndOpenModal=function(){var $components=$("."+componentClass);$components.each(function(componentIndex){var $component=$(this),remodalID="CompareModal"+componentIndex,$button=$component.find(".koh-compare-panel-button"),$panel=$component.find(".koh-compare-panel-modal");$(".koh-compare-panel-modal").remove(),initAsModal($button,$panel,remodalID),$(".c-koh-compare-products").on("click",".koh-compare-remove-modal",function(event){removeModalProduct(event,$(this))}),2==$(".koh-compare-product").size()?$(".koh-compare-product").width("50%"):$(".koh-compare-product").width("33.3333%");var $compareProducts=$(".c-koh-compare-products").find(".koh-compare-product");$compareProducts.each(function(componentIndex){var $product=$(this),$button=$product.find(".koh-compare-product-required-button"),$panel=$product.find(".koh-compare-required-products-panel"),remodalID="RequiredCompareItems"+componentIndex;initAsModalAndOpen($button,$panel,remodalID)})})},changeUrlDam=function(domainUrl,lastSlashIndex,imageUrl,damName){var defImgDomainWithoutDam=domainUrl.slice(0,lastSlashIndex),newDomainUrl=defImgDomainWithoutDam+"/"+damName;return imageUrl=imageUrl.replace("{domain}",newDomainUrl),imageUrl=imageUrl.replaceAll("{dam}",damName),imageUrl=imageUrl.replace("product_src=is{PAWEB","product_src=is{kohlerchina")};$("body").on("click",".koh-compare-add",function(event){event.preventDefault();var cookieContent,productDetailslink=$("#productDetailslink").val(),gridImageProductUrl=$("#gridImageProductUrl").val(),gridImageNewProductUrl=$("#gridImageNewProductUrl").val(),comparePanelProducts=$("#comparePanelProducts").val(),compareButtonLable=$("#compareButtonLable").val(),compareClearResults=$("#compareClearResult").val(),common_galleryNewProductUrl=$("#common_galleryNewProductUrl").val(),common_gridImageUrl=$("#common_gridImageUrl").val(),currencyCode=$("#currencyCode").val(),uri=$(this).data("href"),itemno=$(this).data("product-itemno"),defaultCategoryKey=$(this).data("category"),itemNoMultiAnscestors=$(this).data("product-itemno-multianscestors"),cookieName=$("#compare-cookie-info").data("cookie-name"),durationMinutes=$("#compare-cookie-info").data("cookie-duration"),compareMaxItemsNumber=$("#compare-cookie-info").data("cookie-max-items-number"),compareMaxItemsMessage=$("#compare-cookie-info").data("cookie-max-items-message"),compareDiffCategoryMessage=$("#compare-cookie-info").data("cookie-diff-category-message"),cookie=getCookie(cookieName),products=($("#compare-cookie-info").data("cookie-product_count"),"");if(null===cookie||""===cookie)cookieContent=defaultCategoryKey+"."+itemNoMultiAnscestors,createCookie(cookieName,cookieContent,durationMinutes),addProductText($(this));else{var values=cookie.split("."),category=values[0],products=values[1].split("|"),flagExists=!1;if(category===defaultCategoryKey)for(var i=0;i<products.length;i++)if(products[i].toString()===itemNoMultiAnscestors.toString())return!1;if(flagExists||products.push(itemNoMultiAnscestors),defaultCategoryKey!=category){var r=confirm(compareDiffCategoryMessage);if(r!==!0)return!1;$(".koh-compare-item").remove(),$(".product-added").removeClass("product-added"),deleteCookie(cookieName),cookieContent=defaultCategoryKey+"."+itemNoMultiAnscestors,createCookie(cookieName,cookieContent,durationMinutes),addProductText($(this)),products=""}else cookieContent=category+"."+products.join("|");if(products.length>compareMaxItemsNumber)return removeProductText($(this)),alert(compareMaxItemsMessage),!1;defaultCategoryKey==category&&products.length<=compareMaxItemsNumber&&addProductText($(this)),deleteCookie(cookieName),createCookie(cookieName,cookieContent,durationMinutes)}var itemNumbers="";isNaN(itemNoMultiAnscestors)&&(itemNumbers=itemNoMultiAnscestors.split("!_"));var defaultCategory="";itemNumbers.length>1&&(defaultCategory="&defaultCategory="+itemNumbers[1]),$.ajax({url:uri,cache:!1,data:{itemNumber:itemno},success:function(data){if(1==data.success){var productImageUrl;if(data.items[0].src.startsWith("http")){var lastSlashIndex=data.items[0].src.lastIndexOf("/");const defImgFromUrl=data.items[0].src.slice(lastSlashIndex+1),domainStartIndex=data.items[0].src.indexOf("//")+2,defImgDomainFromUrl=data.items[0].src.slice(domainStartIndex,lastSlashIndex);lastSlashIndex=defImgDomainFromUrl.lastIndexOf("/");const defImgDamNameFromUrl=defImgDomainFromUrl.slice(lastSlashIndex+1);productImageUrl=data.items[0].isNew?common_galleryNewProductUrl.replace("{0}",defImgFromUrl):common_gridImageUrl.replace("{0}",defImgFromUrl),"kohlerchina"===defImgDamNameFromUrl?productImageUrl=changeUrlDam(defImgDomainFromUrl,lastSlashIndex,productImageUrl,"PAWEB"):(productImageUrl=productImageUrl.replaceAll("{domain}",defImgDomainFromUrl),productImageUrl=productImageUrl.replaceAll("{dam}",defImgDamNameFromUrl))}else productImageUrl=data.items[0].isNew?gridImageNewProductUrl.replace("{0}",data.items[0].src):gridImageProductUrl.replace("{0}",data.items[0].src);var priceVat=$("#price-vat").val(),multipleValue=$("#multiply-value").val(),productPrice=data.items[0].productPrice,roundPrice=Math.round(productPrice*priceVat);productPrice=(roundPrice*multipleValue).toLocaleString("en-US");var multiAncestorefaultCategoryData="";multiAncestorefaultCategoryData=' data-product-itemno-multianscestors="'+itemNoMultiAnscestors+'"';var comparePrice=currencyCode&&data.items[0].productPrice&&data.items[0].productPrice.length>0?'<span class="koh-compare-price">'+currencyCode+" "+productPrice+"</span></a>":"",htmlData='<div class="koh-compare-item" id="'+itemno+'"><a href="'+productDetailslink+"/"+data.items[0].itemNumber+"/?skuid="+data.items[0].defaultSku+defaultCategory+"\" ><img class='koh-compare-image' src='"+productImageUrl+"' alt='' height='100' width='68'>";if(htmlData+='</br><span class="koh-compare-name"><span class="koh-product-family">'+data.items[0].family+"</span>"+data.items[0].description+"</span>",htmlData+='</br><span class="koh-compare-sku">K-'+data.items[0].defaultSku+"</span>",htmlData+=comparePrice,htmlData+='</br><button class="koh-compare-remove" data-product-itemno="'+data.items[0].itemNumber+'"'+multiAncestorefaultCategoryData+">Remove Product</button></div>",""==products){var compareLink=$("#compareLink").val(),htmlMainData='<input id="compare-cookie-info" type="hidden" data-cookie-name="'+cookieName+'" data-cookie-duration="15" data-cookie-max-items-number="1" data-cookie-max-items-message="Only three comparison products are allowed. Please remove one in order to allow adding this new compare to the list." data-cookie-diff-category-message="You can only compare products from the same category. Adding this product will clear your current comparison." data-cookie-category="'+defaultCategoryKey+'" data-cookie-product_count="cookieProductCount">';htmlMainData+='<div class="c-koh-compare-panel"><div class="koh-compare-header"><span class="koh-compare-title">'+comparePanelProducts+"</span>",htmlMainData+='<button type="button" class="koh-compare-toggle open" onclick="$(\'.koh-comp'+"are-toggle').toggleClass('open');$('.koh-compare-items').toggleClass('open');\">Show/Hide</button>",htmlMainData+='<a href="" data-listing-page-url = "'+window.location.href+'" data-compare-link = "'+compareLink+'" class="koh-compare-link btn--primary full-width-sm marg-b-10-sm active">'+compareButtonLable+"</a>",htmlMainData+='<button type="button" class="koh-compare-clear">'+compareClearResults+'</button></div><div class="koh-compare-items"></div></div>',$("#comparePanel").html(htmlMainData),htmlData+='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">2</span></div><div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">3</span></div>',$(".koh-compare-items").html(htmlData),$(".koh-compare-items").addClass("open")}else{for(var count=products.length,cookiesValue=null,i=0;i<products.length;i++)cookiesValue=products[i];2==count?($(".koh-compare-items").children().last().remove(),$(".koh-compare-items").children().last().remove(),htmlData+='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">3</span></div>',$(".koh-compare-items").append(htmlData),$(".koh-compare-items").addClass("open")):3==count&&($(".koh-compare-items").children().last().remove(),$(".koh-compare-items").append(htmlData),$(".koh-compare-items").addClass("open"))}}}}).done(function(){$(".koh-compare-toggle").addClass("open"),$(".koh-compare-items").addClass("open")}).fail(function(){})}),$("body").on("click",".koh-compare-removes",function(event){event.preventDefault();var itemno=($(this).data("href"),$(this).data("product-itemno")),itemMultiAncestors=$(this).data("product-itemno-multianscestors"),cookieName=$("#compare-cookie-info").data("cookie-name"),durationMinutes=$("#compare-cookie-info").data("cookie-duration");removeProductText($(this));var cookieContent,cookie=getCookie(cookieName);if(null===cookie||""===cookie)return void $(".c-koh-compare-panel").remove();var products,values=cookie.split("."),category=values[0];values.length>1&&(products=values[1].split("|"));var index=products.indexOf(itemno.toString());if(void 0!=itemMultiAncestors&&(index=products.indexOf(itemMultiAncestors.toString())),!(0>index)){if(products.splice(index,1),cookieContent=category+"."+products.join("|"),deleteCookie(cookieName),!(products.length>0))return $(".c-koh-compare-panel").remove(),deleteCookie(cookieName),void createCookie(cookieName,"",durationMinutes);createCookie(cookieName,cookieContent,durationMinutes);for(var count=products.length,cookiesValue=null,i=0;i<products.length;i++)cookiesValue=products[i];$("#"+itemno).remove();var count=products.length;if($(".compare-add-demo").parent().remove(),1==count){var htmlData='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">2</span></div>';htmlData+='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">3</span></div>',$(".koh-compare-items").append(htmlData)}if(2==count){var htmlData='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">3</span></div>';$(".koh-compare-items").append(htmlData)}}}),$("#comparePanel").on("click",".koh-compare-remove",function(event){event.preventDefault();var itemno=($(this).attr("href"),$(this).data("product-itemno")),itemMultiAncestors=$(this).data("product-itemno-multianscestors"),cookieName=$("#compare-cookie-info").data("cookie-name"),durationMinutes=$("#compare-cookie-info").data("cookie-duration"),elem=$(".remove_"+itemno)[0];removeProductText($(elem)),$($(".remove_"+itemno)).closest(".koh-product-tools").removeClass("product-added");var cookieContent,cookie=getCookie(cookieName);if(null===cookie||""===cookie)return void $(".c-koh-compare-panel").remove();var products,values=cookie.split("."),category=values[0];values.length>1&&(products=values[1].split("|"));var index=products.indexOf(itemno.toString());if(void 0!=itemMultiAncestors&&(index=products.indexOf(itemMultiAncestors.toString())),products.splice(index,1),cookieContent=category+"."+products.join("|"),deleteCookie(cookieName),!(products.length>0))return $(".c-koh-compare-panel").remove(),deleteCookie(cookieName),void createCookie(cookieName,"",durationMinutes);createCookie(cookieName,cookieContent,durationMinutes);for(var count=products.length,cookiesValue=null,i=0;i<products.length;i++)cookiesValue=products[i];$("#"+itemno).remove();var count=products.length;if($(".compare-add-demo").parent().remove(),1==count){var htmlData='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">2</span></div>';htmlData+='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">3</span></div>',$(".koh-compare-items").append(htmlData),$(".koh-compare-toggle").addClass("open")}if(2==count){var htmlData='<div class="koh-compare-item"><span class="koh-compare-add-blank compare-add-demo">3</span></div>';$(".koh-compare-items").append(htmlData),$(".koh-compare-toggle").addClass("open")}}),$("#comparePanel").on("click",".koh-compare-clear",function(event){$(".c-koh-compare-panel").remove(),$(".product-added").removeClass("product-added");var cookieName=$("#compare-cookie-info").data("cookie-name"),durationMinutes=$("#compare-cookie-info").data("cookie-duration");deleteCookie(cookieName),createCookie(cookieName,"",durationMinutes),reloadModal();var cookieProductCount=$("#compare-cookie-info").data("cookie-product_count"),durationMinutes=$("#compare-cookie-info").data("cookie-duration");deleteCookie(cookieProductCount),createCookie(cookieProductCount,"",durationMinutes)}),$("#comparePanel").on("click",".koh-compare-link",function(event){event.preventDefault();var compareLinkUrl=$(this).data("compare-link"),listingPageUrl=$(this).data("listing-page-url");createCookie("listingPageUrl",listingPageUrl,5),window.location.href=compareLinkUrl}),$(".c-koh-compare-products").on("click",".koh-history-page button",function(event){event.preventDefault();var listingPageUrl=getCookie("listingPageUrl");null===listingPageUrl||""===listingPageUrl||(window.location.href=listingPageUrl)}),$(".c-koh-compare-products").on("click",".koh-compare-remove-modal",function(event){removeModalProduct(event,$(this))}),$("#compare-product-details").on("click",".koh-compare-remove",function(event){event.preventDefault(),itemno=$(this).data("product-itemno"),itemMultiAncestors=$(this).data("product-itemno-multianscestors"),cookieName=$("#compare-cookie-info").data("cookie-name"),durationMinutes=$("#compare-cookie-info").data("cookie-duration");var cookieContent,cookie=getCookie(cookieName);if(null===cookie||""===cookie)return void $(".c-koh-compare-panel").remove();var products,values=cookie.split("."),category=values[0];values.length>1&&(products=values[1].split("|"));var index=products.indexOf(itemno.toString());return void 0!=itemMultiAncestors&&(index=products.indexOf(itemMultiAncestors.toString())),products.splice(index,1),cookieContent=category+"."+products.join("|"),deleteCookie(cookieName),products.length>0?(createCookie(cookieName,cookieContent,durationMinutes),void $(this).parent().parent().remove()):($(this).parent().parent().remove(),deleteCookie(cookieName),void createCookie(cookieName,"",durationMinutes))})};return window.addEventListener("pageshow",function(event){(event.persisted||window.performance&&2==window.performance.navigation.type)&&isIEBrowser()&&location.reload()},!1),{initialize:function(){initComponents();var $components=$("."+componentClass);initComparePanel($components),initCompareModal($components),initColorOverlays()},onLoad:function(){}}}(),$(function(){$(document).ready(function(){axKOH.main.componentManager.comparePanel.initialize()}),$(window).load(function(){axKOH.main.componentManager.comparePanel.onLoad();var compareHTML=$("#comparePanel");$(".koh-global-navigation-components").append(compareHTML)})}),$(document).on("opened",".remodal",function(){adjustRowHeights(),$(".c-koh-branding-bar").addClass("print-hidden"),$("#comparePanel").addClass("print-hidden"),$(".koh-page").addClass("print-hidden"),$(".c-koh-printfooter").addClass("print-hidden")}),$(document).on("closing",".remodal",function(){$(".print-hidden").removeClass("print-hidden")});var adjustRowHeights=function(){var numRows=$(".koh-compare-features-list").last().find("li").length;maxCellHeight=0,numCols=$(".koh-compare-features-list").length,$row=$(".row0");for(var i=0;numRows>i;i++)$row=$(".row"+i);$row.each(function(){var $cell=$(this);$cell.height()>maxCellHeight&&(maxCellHeight=$cell.height())}),$row.each(function(){$(this).height(maxCellHeight)})},isIEBrowser=function(){return"Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/rv:11/)||"undefined"!=typeof $.browser&&1==$.browser.msie?!0:!1},axKOH=axKOH||{},smallScreenWidth=768;axKOH.main=axKOH.main||{},axKOH.main.footerManager=function(){var selectors={navToggle:".koh-primary-nav-toggle",footerList:".koh-nav-items",socialIcons:".koh-social-links",findStore:".koh-fixed-find-store-btn",chatWithUs:".koh-chat-with-us",whatsappChatBtn:".koh-whatsApp-btn"},$navToggle=null,$footerList=null,$footerNavItem=null,$socialLinkIcons=null,$findStoreBtn=null,$chatBtn=null,$whatsappBtn=null,initFooterNav=function(){var $components=$(".c-koh-footer-nav");$navToggle=reduceToFirst($(selectors.navToggle)),$footerList=reduceToFirst($(selectors.footerList)),$footerNavItem=$footerList.find(".koh-nav-section"),$socialLinkIcons=reduceToFirst($(selectors.socialIcons)),$findStoreBtn=reduceToFirst($(selectors.findStore)),$chatWithUs=reduceToFirst($(selectors.chatWithUs)),$whatsappBtn=reduceToFirst($(selectors.whatsappChatBtn)),$components.each(function(){var $navItemsContainer=$(this).find(".koh-nav-items");$navItemsContainer.each(function(){var $navSections=$(this).children(".koh-nav-section"),$navSectionTitlesCollection=$navSections.children(".koh-nav-section-title"),$navSectionItemsCollection=$navSections.children(".koh-nav-section-items");$navSections.each(function(){var $navSection=$(this),$navSectionTitle=$navSection.children(".koh-nav-section-title"),$navSectionItems=$navSectionTitle.next(".koh-nav-section-items");$navSectionTitle.click({navTarget:$navSectionItems,navSiblings:$navSectionItemsCollection,navSiblingTitles:$navSectionTitlesCollection},function(e){if(e.stopPropagation(),e.preventDefault(),$(window).width()<980){var $navTargetTitle=$(this),$navTarget=e.data.navTarget,$navSiblings=e.data.navSiblings,$navSiblingTitles=e.data.navSiblingTitles;$navTargetTitle.hasClass("active")?($navTargetTitle.removeClass("active"),$navTarget.slideUp()):($navSiblingTitles.removeClass("active"),$navSiblings.slideUp(),$navTargetTitle.addClass("active"),$navTarget.slideDown())}})})})})},reduceToFirst=function($object){var $firstObject=$object.first();return $object.length>1&&$object.slice(1).hide(),$firstObject},styleFooter=function(){$(window).width()<smallScreenWidth?($($footerNavItem).last().css("display","none"),$($socialLinkIcons).css("display","block"),$($findStoreBtn).css("display","none"),$($chatBtn).css("bottom","20px"),$($whatsappBtn).css("bottom","20px")):($($footerNavItem).last().css("display","block"),$($socialLinkIcons).css("display","none"),0===$chatWithUs.length&&0===$whatsappBtn.length&&$($findStoreBtn).css("bottom","12px"))};return{init:function(){initFooterNav()},setSocialStyle:function(){styleFooter()}}}(),$(function(){$(document).ready(function(){axKOH.main.footerManager.init(),axKOH.main.footerManager.setSocialStyle();var throttleScroll=function(){window.addEventListener("scroll",_.throttle(scrollToTop,1e3)),$("#back-to-top").click(function(){$("body,html").animate({scrollTop:0},500)})},scrollToTop=function(){$(window).scroll(function(){$(this).scrollTop()>=500?$("#back-to-top").css("opacity",1):$("#back-to-top").css("opacity",0)})};throttleScroll()})}),$(document).ready(function(){$("#koh-nav-searchbox").on("keyup",handleAutoSuggest)}),$(window).resize(function(){$("#koh-nav-searchbox").on("keyup",handleAutoSuggest)}),$(window).load(function(){$("#koh-nav-searchbox").on("keyup",handleAutoSuggest),$("body").css("pointer-events","all")});/*
 * Copyright © 2000-2017 Kohler Company. All Rights Reserved.
 */
var axKOH=axKOH||{},mobileScreenWidth=980,smallScreenWidth=768;axKOH.main=axKOH.main||{},axKOH.main.headerManager=function(){var selectors={globalNav:".koh-global-navigation",globalNavComponents:".koh-global-navigation-components",globalNavSpacer:".koh-global-navigation-spacer",brandingBar:".c-koh-branding-bar",brandContent:".koh-brands",menuBar:".c-koh-navigation-bar",menuBarNav:".c-koh-navigation",menuBarSearch:".c-koh-site-search",menuBarCart:".c-koh-shopping-cart-menu",menuBarNavHeader:".koh-primary-nav > .koh-primary-nav-header",menuBarNavMenu:".koh-primary-nav > .koh-primary-nav-menu",topButton:".koh-back-top"},$globalNav=null,$globalNavMenu=null,$globalNavComponents=null,$globalNavSpacer=null,$brandingBar=null,$brandContent=null,$brandingBarMobile=null,$menuBar=null,$menuBarNav=null,$menuBarSearch=null,$menuBarSearchMobile=null,$menuBarCart=null,$menuBarCartMobile=null,$menuBarNavHeader=null,$navToggle=null,$searchToggle=null,globalNavHeight=null,menuBarHeight=null,brandingBarHeight=null,promoBannerHeight=null,navMenuHeight=null,initGlobalNav=function(){$globalNav=reduceToFirst($(selectors.globalNav)),$brandingBar=reduceToFirst($globalNav.children(selectors.brandingBar)),$brandContent=$brandingBar.find(".koh-brands"),$menuBar=reduceToFirst($globalNav.children(selectors.menuBar)),$menuBarNav=reduceToFirst($menuBar.children(selectors.menuBarNav)),$menuBarSearch=reduceToFirst($menuBar.children(selectors.menuBarSearch)),$menuBarCart=reduceToFirst($menuBar.children(selectors.menuBarCart)),$menuBarNavHeader=reduceToFirst($menuBarNav.find(selectors.menuBarNavHeader)),$navToggle=reduceToFirst($menuBarNavHeader.children(".koh-primary-nav-toggle")),$searchToggle=reduceToFirst($menuBarNavHeader.children(".koh-primary-search-toggle")),$menuBarCartMobile=reduceToFirst($menuBarNavHeader.children(".koh-shopping-cart-menu-mobile")),$globalNavMenu=reduceToFirst($menuBarNav.find(selectors.menuBarNavMenu)),createMobileMenu(),$globalNavComponents=$("<div></div>"),$globalNavComponents.addClass(selectors.globalNavComponents.replace(".","")),$globalNav.wrapInner($globalNavComponents),$globalNavComponents=reduceToFirst($globalNav.children(selectors.globalNavComponents)),$globalNavSpacer=$("<div></div>"),$globalNavSpacer.addClass(selectors.globalNavSpacer.replace(".","")),$globalNav.append($globalNavSpacer),addClickEvents()},resizeNav=function(){isMobile()?(promoBannerHeight=$(".c-koh-promotion-ribbon").outerHeight(),menuBarHeight=$menuBarNavHeader.outerHeight(),navMenuHeight=$(window).innerHeight()-(promoBannerHeight+menuBarHeight),$($globalNavMenu).css("height",navMenuHeight),$($globalNavMenu).css("background-color","#FFFFFF"),$($globalNavComponents).css("background","rgba(0,0,0,0.5)"),brandingBarHeight=0,globalNavHeight=menuBarHeight):($($globalNavMenu).css("max-width","100%"),$($globalNavMenu).css("height","auto"),$($globalNavComponents).css("background","$koh-color-white"),$($menuBarSearch).css("border-bottom","none"),menuBarHeight=$menuBar.outerHeight(),brandingBarHeight=$brandingBar.outerHeight(),globalNavHeight=menuBarHeight+brandingBarHeight,$(".koh-link-company-brand").hasClass("open")&&($brandingBar.addClass("collapsed"),$(".koh-link-company-brand").removeClass("open"),toggleOpen($brandContent,!0),menuBarHeight=$menuBar.outerHeight(),brandingBarHeight=0,globalNavHeight=menuBarHeight+brandingBarHeight)),setNavSpacerHeight(),isMobile()&&resetNavMenuScroll()},scrollNav=function(){var scrollHeight=$(window).scrollTop();scrollHeight>brandingBarHeight?($globalNav.addClass("fixed"),$brandingBar.addClass("collapsed"),$(".koh-link-company-brand").removeClass("open"),$brandContent.removeClass("open").hide(),$brandingBar.height(brandingBarHeight)):($globalNav.removeClass("fixed"),removeInlineCSS($globalNav,"display"),$brandingBar.removeClass("collapsed"),removeInlineCSS($brandingBar,"display"),$brandingBar.height(brandingBarHeight),$(".koh-link-company-brand").removeClass("open"),$brandContent.removeClass("open").hide()),$globalNav.hover(function(e){e.stopPropagation(),e.preventDefault(),!isMobile()&&$(this).hasClass("fixed")&&$brandingBar.hasClass("collapsed")&&($brandingBar.stop().slideDown(),$brandingBar.removeClass("collapsed"))},function(e){e.stopPropagation(),e.preventDefault(),!isMobile()&&$(this).hasClass("fixed")&&!$(".koh-brands").hasClass("open")&&33>brandingBarHeight&&($brandingBar.hasClass("collapsed")||($brandingBar.stop().slideUp(),$brandingBar.addClass("collapsed")))})},createMobileMenu=function(){$brandingBarMobile=$brandingBar.clone(),$brandingBarMobile.removeClass(selectors.brandingBar.replace(".","")),$brandingBarMobile.addClass(selectors.brandingBar.replace(".c-","")+"-mobile"),$brandingBarMobile.addClass("koh-cloned").addClass("koh-mobile-nav"),$brandingBar.addClass("koh-desktop-nav"),$globalNavMenu.append($brandingBarMobile),$menuBarSearchMobile=$menuBarSearch.clone(),$menuBarSearchMobile.removeClass(selectors.menuBarSearch.replace(".","")),$menuBarSearchMobile.addClass(selectors.menuBarSearch.replace(".c-","")+"-mobile"),$menuBarSearchMobile.addClass("koh-cloned").addClass("koh-mobile-nav"),$menuBarSearch.addClass("koh-desktop-nav"),$globalNavMenu.prepend($menuBarSearchMobile),$($navToggle).find(".icon").css("display","block"),$($navToggle).find(".cross-icon-nav").css("display","none"),$($searchToggle).find(".icon").css("display","block"),$($searchToggle).find(".cross-icon-search").css("display","none"),$menuBarCartMobile.addClass("koh-mobile-nav"),$menuBarCart.addClass("koh-desktop-nav")},addClickEvents=function(){$navToggle.click(function(){isMobile()&&($($globalNavMenu).css("max-width","85%"),$(".koh-nav-parents").css("display","block"),$(".koh-branding-bar-mobile").css("display","block"),$($menuBarSearchMobile).find(".koh-site-search-form").css("display","none"),$($searchToggle).find(".icon").css("display","block"),$($searchToggle).find(".cross-icon-search").css("display","none"),$globalNavMenu.hasClass("open")?($($navToggle).find(".icon").css("display","block"),$($navToggle).find(".cross-icon-nav").css("display","none"),$("body").css("height","auto"),$("body").css("overflow","scroll"),$($globalNavComponents).css("height","auto"),$globalNavComponents.removeClass("scrollable")):($($navToggle).find(".icon").css("display","none"),$($navToggle).find(".cross-icon-nav").css("display","block"),$("body").css("height","100%"),$("body").css("overflow","hidden"),$($globalNavComponents).css("height","100vh"),$globalNavComponents.addClass("scrollable")),toggleOpen($globalNavMenu,!0,function(){resetNavMenuScroll(),$menuBarSearchMobile.hasClass("open")&&toggleOpen($menuBarSearchMobile,!0)}))}),$searchToggle.click(function(){isMobile()&&($($globalNavMenu).css("max-width","100%"),$($menuBarSearchMobile).find(".koh-site-search-form").css("display","block"),$($menuBarSearchMobile).find(".koh-site-search-form").css("width","80%"),$(".koh-nav-parents").css("display","none"),$(".koh-branding-bar-mobile").css("display","none"),$($navToggle).find(".icon").css("display","block"),$($navToggle).find(".cross-icon-nav").css("display","none"),$($globalNavComponents).css("height","auto"),$globalNavMenu.hasClass("open")||toggleOpen($globalNavMenu,!0),toggleOpen($menuBarSearchMobile,!0,function(){$menuBarSearchMobile.hasClass("open")?($($searchToggle).find(".icon").css("display","none"),$($searchToggle).find(".cross-icon-search").css("display","block"),$("body").css("height","100%"),$("body").css("overflow","hidden")):($($searchToggle).find(".icon").css("display","block"),$($searchToggle).find(".cross-icon-search").css("display","none"),$("body").css("height","auto"),$("body").css("overflow","scroll"),toggleOpen($globalNavMenu,!0),$globalNavComponents.removeClass("scrollable"))}))}),$brandingBarMobile.find(".koh-link-company-brand").click({target:$brandingBarMobile.find(".koh-brands")},function(e){e.stopPropagation(),e.preventDefault(),isMobile()&&(toggleOpen($(this)),toggleOpen(e.data.target,!0,function(){resetNavMenuScroll()}))}),$brandingBar.find(".koh-link-company-brand").click({target:$brandingBar.find(".koh-brands")},function(e){e.stopPropagation(),e.preventDefault(),isMobile()||toggleOpen(e.data.target,!0)}),$(".koh-brands .worldwide-menu-top").click(function(e){$(this).hasClass("open")?$(this).removeClass("open"):$(this).addClass("open")}),$(".koh-site-search-form").submit(function(e){for(var searchBox=$(".koh-site-search-form #koh-nav-searchbox"),isEmpty=!0,i=0;i<searchBox.length;i++)searchBox[i].value.length>0&&(isEmpty=!1);isEmpty&&e.preventDefault()});var $globalNavMenuOpenables=$globalNavMenu.find(".koh-nav-parents > li").children("a,span,.koh-nav-subnav");$globalNavMenu.find(".koh-nav-parents > li").each(function(){var $navListItem=$(this),$navLink=$navListItem.children("a,span"),$navSubmenu=$navListItem.children(".koh-nav-subnav");$navLink.click({target:$navSubmenu,siblings:$globalNavMenuOpenables},function(e){if(!$navLink.hasClass("single")){e.stopPropagation(),e.preventDefault(),$(".koh-link-company-brand").hasClass("open")&&($brandingBar.addClass("collapsed"),$(".koh-link-company-brand").removeClass("open"),toggleOpen($brandContent,!0));var $siblings=e.data.siblings.not($(this)).not(e.data.target);$siblings.removeClass("open"),$siblings.css("display",""),toggleOpen($(this)),isMobile?toggleOpen(e.data.target,!0,function(){resetNavMenuScroll()}):toggleOpen(e.data.target,!0)}})})},resetNavMenuScroll=function(){var windowHeight=$(window).innerHeight(),bodyHeight=$("body").innerHeight(),navHeight=globalNavHeight;isMobile()?$globalNavMenu.hasClass("open")&&(navHeight+=$globalNavMenu.outerHeight()):($globalNavMenu.hasClass("open")&&(navHeight+=$globalNavMenu.outerHeight()),$brandingBar.hasClass("collapsed")||(navHeight+=$brandingBar.outerHeight())),navHeight>=windowHeight&&!$("body").hasClass("unscrollable")?(windowHeight>=bodyHeight&&$("body").css("overflow","scroll"),$globalNavComponents.addClass("scrollable"),$("body").addClass("unscrollable"),windowHeight>=bodyHeight&&setTimeout(function(){$("body").css("overflow","")},.5)):windowHeight>navHeight&&$("body").hasClass("unscrollable")&&($globalNavComponents.removeClass("scrollable"),$("body").removeClass("unscrollable"))},setNavSpacerHeight=function(){$globalNavSpacer.css("height",globalNavHeight)},reduceToFirst=function($object){var $firstObject=$object.first();return $object.length>1&&$object.slice(1).hide(),$firstObject},isMobile=function(){return"none"!==$navToggle.css("display")},toggleOpen=function($target,animate,callbackAfter){$target.hasClass("open")?($target.selector==$brandContent.selector&&$brandingBar.animate({height:0},800),animate&&$target.slideUp(800,callbackAfter),$target.removeClass("open"),$($globalNavComponents).css("height","auto")):($target.selector==$brandContent.selector&&$brandingBar.animate({height:32+$brandContent.outerHeight()},800),animate&&$target.slideDown(800,callbackAfter),$target.addClass("open"))},removeInlineCSS=function($target,cssProperty){$target.css(cssProperty,""),""===$target.attr("style")&&$target.removeAttr("style")};topButton=$("body").find(".koh-back-top button"),sectionTop=$(topButton).closest("section");var initBackTopButton=function(){if($(topButton).length){var topTarget=sectionTop;$(topButton).click(function(e){e.preventDefault,$(topTarget).length&&$("html, body").animate({scrollTop:$(topTarget).offset().top-80},250)})}},initBackTopDistance=function(){if($(topButton).length){var topDistance=sectionTop.offset().top;$(document).scroll(function(){var y=$(this).scrollTop();y>topDistance?$(topButton).fadeIn():$(topButton).fadeOut()})}},pause=!0,promotionRibbon=function(){function showDiv(){$(".c-koh-promotion-ribbon-item").stop().hide().filter(function(){return this.id.match("c-koh-promotion-ribbon-item"+counter)}).show(),$(".c-koh-promotion-ribbon-item").hover(function(ev){pause=!1},function(ev){pause=!0}),counter==ribbonItemCount?counter=0:counter++}var counter=0,ribbonItemCount=$("#promotionRibbonItems").val();0!=ribbonItemCount&&(counter=1);setInterval(function(){pause&&showDiv()},5e3)};$(".c-koh-promotion-ribbon-item").click(function(e){var getRibbonUrl=$(this).find(".koh-ribbon-link").attr("href");getRibbonUrl.includes("http")?window.open(getRibbonUrl,"_blank"):window.location.href=getRibbonUrl});var addTopMargin=function(){var url=new URL(window.location.href),path=url.pathname,ribbonItemCount=$("#promotionRibbonItems").val();if("/"===path||"/en"===path)0==ribbonItemCount?window.screen.width<smallScreenWidth?$(".koh-page").css("margin-top","95px"):window.screen.width>=smallScreenWidth&&window.screen.width<mobileScreenWidth?$(".koh-page").first().css("margin-top","40px"):$(".koh-page").first().css("margin-top","0px"):window.screen.width<smallScreenWidth&&$(".koh-page").css("margin-top","55px");else{0==ribbonItemCount?window.screen.width<smallScreenWidth?$(".koh-page").css("margin-top","95px"):window.screen.width>=smallScreenWidth&&window.screen.width<mobileScreenWidth?$(".koh-page").first().css("margin-top","40px"):$(".koh-page").first().css("margin-top","0px"):window.screen.width<smallScreenWidth&&$(".koh-page").css("margin-top","55px");var sixDesignerUrl=$("#sixDesignerUrlId").val();window.location.pathname!==sixDesignerUrl&&($(".koh-page").css("border-top","10px solid #FFFFFF"),$(".koh-page").css("border-bottom","10px solid #FFFFFF"))}},refreshPageOnResize=function(){var windowOldWidth=$(window).width();$(window).resize(function(){var windowNewWidth=$(window).width();windowOldWidth!=windowNewWidth&&(window.location.href=window.location.href)})},hideFromPrintInTW=function(){var thankyouPageURLocal=localStorage.getItem("thankyouPageURL");if(thankyouPageURLocal){var newThankyouUrl="",newWindowPath="";newThankyouUrl=thankyouPageURLocal.startsWith("/en/")?thankyouPageURLocal.slice(3,-1):thankyouPageURLocal,newWindowPath=window.location.pathname.startsWith("/en/")?window.location.pathname.slice(3):window.location.pathname;var styleElement=$("<style>").text("").appendTo("head");if(newWindowPath.includes(newThankyouUrl)){$(".koh-quick-link-shortcut").addClass("non-printable"),$(".c-koh-promotion-ribbon-item").addClass("non-printable");var pageStyleRule="@page :header{display: none !important;} @page :footer {display: none !important;}";styleELement=$("<style>").text(pageStyleRule).appendTo("head")}else styleElement.remove()}};return{initialize:function(){initGlobalNav(),initBackTopButton(),initBackTopDistance(),promotionRibbon(),addTopMargin(),refreshPageOnResize(),hideFromPrintInTW()},onResize:function(){resizeNav()},onScroll:function(){scrollNav()}}}(),$(function(){$(document).ready(function(){axKOH.main.headerManager.initialize(),axKOH.main.headerManager.onResize()}),$(window).load(function(){axKOH.main.headerManager.onScroll()}),$(window).resize(function(){axKOH.main.headerManager.onResize()}),$(window).scroll(function(){axKOH.main.headerManager.onScroll()})}),$(document).on("click",".koh-link-language-left",function(e){e.preventDefault();var url=window.location.href,remeElement=(url.split("/"),window.location.origin,$("#compare-cookie-info-reme")),locale=this.getAttribute("data-locale");addRemeCookie(remeElement,locale),addAlternateFilterCookie(remeElement,locale);var isParent=$(this).hasClass("parent-mount"),currentSiteUrl=$(this).data("current-site-url"),targetSiteUrl=$(this).attr("href");$(this).hasClass("koh-link-language-active")?window.location.href=url:switchLanguage(locale,isParent,currentSiteUrl,targetSiteUrl)}),jQuery(document).ready(function($){var remeElement=$("#compare-cookie-info-reme");"undefined"!==remeElement&&"yes"===remeElement.data("multisite")&&addRemeCookie(remeElement,"")});/*
 * Copyright © 2000-2017 Kohler Company. All Rights Reserved.
 */
var axKOH=axKOH||{};axKOH.utils=axKOH.utils||{},axKOH.utils.socialShare=function(){var houzzID="28925",getURL=function($target){return encodeURI($target.data("share-url")||window.location.href)},getTitle=function($target){var shareTitle=document.getElementById("shareTitle");if(null===shareTitle||"undefined"==shareTitle)return $target.data("share-title")||"";var shareTitleValue=shareTitle.value;return 0!=shareTitleValue.length?shareTitleValue:void 0},getImage=function($target){var shareImage=document.getElementById("shareImage");if(null!==shareImage&&"undefined"!=shareImage){var shareImageValue=shareImage.value;return 0!=shareImageValue.length?shareImageValue:$target.data("share-image")||""}return $target.data("share-image")||""},getDescription=function($target){var shareDescription=document.getElementById("shareDescription");if(null===shareDescription||"undefined"==shareDescription)return $target.data("share-description")||"";var shareDescriptionValue=shareDescription.value.replace(/(<[^>]+?>|<>|<\/>)/gim,"");return 0!=shareDescriptionValue.length?shareDescriptionValue:void 0},getSource=function($target){return $target.data("share-source")||"KOHLER"},getHashtags=function($target){return $target.data("share-hashtags")||""},isVideoShare=function($target){return $target.data("share-video")||"false"},getCategory=function($target){return $target.data("share-category")||""},formatShareLink=function($target,linkTemplate){var formattedLink=linkTemplate;return formattedLink=formattedLink.replace(/{url}/g,getURL($target)),formattedLink=formattedLink.replace(/{title}/g,getTitle($target)),formattedLink=formattedLink.replace(/{img}/g,getImage($target)),formattedLink=formattedLink.replace(/{via}/g,getSource($target)),formattedLink=formattedLink.replace(/{hashtags}/g,getHashtags($target)),formattedLink=formattedLink.replace(/{is_video}/g,isVideoShare($target)),formattedLink=formattedLink.replace(/{category}/g,getCategory($target)),formattedLink=formattedLink.replace(/{description}/g,getDescription($target))},showWindow=function(targetURL,targetProperties){var windowProps="menubar=no,location=yes,resizable=yes,scrollbars=yes,status=no,width={width},height={height},top={top},left={left}";targetProperties&&targetProperties.width&&targetProperties.height&&screen&&screen.height?(windowProps=windowProps.replace(/{width}/g,targetProperties.width),windowProps=windowProps.replace(/{height}/g,targetProperties.height),windowProps=windowProps.replace(/{top}/g,screen.height/2-targetProperties.height/2),windowProps=windowProps.replace(/{left}/g,screen.width/2-targetProperties.width/2),window.open(targetURL,"shareWindow",windowProps).focus()):window.open(targetURL)},shareOnPinterest=function($target){var shareLink=formatShareLink($target,"https://pinterest.com/pin/create/bookmarklet/?media={img}&url={url}&is_video={is_video}&description={title}");showWindow(shareLink,{width:750,height:331})},shareOnHouzz=function($target){$target.addClass("clickedHouzz");var $houzzButton=$target,$houzzButtonContainer=$target.parent(),$houzzFrameContainer=$houzzButtonContainer.find(".koh-houzz-button-target");if($houzzFrameContainer.length<=0&&($houzzButtonContainer.append('<span class="koh-houzz-button-target"></span>'),$houzzFrameContainer=$houzzButtonContainer.find(".koh-houzz-button-target")),$houzzFrameContainer.length>0){$houzzFrameContainer.html("Hello World");var htmlSnippet='<a class="houzz-share-button" data-url="{url}" data-hzid="{houzzID}" data-title="{title}" data-img="{img}" data-desc="{description}" data-category="{category}" data-showcount="0" href="http://www.houzz.com"></a>';htmlSnippet=formatShareLink($target,htmlSnippet),htmlSnippet=htmlSnippet.replace(/{houzzID/g,houzzID),htmlSnippet+='<script>(function(d,s,id){if(!d.getElementById(id)){var js=d.createElement(s);js.id=id;js.async=true;js.src="//platform.houzz.com/js/widgets.js?"+(new Date().getTime());var ss=d.getElementsByTagName(s)[0];ss.parentNode.insertBefore(js,ss);}})(document,"script","houzzwidget-js");</script>',$houzzFrameContainer.html(htmlSnippet),$houzzButton.hide()}},shareOnFacebook=function($target){var image=getImage($target),shareLink="";shareLink=""===image?formatShareLink($target,"https://www.facebook.com/sharer/sharer.php?u={url}&title={title}&description={description}"):formatShareLink($target,"https://www.facebook.com/sharer/sharer.php?u={url}&title={title}&description={description}&picture={img}"),showWindow(shareLink,{width:600,height:270})},shareOnTwitter=function($target){var shareLink=formatShareLink($target,"https://twitter.com/share?url={url}&text={title}");showWindow(shareLink,{width:600,height:440})},shareOnGoogle=function($target){var shareLink=formatShareLink($target,"https://plus.google.com/share?url={url}");showWindow(shareLink,{width:600,height:270})},shareOnEmail=function($target){},initSharePanel=function($sharePanel){var $shareButtons=$sharePanel.find("li > button");$shareButtons.each(function(){var $button=$(this);$button.on("click",function(){$button.hasClass("koh-share-pinterest")?shareOnPinterest($button):$button.hasClass("koh-share-houzz")?shareOnHouzz($button):$button.hasClass("koh-share-facebook")?shareOnFacebook($button):$button.hasClass("koh-share-twitter")?shareOnTwitter($button):$button.hasClass("koh-share-google")?shareOnGoogle($button):$button.hasClass("koh-share-email")?shareOnEmail($button):$button.hasClass("koh-share-showroom")})})},makeTooltip=function($container,$button,$panel,tooltipID,tooltipClass){var panelHTML=$panel.html();"undefined"!=typeof tooltipID?$button.qtip({id:tooltipID,content:{text:$panel},position:{my:"bottom right",at:"center center",container:$container,viewport:!0},show:{event:"click"},hide:{event:"unfocus",fixed:!0},style:{classes:"koh-qtip-popover "+tooltipClass+" qtip-light qtip-shadow",tip:!1},events:{hide:function(){$("#houzzwidget-js")&&(delete window.houzz,delete window.hzmr,$("#houzzwidget-js").remove()),$panel.html(panelHTML),initSharePanel($panel)}}}):$button.qtip({id:tooltipID,content:{text:$panel},position:{my:"top right",at:"center center",viewport:!0},show:{event:"click"},hide:{event:"unfocus",fixed:!0},style:{classes:"koh-qtip-popover "+tooltipClass+" qtip-light qtip-shadow",tip:!1},events:{hide:function(){$("#houzzwidget-js")&&(delete window.houzz,delete window.hzmr,$("#houzzwidget-js").remove()),$panel.html(panelHTML),initSharePanel($panel)}}})};return{initialize:function($panel){initSharePanel($panel)},initAsTooltip:function($container,$button,$panel,tooltipID,tooltipClass){initSharePanel($panel),makeTooltip($container,$button,$panel,tooltipID,tooltipClass)},pinterest:function($target){shareOnPinterest($target)},houzz:function($target){shareOnHouzz($target)},facebook:function($target){shareOnFacebook($target)},twitter:function($target){shareOnTwitter($target)},google:function($target){shareOnGoogle($target)},email:function($target){shareOnEmail($target)}}}();var $socialPageShare=$(".koh-page-share"),$socialPageShareButton=$socialPageShare.children(".koh-page-share-button"),$socialPageSharePanel=$socialPageShare.children(".koh-page-share-popover");axKOH&&axKOH.utils&&axKOH.utils.socialShare&&axKOH.utils.socialShare.initAsTooltip($socialPageShare,$socialPageShareButton,$socialPageSharePanel);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImMta29oLW5hdmlnYXRpb24tYmFyLmpzIiwia29oLWhlYWRlci5qcyIsInV0aWxzLmpzIiwiYy1rb2gtY29tcGFyZS1wYW5lbC5qcyIsImMta29oLWZvb3Rlci1uYXYuanMiLCJrb2gtZ2xvYmFsLW5hdmlnYXRpb24uanMiLCJrb2gtc29jaWFsLXNoYXJpbmcuanMiXSwibmFtZXMiOlsiaGFuZGxlQXV0b1N1Z2dlc3QiLCJldmVudCIsInRleHRJbnB1dCIsImN1cnJlbnRUYXJnZXQiLCJ2YWx1ZSIsImxlbmd0aCIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsInN1YnN0ciIsIiQiLCJnZXRKU09OIiwidmFsIiwiZGF0YSIsInN0YXR1cyIsImdldEJvbGRWYWx1ZSIsInNlYXJjaFRleHQiLCJvcmlnaW5hbCIsInN0YXJ0IiwiZW5kIiwidWwiLCJlbXB0eSIsInN1Z2dlc3Rpb25zIiwiaGlkZSIsImVhY2giLCJuYW1lIiwiYXBwZW5kIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJjaGlsZHJlbiIsImF0dHIiLCJzdWJtaXQiLCJzaG93IiwiY3JlYXRlQ29va2llIiwibWludXRlcyIsImxvY2FsZSIsImV4cGlyZXMiLCJjb29raWUiLCJkYXRlIiwiRGF0ZSIsInNldFRpbWUiLCJnZXRUaW1lIiwidG9VVENTdHJpbmciLCJkb2N1bWVudCIsInN3aXRjaExhbmd1YWdlIiwiaXNQYXJlbnQiLCJjdXJyZW50U2l0ZVVybCIsInRhcmdldFNpdGVVcmwiLCJ1bmRlZmluZWQiLCJnZXRDdXJyZW50VXJsIiwic3BsaXQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJwYXJhbWV0ZXJzIiwic3Vic3RyaW5nIiwiZmluYWxVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50VXJsIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiYXNzaWduIiwiYWRkUmVtZUNvb2tpZSIsInJlbWVFbGVtZW50IiwiY29va2llTmFtZSIsImNvb2tpZVZhbHVlIiwiZHVyYXRpb25NaW51dGVzIiwiYWRkQWx0ZXJuYXRlRmlsdGVyQ29va2llIiwiYWx0ZXJuYXRlRmlsdGVyQ29va2llTmFtZSIsImF4S09IIiwidXRpbHMiLCJvYmpUb1N0cmluZyIsIm9iaiIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWJ1Z0xvZyIsImNvbnRlbnQiLCJ0b2dnbGVDbGFzcyIsIiRlbGVtZW50IiwiY2xhc3NOYW1lIiwiYWRkSXQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiaGlkZUVsZW1lbnQiLCJoaWRlSXQiLCJoaWRlQ2xhc3MiLCJvcGVuTWVudSIsIm9wZW5JdCIsIm9wZW5DbGFzcyIsImRpc2FibGVMaW5rcyIsImVsZW1lbnQiLCJmaW5kIiwiY2xpY2siLCJzdG9wVmlkZW9zIiwiaWZyYW1lIiwicXVlcnlTZWxlY3RvciIsInZpZGVvIiwiaWZyYW1lU3JjIiwic3JjIiwicGF1c2UiLCJtYWluIiwiY29tcG9uZW50TWFuYWdlciIsImNvbXBhcmVQYW5lbCIsImNvbXBvbmVudENsYXNzIiwiaW5pdENvbXBvbmVudHMiLCJpbml0Q29tcGFyZU1vZGFsIiwiJGNvbXBvbmVudHMiLCJjb21wb25lbnRJbmRleCIsIiRjb21wb25lbnQiLCJ0aGlzIiwicmVtb2RhbElEIiwiJGJ1dHRvbiIsIiRwYW5lbCIsImluaXRBc01vZGFsIiwiaW5pdENvbG9yT3ZlcmxheXMiLCIkY29tcGFyZVByb2R1Y3RzIiwiJHByb2R1Y3QiLCJwcmVwZW5kIiwiJHJlbW9kYWxQYW5lbCIsInJlbW9kYWwiLCJoYXNoVHJhY2tpbmciLCJjbG9zZU9uQ2FuY2VsIiwiY2xvc2VPbkVzY2FwZSIsImNsb3NlT25PdXRzaWRlQ2xpY2siLCJtb2RpZmllciIsInRhcmdldCIsInN0b3BQcm9wYWdhdGlvbiIsIiR0YXJnZXQiLCJvcGVuIiwiaW5pdEFzTW9kYWxBbmRPcGVuIiwiJGNvbG9yU3dhdGNoZXMiLCJzd2F0Y2hJbmRleCIsIiRjb2xvclN3YXRjaCIsIiRjb2xvckxhYmVsIiwicXRpcCIsImlkIiwidGV4dCIsInBvc2l0aW9uIiwibXkiLCJhdCIsImFkanVzdCIsInkiLCJzdHlsZSIsImNsYXNzZXMiLCJ0aXAiLCJpbml0Q29tcGFyZVBhbmVsIiwicmVtb3ZlTW9kYWxQcm9kdWN0IiwicHJvZHVjdCIsImNvb2tpZUNvbnRlbnQiLCJ1cmkiLCJpdGVtbm8iLCJnZXRDb29raWUiLCJyZW1vdmUiLCJwcm9kdWN0cyIsInZhbHVlcyIsImNhdGVnb3J5IiwiaW5kZXgiLCJ0b1N0cmluZyIsInNwbGljZSIsImpvaW4iLCJkZWxldGVDb29raWUiLCJjbG9zZXN0IiwicmVtb3ZlUHJvZHVjdFRleHQiLCJhamF4IiwidXJsIiwiY2FjaGUiLCJzdWNjZXNzIiwiaHRtbCIsImRvbmUiLCJyZWxvYWRBbmRPcGVuTW9kYWwiLCJmYWlsIiwibmFtZUVRIiwiY2EiLCJpIiwiYyIsImNoYXJBdCIsImFkZFByb2R1Y3RUZXh0IiwiaGFzQ2xhc3MiLCJzZXRUaW1lb3V0IiwicmVsb2FkTW9kYWwiLCJzaXplIiwid2lkdGgiLCJjaGFuZ2VVcmxEYW0iLCJkb21haW5VcmwiLCJsYXN0U2xhc2hJbmRleCIsImltYWdlVXJsIiwiZGFtTmFtZSIsImRlZkltZ0RvbWFpbldpdGhvdXREYW0iLCJzbGljZSIsIm5ld0RvbWFpblVybCIsInJlcGxhY2VBbGwiLCJwcm9kdWN0RGV0YWlsc2xpbmsiLCJncmlkSW1hZ2VQcm9kdWN0VXJsIiwiZ3JpZEltYWdlTmV3UHJvZHVjdFVybCIsImNvbXBhcmVQYW5lbFByb2R1Y3RzIiwiY29tcGFyZUJ1dHRvbkxhYmxlIiwiY29tcGFyZUNsZWFyUmVzdWx0cyIsImNvbW1vbl9nYWxsZXJ5TmV3UHJvZHVjdFVybCIsImNvbW1vbl9ncmlkSW1hZ2VVcmwiLCJjdXJyZW5jeUNvZGUiLCJkZWZhdWx0Q2F0ZWdvcnlLZXkiLCJpdGVtTm9NdWx0aUFuc2Nlc3RvcnMiLCJjb21wYXJlTWF4SXRlbXNOdW1iZXIiLCJjb21wYXJlTWF4SXRlbXNNZXNzYWdlIiwiY29tcGFyZURpZmZDYXRlZ29yeU1lc3NhZ2UiLCJmbGFnRXhpc3RzIiwicHVzaCIsInIiLCJjb25maXJtIiwiYWxlcnQiLCJpdGVtTnVtYmVycyIsImlzTmFOIiwiZGVmYXVsdENhdGVnb3J5IiwiaXRlbU51bWJlciIsInByb2R1Y3RJbWFnZVVybCIsIml0ZW1zIiwic3RhcnRzV2l0aCIsImxhc3RJbmRleE9mIiwiZGVmSW1nRnJvbVVybCIsImRvbWFpblN0YXJ0SW5kZXgiLCJkZWZJbWdEb21haW5Gcm9tVXJsIiwiZGVmSW1nRGFtTmFtZUZyb21VcmwiLCJpc05ldyIsInByaWNlVmF0IiwibXVsdGlwbGVWYWx1ZSIsInByb2R1Y3RQcmljZSIsInJvdW5kUHJpY2UiLCJNYXRoIiwicm91bmQiLCJ0b0xvY2FsZVN0cmluZyIsIm11bHRpQW5jZXN0b3JlZmF1bHRDYXRlZ29yeURhdGEiLCJjb21wYXJlUHJpY2UiLCJodG1sRGF0YSIsImRlZmF1bHRTa3UiLCJmYW1pbHkiLCJkZXNjcmlwdGlvbiIsImNvbXBhcmVMaW5rIiwiaHRtbE1haW5EYXRhIiwiY291bnQiLCJjb29raWVzVmFsdWUiLCJsYXN0IiwiaXRlbU11bHRpQW5jZXN0b3JzIiwicGFyZW50IiwiZWxlbSIsImNvb2tpZVByb2R1Y3RDb3VudCIsImNvbXBhcmVMaW5rVXJsIiwibGlzdGluZ1BhZ2VVcmwiLCJhZGRFdmVudExpc3RlbmVyIiwicGVyc2lzdGVkIiwicGVyZm9ybWFuY2UiLCJuYXZpZ2F0aW9uIiwidHlwZSIsImlzSUVCcm93c2VyIiwicmVsb2FkIiwiaW5pdGlhbGl6ZSIsIm9uTG9hZCIsInJlYWR5IiwibG9hZCIsImNvbXBhcmVIVE1MIiwiYWRqdXN0Um93SGVpZ2h0cyIsIm51bVJvd3MiLCJtYXhDZWxsSGVpZ2h0IiwibnVtQ29scyIsIiRyb3ciLCIkY2VsbCIsImhlaWdodCIsIm5hdmlnYXRvciIsImFwcE5hbWUiLCJ1c2VyQWdlbnQiLCJtYXRjaCIsImJyb3dzZXIiLCJtc2llIiwic21hbGxTY3JlZW5XaWR0aCIsImZvb3Rlck1hbmFnZXIiLCJzZWxlY3RvcnMiLCJuYXZUb2dnbGUiLCJmb290ZXJMaXN0Iiwic29jaWFsSWNvbnMiLCJmaW5kU3RvcmUiLCJjaGF0V2l0aFVzIiwid2hhdHNhcHBDaGF0QnRuIiwiJG5hdlRvZ2dsZSIsIiRmb290ZXJMaXN0IiwiJGZvb3Rlck5hdkl0ZW0iLCIkc29jaWFsTGlua0ljb25zIiwiJGZpbmRTdG9yZUJ0biIsIiRjaGF0QnRuIiwiJHdoYXRzYXBwQnRuIiwiaW5pdEZvb3Rlck5hdiIsInJlZHVjZVRvRmlyc3QiLCIkY2hhdFdpdGhVcyIsIiRuYXZJdGVtc0NvbnRhaW5lciIsIiRuYXZTZWN0aW9ucyIsIiRuYXZTZWN0aW9uVGl0bGVzQ29sbGVjdGlvbiIsIiRuYXZTZWN0aW9uSXRlbXNDb2xsZWN0aW9uIiwiJG5hdlNlY3Rpb24iLCIkbmF2U2VjdGlvblRpdGxlIiwiJG5hdlNlY3Rpb25JdGVtcyIsIm5leHQiLCJuYXZUYXJnZXQiLCJuYXZTaWJsaW5ncyIsIm5hdlNpYmxpbmdUaXRsZXMiLCIkbmF2VGFyZ2V0VGl0bGUiLCIkbmF2VGFyZ2V0IiwiJG5hdlNpYmxpbmdzIiwiJG5hdlNpYmxpbmdUaXRsZXMiLCJzbGlkZVVwIiwic2xpZGVEb3duIiwiJG9iamVjdCIsIiRmaXJzdE9iamVjdCIsImZpcnN0Iiwic3R5bGVGb290ZXIiLCJjc3MiLCJpbml0Iiwic2V0U29jaWFsU3R5bGUiLCJ0aHJvdHRsZVNjcm9sbCIsIl8iLCJ0aHJvdHRsZSIsInNjcm9sbFRvVG9wIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsInNjcm9sbCIsInJlc2l6ZSIsIm1vYmlsZVNjcmVlbldpZHRoIiwiaGVhZGVyTWFuYWdlciIsImdsb2JhbE5hdiIsImdsb2JhbE5hdkNvbXBvbmVudHMiLCJnbG9iYWxOYXZTcGFjZXIiLCJicmFuZGluZ0JhciIsImJyYW5kQ29udGVudCIsIm1lbnVCYXIiLCJtZW51QmFyTmF2IiwibWVudUJhclNlYXJjaCIsIm1lbnVCYXJDYXJ0IiwibWVudUJhck5hdkhlYWRlciIsIm1lbnVCYXJOYXZNZW51IiwidG9wQnV0dG9uIiwiJGdsb2JhbE5hdiIsIiRnbG9iYWxOYXZNZW51IiwiJGdsb2JhbE5hdkNvbXBvbmVudHMiLCIkZ2xvYmFsTmF2U3BhY2VyIiwiJGJyYW5kaW5nQmFyIiwiJGJyYW5kQ29udGVudCIsIiRicmFuZGluZ0Jhck1vYmlsZSIsIiRtZW51QmFyIiwiJG1lbnVCYXJOYXYiLCIkbWVudUJhclNlYXJjaCIsIiRtZW51QmFyU2VhcmNoTW9iaWxlIiwiJG1lbnVCYXJDYXJ0IiwiJG1lbnVCYXJDYXJ0TW9iaWxlIiwiJG1lbnVCYXJOYXZIZWFkZXIiLCIkc2VhcmNoVG9nZ2xlIiwiZ2xvYmFsTmF2SGVpZ2h0IiwibWVudUJhckhlaWdodCIsImJyYW5kaW5nQmFySGVpZ2h0IiwicHJvbW9CYW5uZXJIZWlnaHQiLCJuYXZNZW51SGVpZ2h0IiwiaW5pdEdsb2JhbE5hdiIsImNyZWF0ZU1vYmlsZU1lbnUiLCJ3cmFwSW5uZXIiLCJhZGRDbGlja0V2ZW50cyIsInJlc2l6ZU5hdiIsImlzTW9iaWxlIiwib3V0ZXJIZWlnaHQiLCJpbm5lckhlaWdodCIsInRvZ2dsZU9wZW4iLCJzZXROYXZTcGFjZXJIZWlnaHQiLCJyZXNldE5hdk1lbnVTY3JvbGwiLCJzY3JvbGxOYXYiLCJzY3JvbGxIZWlnaHQiLCJyZW1vdmVJbmxpbmVDU1MiLCJob3ZlciIsInN0b3AiLCJjbG9uZSIsInNlYXJjaEJveCIsImlzRW1wdHkiLCIkZ2xvYmFsTmF2TWVudU9wZW5hYmxlcyIsIiRuYXZMaXN0SXRlbSIsIiRuYXZMaW5rIiwiJG5hdlN1Ym1lbnUiLCJzaWJsaW5ncyIsIiRzaWJsaW5ncyIsIm5vdCIsIndpbmRvd0hlaWdodCIsImJvZHlIZWlnaHQiLCJuYXZIZWlnaHQiLCJjYWxsYmFja0FmdGVyIiwic2VsZWN0b3IiLCJjc3NQcm9wZXJ0eSIsInJlbW92ZUF0dHIiLCJzZWN0aW9uVG9wIiwiaW5pdEJhY2tUb3BCdXR0b24iLCJ0b3BUYXJnZXQiLCJvZmZzZXQiLCJ0b3AiLCJpbml0QmFja1RvcERpc3RhbmNlIiwidG9wRGlzdGFuY2UiLCJmYWRlSW4iLCJmYWRlT3V0IiwicHJvbW90aW9uUmliYm9uIiwic2hvd0RpdiIsImZpbHRlciIsImNvdW50ZXIiLCJldiIsInJpYmJvbkl0ZW1Db3VudCIsInNldEludGVydmFsIiwiZ2V0UmliYm9uVXJsIiwiaW5jbHVkZXMiLCJhZGRUb3BNYXJnaW4iLCJVUkwiLCJwYXRoIiwic2NyZWVuIiwic2l4RGVzaWduZXJVcmwiLCJyZWZyZXNoUGFnZU9uUmVzaXplIiwid2luZG93T2xkV2lkdGgiLCJ3aW5kb3dOZXdXaWR0aCIsImhpZGVGcm9tUHJpbnRJblRXIiwidGhhbmt5b3VQYWdlVVJMb2NhbCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJuZXdUaGFua3lvdVVybCIsIm5ld1dpbmRvd1BhdGgiLCJzdHlsZUVsZW1lbnQiLCJhcHBlbmRUbyIsInBhZ2VTdHlsZVJ1bGUiLCJzdHlsZUVMZW1lbnQiLCJvblJlc2l6ZSIsIm9uU2Nyb2xsIiwib3JpZ2luIiwiZ2V0QXR0cmlidXRlIiwialF1ZXJ5Iiwic29jaWFsU2hhcmUiLCJob3V6eklEIiwiZ2V0VVJMIiwiZW5jb2RlVVJJIiwiZ2V0VGl0bGUiLCJzaGFyZVRpdGxlIiwiZ2V0RWxlbWVudEJ5SWQiLCJzaGFyZVRpdGxlVmFsdWUiLCJnZXRJbWFnZSIsInNoYXJlSW1hZ2UiLCJzaGFyZUltYWdlVmFsdWUiLCJnZXREZXNjcmlwdGlvbiIsInNoYXJlRGVzY3JpcHRpb24iLCJzaGFyZURlc2NyaXB0aW9uVmFsdWUiLCJnZXRTb3VyY2UiLCJnZXRIYXNodGFncyIsImlzVmlkZW9TaGFyZSIsImdldENhdGVnb3J5IiwiZm9ybWF0U2hhcmVMaW5rIiwibGlua1RlbXBsYXRlIiwiZm9ybWF0dGVkTGluayIsInNob3dXaW5kb3ciLCJ0YXJnZXRVUkwiLCJ0YXJnZXRQcm9wZXJ0aWVzIiwid2luZG93UHJvcHMiLCJmb2N1cyIsInNoYXJlT25QaW50ZXJlc3QiLCJzaGFyZUxpbmsiLCJzaGFyZU9uSG91enoiLCIkaG91enpCdXR0b24iLCIkaG91enpCdXR0b25Db250YWluZXIiLCIkaG91enpGcmFtZUNvbnRhaW5lciIsImh0bWxTbmlwcGV0Iiwic2hhcmVPbkZhY2Vib29rIiwiaW1hZ2UiLCJzaGFyZU9uVHdpdHRlciIsInNoYXJlT25Hb29nbGUiLCJzaGFyZU9uRW1haWwiLCJpbml0U2hhcmVQYW5lbCIsIiRzaGFyZVBhbmVsIiwiJHNoYXJlQnV0dG9ucyIsIm1ha2VUb29sdGlwIiwiJGNvbnRhaW5lciIsInRvb2x0aXBJRCIsInRvb2x0aXBDbGFzcyIsInBhbmVsSFRNTCIsImNvbnRhaW5lciIsInZpZXdwb3J0IiwiZml4ZWQiLCJldmVudHMiLCJob3V6eiIsImh6bXIiLCJpbml0QXNUb29sdGlwIiwicGludGVyZXN0IiwiZmFjZWJvb2siLCJ0d2l0dGVyIiwiZ29vZ2xlIiwiZW1haWwiLCIkc29jaWFsUGFnZVNoYXJlIiwiJHNvY2lhbFBhZ2VTaGFyZUJ1dHRvbiIsIiRzb2NpYWxQYWdlU2hhcmVQYW5lbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBSUEsUUFBQUEsbUJBQUFDLE9BQ0EsR0FBQUMsV0FBQUQsTUFBQUUsY0FBQUMsS0FDQSxJQUFBRixVQUFBRyxPQUFBLEdBQUEsR0FBQUgsVUFBQUksY0FBQUMsUUFBQSxNQUFBLENBQ0EsR0FBQSxHQUFBTCxVQUFBSSxjQUFBQyxRQUFBLE1BQUEsQ0FDQSxHQUFBRixRQUFBSCxVQUFBRyxNQUNBSCxXQUFBQSxVQUFBTSxPQUFBLEVBQUFILFFBRUFJLEVBQUFDLFFBQUFELEVBQUEsaUNBQUFFLE1BQUEsTUFBQVQsVUFBQSxTQUFBVSxLQUFBQyxRQUNBLFFBQUFDLGNBQUFDLFdBQUFDLFVBQ0EsR0FBQUEsU0FBQVYsY0FBQUMsUUFBQVEsV0FBQVQsZUFBQSxHQUFBLENBQ0EsR0FBQVcsT0FBQUQsU0FBQVYsY0FBQUMsUUFBQVEsV0FBQVQsZUFDQVksSUFBQUgsV0FBQVYsTUFDQSxPQUFBVyxVQUFBUixPQUFBLEVBQUFTLE9BQUEsU0FBQUQsU0FBQVIsT0FBQVMsTUFBQUMsS0FBQSxVQUFBRixTQUFBUixPQUFBUyxNQUFBQyxJQUFBRixTQUFBWCxRQUVBLE1BQUFXLFVBRUEsR0FBQSxXQUFBSCxPQUFBLENBQ0EsR0FBQU0sSUFBQVYsRUFBQSwwRUFDQVUsSUFBQUMsUUFDQSxjQUFBUixLQUFBUyxhQUFBLEdBQUFULEtBQUFTLFlBQUFoQixPQUNBSSxFQUFBLG9DQUFBYSxRQUVBYixFQUFBYyxLQUFBWCxLQUFBUyxZQUFBLFNBQUFHLEtBQUFwQixPQUlBZSxHQUFBTSxPQUFBaEIsRUFBQSx5Q0FBQUwsTUFBQSxLQUFBVSxhQUFBWixVQUFBRSxPQUFBLGdCQUdBSyxFQUFBLG9CQUFBaUIsR0FBQSxRQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLGlCQUNBbkIsRUFBQSxzQkFBQUUsSUFBQUYsRUFBQUEsRUFBQWtCLEVBQUF4QixlQUFBMEIsV0FBQSxJQUFBQyxLQUFBLFNBQ0FyQixFQUFBLHlCQUFBLEdBQUFzQixXQUdBdEIsRUFBQSxvQ0FBQXVCLGVBS0F2QixHQUFBLG9DQUFBYTs7O0FDekNBLFFBQUFXLGNBQUFULEtBQUFwQixNQUFBOEIsUUFBQUMsUUFDQSxHQUFBQyxTQUFBLEdBQ0FDLE9BQUEsRUFDQSxJQUFBSCxRQUFBLENBQ0EsR0FBQUksTUFBQSxHQUFBQyxLQUNBRCxNQUFBRSxRQUFBRixLQUFBRyxVQUFBLEdBQUFQLFFBQUEsS0FDQUUsUUFBQSxXQUFBRSxLQUFBSSxjQUVBTCxPQUFBYixLQUFBLElBQUFwQixNQUFBLEtBQUFnQyxRQUFBLFlBQ0FPLFNBQUFOLE9BQUFBLE9BR0EsUUFBQU8sZ0JBQUFULE9BQUFVLFNBQUFDLGVBQUFDLGVBRUEsR0FBQSxJQUFBWixRQUFBYSxRQUFBYixPQUFBLENBQ0EsR0FDQWMsZ0JBREFkLE9BQUFlLE1BQUEsS0FBQSxHQUNBQyxPQUFBQyxTQUFBQyxNQUNBQyxXQUFBLEVBSUEsSUFIQUwsY0FBQTFDLFFBQUEsS0FBQSxJQUNBK0MsV0FBQUwsY0FBQU0sVUFBQU4sY0FBQTFDLFFBQUEsS0FBQTBDLGNBQUE1QyxTQUVBd0MsU0FBQSxDQUNBLEdBQUFXLFVBQUFMLE9BQUFDLFNBQUFLLFNBQUEsS0FBQU4sT0FBQUMsU0FBQU0sS0FDQUMsV0FBQVIsT0FBQUMsU0FBQVEsUUFFQUosV0FEQUcsYUFBQWIsZUFDQWEsV0FBQUUsUUFBQWYsZUFBQUMsZUFFQVksV0FBQUUsUUFBQWYsZUFBQSxJQUFBQyxlQUVBUyxVQUFBRixXQUNBRixTQUFBVSxPQUFBTixjQUNBLENBQ0EsR0FBQUEsVUFBQUwsT0FBQUMsU0FBQUssU0FBQSxLQUFBTixPQUFBQyxTQUFBTSxLQUNBQyxXQUFBUixPQUFBQyxTQUFBUSxRQUNBRCxjQUFBYixlQUNBVSxVQUFBRyxXQUFBRSxRQUFBZixlQUFBQyxlQUNBWSxhQUFBYixlQUFBLElBQ0FVLFVBQUFHLFdBQUFFLFFBQUFmLGVBQUEsSUFBQUMsZUFDQSxJQUFBWSxXQUFBcEQsUUFBQXVDLGtCQUVBVSxVQURBLE1BQUFULGNBQ0FZLFdBQUFFLFFBQUFmLGVBQUEsSUFBQUMsZUFFQVksV0FBQUUsUUFBQWYsZUFBQUMsY0FBQSxNQUdBUyxVQUFBRixXQUNBRixTQUFBVSxPQUFBTixZQUlBLFFBQUFPLGVBQUFDLFlBQUE3QixRQUNBLEdBQUE4QixZQUFBRCxZQUFBcEQsS0FBQSxlQUNBc0QsWUFBQUYsWUFBQXBELEtBQUEsZUFDQSxNQUFBdUIsU0FDQStCLFlBQUEvQixPQUVBLElBQUFnQyxpQkFBQUgsWUFBQXBELEtBQUEsbUJBQ0F3QixRQUFBLEVBRUEsSUFBQSxPQUFBK0IsaUJBQUEsS0FBQUEsZ0JBQUEsQ0FDQSxHQUFBN0IsTUFBQSxHQUFBQyxLQUNBRCxNQUFBRSxRQUFBRixLQUFBRyxVQUFBLEdBQUEwQixnQkFBQSxLQUNBL0IsUUFBQSxXQUFBRSxLQUFBSSxjQUVBVCxhQUFBZ0MsV0FBQUMsWUFBQUMsZ0JBQUFoQyxRQUdBLFFBQUFpQywwQkFBQUosWUFBQTdCLFFBRUEsR0FBQWtDLDJCQUFBTCxZQUFBcEQsS0FBQSwrQkFDQXFCLGNBQUFvQywwQkFBQSxNQUFBLEVBQUFsQyxRQ3JFQSxHQUFBbUMsT0FBQUEsU0FFQUEsT0FBQUMsTUFBQUQsTUFBQUMsVUFHQUQsTUFBQUMsTUFBQUMsWUFBQSxTQUFBQyxLQUNBLE1BQUFDLE1BQUFDLFVBQUFGLElBQUEsS0FBQSxJQUlBSCxNQUFBQyxNQUFBSyxTQUFBLFNBQUFDLFdBTUFQLE1BQUFDLE1BQUFPLFlBQUEsU0FBQUMsU0FBQUMsVUFBQUMsT0FDQUEsTUFDQUYsU0FBQUcsU0FBQUYsV0FFQUQsU0FBQUksWUFBQUgsWUFJQVYsTUFBQUMsTUFBQWEsWUFBQSxTQUFBTCxTQUFBTSxRQUNBLEdBQUFDLFdBQUEsUUFDQWhCLE9BQUFDLE1BQUFPLFlBQUFDLFNBQUFPLFVBQUFELFNBR0FmLE1BQUFDLE1BQUFnQixTQUFBLFNBQUFSLFNBQUFTLFFBQ0EsR0FBQUMsV0FBQSxNQUNBbkIsT0FBQUMsTUFBQU8sWUFBQUMsU0FBQVUsVUFBQUQsU0FHQWxCLE1BQUFDLE1BQUFtQixhQUFBLFNBQUFDLFNBQ0FBLFFBQUFDLEtBQUEsS0FBQUMsTUFBQSxTQUFBNUYsT0FDQUEsTUFBQTJCLG9CQUlBMEMsTUFBQUMsTUFBQXVCLFdBQUEsU0FBQUgsU0FDQSxHQUFBSSxRQUFBSixRQUFBSyxjQUFBLFVBQ0FDLE1BQUFOLFFBQUFLLGNBQUEsUUFDQSxJQUFBLE9BQUFELE9BQUEsQ0FDQSxHQUFBRyxXQUFBSCxPQUFBSSxHQUNBSixRQUFBSSxJQUFBRCxVQUVBLE9BQUFELE9BQ0FBLE1BQUFHOzs7Ozs7QUMvQ0EsR0FBQTlCLE9BQUFBLFNBQ0FBLE9BQUErQixLQUFBL0IsTUFBQStCLFNBQ0EvQixNQUFBK0IsS0FBQUMsaUJBQUFoQyxNQUFBK0IsS0FBQUMscUJBQ0FoQyxNQUFBK0IsS0FBQUMsaUJBQUFDLGFBQUEsV0FDQSxHQUFBQyxnQkFBQSxzQkFDQUMsZUFBQSxhQWlCQUMsaUJBQUEsU0FBQUMsYUFDQUEsWUFDQXBGLEtBQUEsU0FBQXFGLGdCQUNBLEdBQUFDLFlBQUFwRyxFQUFBcUcsTUFDQUMsVUFBQSxlQUFBSCxlQUNBSSxRQUFBSCxXQUFBakIsS0FBQSw2QkFDQXFCLE9BQUFKLFdBQUFqQixLQUFBLDJCQUNBc0IsYUFBQUYsUUFBQUMsT0FBQUYsV0FDQUksbUJBQ0EsSUFBQUMsa0JBQUEzRyxFQUFBLDJCQUFBbUYsS0FBQSx1QkFDQXdCLGtCQUFBN0YsS0FBQSxTQUFBcUYsZ0JBQ0EsR0FBQVMsVUFBQTVHLEVBQUFxRyxNQUNBRSxRQUFBSyxTQUFBekIsS0FBQSx3Q0FDQXFCLE9BQUFJLFNBQUF6QixLQUFBLHdDQUNBbUIsVUFBQSx1QkFBQUgsY0FDQU0sYUFBQUYsUUFBQUMsT0FBQUYsZ0JBS0FHLFlBQUEsU0FBQUYsUUFBQUMsT0FBQUYsV0FDQUUsT0FBQXJHLEtBQUEsYUFBQW1HLFdBQ0FFLE9BQUFLLFFBQUEsdUVBQ0FMLE9BQUFuRixLQUFBLHFCQUFBMEUsZ0JBQ0FTLE9BQUEvQixTQUFBc0IsZUFBQSxTQUNBLElBQUFlLGVBQUFOLE9BQUFPLFNBQ0FDLGNBQUEsRUFDQUMsZUFBQSxFQUNBQyxlQUFBLEVBQ0FDLHFCQUFBLEVBQ0FDLFNBQUEsSUFFQWIsU0FBQXBHLEtBQUEsaUJBQUFtRyxXQUNBQyxRQUFBbkIsT0FDQWlDLE9BQUFQLGVBQ0EsU0FBQTVGLEdBQ0FBLEVBQUFDLGlCQUNBRCxFQUFBb0csaUJBQ0EsSUFBQUMsU0FBQXJHLEVBQUFmLEtBQUFrSCxNQUNBRSxTQUFBQyxVQUlBQyxtQkFBQSxTQUFBbEIsUUFBQUMsT0FBQUYsV0FDQUUsT0FBQXJHLEtBQUEsYUFBQW1HLFdBQ0FFLE9BQUFLLFFBQUEsdUVBQ0FMLE9BQUFuRixLQUFBLHFCQUFBMEUsZ0JBQ0FTLE9BQUEvQixTQUFBc0IsZUFBQSxTQUNBLElBQUFlLGVBQUFOLE9BQ0FPLFNBQ0FDLGNBQUEsRUFDQUMsZUFBQSxFQUNBQyxlQUFBLEVBQ0FDLHFCQUFBLEVBQ0FDLFNBQUEsS0FFQUksTUFDQWpCLFNBQUFwRyxLQUFBLGlCQUFBbUcsV0FDQUMsUUFBQW5CLE9BQ0FpQyxPQUFBUCxlQUNBLFNBQUE1RixHQUNBQSxFQUFBQyxpQkFDQUQsRUFBQW9HLGlCQUNBLElBQUFDLFNBQUFyRyxFQUFBZixLQUFBa0gsTUFDQUUsU0FBQUMsVUFJQWQsa0JBQUEsV0FDQSxHQUFBZ0IsZ0JBQUExSCxFQUFBLHNCQUNBMEgsZ0JBQUE1RyxLQUFBLFNBQUE2RyxhQUNBLEdBQUFDLGNBQUE1SCxFQUFBcUcsTUFDQXdCLFlBQUFELGFBQUF2RyxLQUFBLE1BQ0F1RyxjQUFBRSxNQUNBQyxHQUFBLFNBQUFKLFlBQ0F2RCxTQUNBNEQsS0FBQUgsYUFFQUksVUFDQUMsR0FBQSxXQUNBQyxHQUFBLGNBQ0FDLFFBQ0FDLEVBQUEsSUFHQUMsT0FDQUMsUUFBQSw2REFDQUMsS0FBQSxRQU1BQyxpQkFBQSxXQUNBLFFBQUFDLG9CQUFBbEosTUFBQW1KLFNBQ0FuSixNQUFBMkIsZ0JBQ0EsSUFBQXlILGVBQ0FDLElBQUFGLFFBQUF0SCxLQUFBLFFBQ0F5SCxPQUFBSCxRQUFBeEksS0FBQSxrQkFDQXFELFdBQUF4RCxFQUFBLHdCQUFBRyxLQUFBLGVBQ0F1RCxnQkFBQTFELEVBQUEsd0JBQUFHLEtBQUEsbUJBQ0F5QixPQUFBbUgsVUFBQXZGLFdBQ0EsSUFBQSxPQUFBNUIsUUFBQSxLQUFBQSxPQUNBLFdBQUE1QixHQUFBLHdCQUFBZ0osUUFDQSxJQUFBQyxVQUNBQyxPQUFBdEgsT0FBQWEsTUFBQSxLQUNBMEcsU0FBQUQsT0FBQSxFQUNBQSxRQUFBdEosT0FBQSxJQUFBcUosU0FBQUMsT0FBQSxHQUFBekcsTUFBQSxLQUNBLElBQUEyRyxPQUFBSCxTQUFBbkosUUFBQWdKLE9BQUFPLFdBQ0EsT0FBQUosVUFBQUssT0FBQUYsTUFBQSxHQUFBUixjQUFBTyxTQUFBLElBQUFGLFNBQUFNLEtBQUEsS0FBQUMsYUFBQWhHLFlBQUF5RixTQUFBckosT0FBQSxHQUlBNEIsYUFBQWdDLFdBQUFvRixjQUFBbEYsaUJBQ0FpRixRQUNBYyxRQUFBLHdCQUNBVCxTQUNBaEosRUFBQSwyQkFDQW1GLEtBQUEsdUJBQ0E2RCxTQUNBVSxrQkFBQWYsYUFDQTNJLEdBQUEySixNQUNBQyxJQUFBZixJQUNBZ0IsT0FBQSxFQUNBQyxRQUFBLFNBQUEzSixNQUNBSCxFQUFBLGlCQUFBK0osS0FBQTVKLE1BQ0FILEVBQUEsc0JBQUF5RSxTQUFBLFdBR0F1RixLQUFBLFdBQ0FDLHVCQUVBQyxLQUFBLGdCQXRCQWxLLEVBQUEsd0JBQUFnSixTQUNBUSxhQUFBaEcsZ0JBQ0FoQyxjQUFBZ0MsV0FBQSxHQUFBRSxrQkFtQ0EsUUFBQXFGLFdBQUFoSSxNQUNBLElBQUEsR0FBQW9KLFFBQUFwSixLQUFBLElBQUFxSixHQUFBbEksU0FBQU4sT0FBQWEsTUFBQSxLQUFBNEgsRUFBQUQsR0FBQXhLLE9BQUEsRUFBQXlLLEdBQUEsSUFBQUEsRUFBQSxDQUNBLElBQUEsR0FBQUMsR0FBQUYsR0FBQUMsR0FDQSxNQUFBQyxFQUFBQyxPQUFBLElBQ0FELEVBQUFBLEVBQUF4SCxVQUFBLEVBQUF3SCxFQUFBMUssT0FDQSxJQUFBLElBQUEwSyxFQUFBeEssUUFBQXFLLFFBQ0EsTUFBQUcsR0FBQXhILFVBQUFxSCxPQUFBdkssT0FBQTBLLEVBQUExSyxRQUVBLE1BQUEsTUFHQSxRQUFBNEosY0FBQXpJLE1BQ0FtQixTQUFBTixPQUFBYixLQUFBLDBDQUdBLFFBQUF5SixnQkFBQWhFLFFBQ0F4RyxFQUFBLFFBQUF3RyxPQUFBckcsS0FBQSxtQkFBQXNKLFFBQUEsc0JBQUFoRixTQUFBLGlCQUNBekUsRUFBQSxRQUFBd0csT0FBQXJHLEtBQUEsbUJBQUFzSixRQUFBLHFCQUFBaEYsU0FBQSxpQkFDQStCLE9BQUFpRSxTQUFBLGtDQUFBakUsT0FBQWlELFFBQUEsaUNBQUFoRixTQUFBLGlCQUFBekUsRUFBQSx3QkFBQXdHLE9BQUFpRCxRQUFBLGlDQUFBcEksS0FBQSxNQUFBLE1BQUFvRCxTQUFBLGtCQUNBK0IsT0FBQWlFLFNBQUEsNkJBQUFqRSxPQUFBaUQsUUFBQSxxQkFBQWhGLFNBQUEsaUJBQUF6RSxFQUFBLElBQUF3RyxPQUFBaUQsUUFBQSxxQkFBQXBJLEtBQUEsb0JBQUFvRCxTQUFBLGlCQUFBekUsRUFBQSx3QkFBQW1GLEtBQUEsc0JBQUFWLFNBQUEsa0JBR0EsUUFBQWlGLG1CQUFBbEQsUUFDQXhHLEVBQUEsV0FBQXdHLE9BQUFyRyxLQUFBLG1CQUFBc0osUUFBQSxzQkFBQS9FLFlBQUEsaUJBQ0ExRSxFQUFBLFdBQUF3RyxPQUFBckcsS0FBQSxtQkFBQXNKLFFBQUEscUJBQUEvRSxZQUFBLGlCQUNBOEIsT0FBQWlFLFNBQUEsa0NBQUFqRSxPQUFBaUQsUUFBQSxpQ0FBQS9FLFlBQUEsaUJBQUExRSxFQUFBLHdCQUFBd0csT0FBQWlELFFBQUEsaUNBQUFwSSxLQUFBLE1BQUEsTUFBQXFELFlBQUEsa0JBQ0E4QixPQUFBaUUsU0FBQSw2QkFBQWpFLE9BQUFpRCxRQUFBLHFCQUFBL0UsWUFBQSxpQkFBQTFFLEVBQUEsSUFBQXdHLE9BQUFpRCxRQUFBLHFCQUFBcEksS0FBQSxvQkFBQXFELFlBQUEsa0JBQ0E4QixPQUFBaUUsU0FBQSw4QkFBQXpLLEVBQUEsaUNBQUF3RyxPQUFBbkYsS0FBQSx1QkFBQSxNQUFBcUQsWUFBQSxpQkFBQTFFLEVBQUEsYUFBQXdHLE9BQUFuRixLQUFBLHdCQUFBcUQsWUFBQSxpQkFBQTFFLEVBQUEsd0JBQUFtRixLQUFBLHNCQUFBVCxZQUFBLGtCQUdBZ0csV0FBQSxXQUNBMUssRUFBQSx3REFDQWMsS0FBQSxXQUNBLEdBQ0EwQyxhQURBeEQsRUFBQXFHLE1BQUFoRixLQUFBLFFBQUFyQixFQUFBcUcsTUFBQWxHLEtBQUEsa0JBQ0FILEVBQUEsd0JBQUFHLEtBQUEsZ0JBQ0F5QixRQUFBNUIsRUFBQSx3QkFBQUcsS0FBQSxtQkFBQUgsRUFBQSx3QkFBQUcsS0FBQSwyQkFBQUgsRUFBQSx3QkFBQUcsS0FBQSw0QkFBQUgsRUFBQSx3QkFBQUcsS0FBQSxnQ0FBQUgsRUFBQSxrQkFBQUcsS0FBQSwyQkFBQTRJLFVBQUF2RixZQUNBLElBQUEsT0FBQTVCLE9BQUEsQ0FDQSxHQUFBc0gsUUFBQXRILE9BQUFhLE1BQUEsSUFFQSxJQURBeUcsT0FBQSxHQUNBQSxPQUFBLEdBQ0EsQ0FBQUEsT0FBQSxHQUFBekcsTUFBQSxVQU1BLElBRUEsSUFBQWtJLGFBQUEsV0FDQSxHQUFBekUsYUFBQWxHLEVBQUEsSUFBQStGLGVBQ0FHLGFBQUFwRixLQUFBLFNBQUFxRixnQkFDQSxHQUFBQyxZQUFBcEcsRUFBQXFHLE1BQ0FDLFVBQUEsZUFBQUgsZUFDQUksUUFBQUgsV0FBQWpCLEtBQUEsNkJBQ0FxQixPQUFBSixXQUFBakIsS0FBQSwyQkFDQW5GLEdBQUEsNEJBQUFnSixTQUNBdkMsWUFBQUYsUUFBQUMsT0FBQUYsV0FDQXRHLEVBQUEsMkJBQUFpQixHQUFBLFFBQUEsNEJBQUEsU0FBQXpCLE9BQ0FrSixtQkFBQWxKLE1BQUFRLEVBQUFxRyxTQUVBLEdBQUFyRyxFQUFBLHdCQUFBNEssT0FDQTVLLEVBQUEsd0JBQUE2SyxNQUFBLE9BQ0E3SyxFQUFBLHdCQUFBNkssTUFBQSxZQUNBbkUsbUJBQ0EsSUFBQUMsa0JBQUEzRyxFQUFBLDJCQUFBbUYsS0FBQSx1QkFDQXdCLGtCQUFBN0YsS0FBQSxTQUFBcUYsZ0JBQ0EsR0FBQVMsVUFBQTVHLEVBQUFxRyxNQUNBRSxRQUFBSyxTQUFBekIsS0FBQSx3Q0FDQXFCLE9BQUFJLFNBQUF6QixLQUFBLHdDQUNBbUIsVUFBQSx1QkFBQUgsY0FDQU0sYUFBQUYsUUFBQUMsT0FBQUYsZ0JBS0EyRCxtQkFBQSxXQUNBLEdBQUEvRCxhQUFBbEcsRUFBQSxJQUFBK0YsZUFDQUcsYUFBQXBGLEtBQUEsU0FBQXFGLGdCQUNBLEdBQUFDLFlBQUFwRyxFQUFBcUcsTUFDQUMsVUFBQSxlQUFBSCxlQUNBSSxRQUFBSCxXQUFBakIsS0FBQSw2QkFDQXFCLE9BQUFKLFdBQUFqQixLQUFBLDJCQUNBbkYsR0FBQSw0QkFBQWdKLFNBQ0F2QyxZQUFBRixRQUFBQyxPQUFBRixXQUNBdEcsRUFBQSwyQkFBQWlCLEdBQUEsUUFBQSw0QkFBQSxTQUFBekIsT0FDQWtKLG1CQUFBbEosTUFBQVEsRUFBQXFHLFNBRUEsR0FBQXJHLEVBQUEsd0JBQUE0SyxPQUNBNUssRUFBQSx3QkFBQTZLLE1BQUEsT0FDQTdLLEVBQUEsd0JBQUE2SyxNQUFBLFdBQ0EsSUFBQWxFLGtCQUFBM0csRUFBQSwyQkFBQW1GLEtBQUEsdUJBQ0F3QixrQkFBQTdGLEtBQUEsU0FBQXFGLGdCQUNBLEdBQUFTLFVBQUE1RyxFQUFBcUcsTUFDQUUsUUFBQUssU0FBQXpCLEtBQUEsd0NBQ0FxQixPQUFBSSxTQUFBekIsS0FBQSx3Q0FDQW1CLFVBQUEsdUJBQUFILGNBQ0FzQixvQkFBQWxCLFFBQUFDLE9BQUFGLGdCQUtBd0UsYUFBQSxTQUFBQyxVQUFBQyxlQUFBQyxTQUFBQyxTQUNBLEdBQUFDLHdCQUFBSixVQUFBSyxNQUFBLEVBQUFKLGdCQUNBSyxhQUFBRix1QkFBQSxJQUFBRCxPQUlBLE9BSEFELFVBQUFBLFNBQUE3SCxRQUFBLFdBQUFpSSxjQUNBSixTQUFBQSxTQUFBSyxXQUFBLFFBQUFKLFNBQ0FELFNBQUFBLFNBQUE3SCxRQUFBLHVCQUFBLDhCQUlBcEQsR0FBQSxRQUFBaUIsR0FBQSxRQUFBLG1CQUFBLFNBQUF6QixPQUNBQSxNQUFBMkIsZ0JBQ0EsSUFVQXlILGVBVkEyQyxtQkFBQXZMLEVBQUEsdUJBQUFFLE1BQ0FzTCxvQkFBQXhMLEVBQUEsd0JBQUFFLE1BQ0F1TCx1QkFBQXpMLEVBQUEsMkJBQUFFLE1BQ0F3TCxxQkFBQTFMLEVBQUEseUJBQUFFLE1BQ0F5TCxtQkFBQTNMLEVBQUEsdUJBQUFFLE1BQ0EwTCxvQkFBQTVMLEVBQUEsdUJBQUFFLE1BQ0EyTCw0QkFBQTdMLEVBQUEsZ0NBQUFFLE1BQ0E0TCxvQkFBQTlMLEVBQUEsd0JBQUFFLE1BQ0E2TCxhQUFBL0wsRUFBQSxpQkFBQUUsTUFHQTJJLElBQUE3SSxFQUFBcUcsTUFBQWxHLEtBQUEsUUFDQTJJLE9BQUE5SSxFQUFBcUcsTUFBQWxHLEtBQUEsa0JBQ0E2TCxtQkFBQWhNLEVBQUFxRyxNQUFBbEcsS0FBQSxZQUNBOEwsc0JBQUFqTSxFQUFBcUcsTUFBQWxHLEtBQUEsa0NBQ0FxRCxXQUFBeEQsRUFBQSx3QkFBQUcsS0FBQSxlQUNBdUQsZ0JBQUExRCxFQUFBLHdCQUFBRyxLQUFBLG1CQUNBK0wsc0JBQUFsTSxFQUFBLHdCQUFBRyxLQUFBLDJCQUNBZ00sdUJBQUFuTSxFQUFBLHdCQUFBRyxLQUFBLDRCQUNBaU0sMkJBQUFwTSxFQUFBLHdCQUFBRyxLQUFBLGdDQUNBeUIsT0FBQW1ILFVBQUF2RixZQUVBeUYsVUFEQWpKLEVBQUEsd0JBQUFHLEtBQUEsd0JBQ0EsR0FDQSxJQUFBLE9BQUF5QixRQUFBLEtBQUFBLE9BQ0FnSCxjQUFBb0QsbUJBQUEsSUFBQUMsc0JBQ0F6SyxhQUFBZ0MsV0FBQW9GLGNBQUFsRixpQkFDQThHLGVBQUF4SyxFQUFBcUcsV0FDQSxDQUNBLEdBQUE2QyxRQUFBdEgsT0FBQWEsTUFBQSxLQUNBMEcsU0FBQUQsT0FBQSxHQUNBRCxTQUFBQyxPQUFBLEdBQUF6RyxNQUFBLEtBQ0E0SixZQUFBLENBRUEsSUFBQWxELFdBQUE2QyxtQkFDQSxJQUFBLEdBQUEzQixHQUFBLEVBQUFBLEVBQUFwQixTQUFBckosT0FBQXlLLElBQ0EsR0FBQXBCLFNBQUFvQixHQUFBaEIsYUFBQTRDLHNCQUFBNUMsV0FDQSxPQUFBLENBS0EsSUFBQWdELFlBQUFwRCxTQUFBcUQsS0FBQUwsdUJBQUFELG9CQUFBN0MsU0FBQSxDQUNBLEdBQUFvRCxHQUFBQyxRQUFBSiwyQkFDQSxJQUFBRyxLQUFBLEVBV0EsT0FBQSxDQVZBdk0sR0FBQSxxQkFBQWdKLFNBQ0FoSixFQUFBLGtCQUFBMEUsWUFBQSxpQkFDQThFLGFBQUFoRyxZQUNBb0YsY0FBQW9ELG1CQUFBLElBQUFDLHNCQUNBekssYUFBQWdDLFdBQUFvRixjQUFBbEYsaUJBQ0E4RyxlQUFBeEssRUFBQXFHLE9BQ0E0QyxTQUFBLE9BT0FMLGVBQUFPLFNBQUEsSUFBQUYsU0FBQU0sS0FBQSxJQUVBLElBQUFOLFNBQUFySixPQUFBc00sc0JBRUEsTUFEQXhDLG1CQUFBMUosRUFBQXFHLE9BQ0FvRyxNQUFBTix5QkFDQSxDQUVBSCxxQkFBQTdDLFVBQUFGLFNBQUFySixRQUFBc00sdUJBQUExQixlQUFBeEssRUFBQXFHLE9BQ0FtRCxhQUFBaEcsWUFDQWhDLGFBQUFnQyxXQUFBb0YsY0FBQWxGLGlCQUVBLEdBQUFnSixhQUFBLEVBQ0FDLE9BQUFWLHlCQUNBUyxZQUFBVCxzQkFBQXhKLE1BQUEsTUFFQSxJQUFBbUssaUJBQUEsRUFDQUYsYUFBQTlNLE9BQUEsSUFDQWdOLGdCQUFBLG9CQUFBRixZQUFBLElBRUExTSxFQUFBMkosTUFDQUMsSUFBQWYsSUFDQWdCLE9BQUEsRUFDQTFKLE1BQ0EwTSxXQUFBL0QsUUFFQWdCLFFBQUEsU0FBQTNKLE1BQ0EsR0FBQSxHQUFBQSxLQUFBMkosUUFBQSxDQUNBLEdBQUFnRCxnQkFDQSxJQUFBM00sS0FBQTRNLE1BQUEsR0FBQXJILElBQUFzSCxXQUFBLFFBQUEsQ0FDQSxHQUFBaEMsZ0JBQUE3SyxLQUFBNE0sTUFBQSxHQUFBckgsSUFBQXVILFlBQUEsSUFDQSxNQUFBQyxlQUFBL00sS0FBQTRNLE1BQUEsR0FBQXJILElBQUEwRixNQUFBSixlQUFBLEdBQ0FtQyxpQkFBQWhOLEtBQUE0TSxNQUFBLEdBQUFySCxJQUFBNUYsUUFBQSxNQUFBLEVBQ0FzTixvQkFBQWpOLEtBQUE0TSxNQUFBLEdBQUFySCxJQUFBMEYsTUFBQStCLGlCQUFBbkMsZUFDQUEsZ0JBQUFvQyxvQkFBQUgsWUFBQSxJQUNBLE1BQUFJLHNCQUFBRCxvQkFBQWhDLE1BQUFKLGVBQUEsRUFHQThCLGlCQUZBM00sS0FBQTRNLE1BQUEsR0FBQU8sTUFFQXpCLDRCQUFBekksUUFBQSxNQUFBOEosZUFFQXBCLG9CQUFBMUksUUFBQSxNQUFBOEosZUFLQSxnQkFBQUcscUJBQ0FQLGdCQUFBaEMsYUFBQXNDLG9CQUFBcEMsZUFBQThCLGdCQUFBLFVBRUFBLGdCQUFBQSxnQkFBQXhCLFdBQUEsV0FBQThCLHFCQUNBTixnQkFBQUEsZ0JBQUF4QixXQUFBLFFBQUErQiwyQkFLQVAsaUJBRkEzTSxLQUFBNE0sTUFBQSxHQUFBTyxNQUVBN0IsdUJBQUFySSxRQUFBLE1BQUFqRCxLQUFBNE0sTUFBQSxHQUFBckgsS0FFQThGLG9CQUFBcEksUUFBQSxNQUFBakQsS0FBQTRNLE1BQUEsR0FBQXJILElBR0EsSUFBQTZILFVBQUF2TixFQUFBLGNBQUFFLE1BQ0FzTixjQUFBeE4sRUFBQSxtQkFBQUUsTUFDQXVOLGFBQUF0TixLQUFBNE0sTUFBQSxHQUFBVSxhQUNBQyxXQUFBQyxLQUFBQyxNQUFBSCxhQUFBRixTQUNBRSxlQUFBQyxXQUFBRixlQUFBSyxlQUFBLFFBQ0EsSUFBQUMsaUNBQUEsRUFDQUEsaUNBQUEseUNBQUE3QixzQkFBQSxHQUNBLElBQUE4QixjQUFBaEMsY0FBQTVMLEtBQUE0TSxNQUFBLEdBQUFVLGNBQUF0TixLQUFBNE0sTUFBQSxHQUFBVSxhQUFBN04sT0FBQSxFQUFBLG1DQUFBbU0sYUFBQSxJQUFBMEIsYUFBQSxjQUFBLEdBRUFPLFNBQUEscUNBQUFsRixPQUFBLGNBQUF5QyxtQkFBQSxJQUFBcEwsS0FBQTRNLE1BQUEsR0FBQUYsV0FBQSxXQUFBMU0sS0FBQTRNLE1BQUEsR0FBQWtCLFdBQUFyQixnQkFBQSwyQ0FBQUUsZ0JBQUEsbUNBS0EsSUFKQWtCLFVBQUEsd0VBQUE3TixLQUFBNE0sTUFBQSxHQUFBbUIsT0FBQSxVQUFBL04sS0FBQTRNLE1BQUEsR0FBQW9CLFlBQUEsVUFDQUgsVUFBQSx3Q0FBQTdOLEtBQUE0TSxNQUFBLEdBQUFrQixXQUFBLFVBQ0FELFVBQUFELGFBQ0FDLFVBQUEsZ0VBQUE3TixLQUFBNE0sTUFBQSxHQUFBRixXQUFBLElBQUFpQixnQ0FBQSxpQ0FDQSxJQUFBN0UsU0FBQSxDQUNBLEdBQUFtRixhQUFBcE8sRUFBQSxnQkFBQUUsTUFDQW1PLGFBQUEsbUVBQUE3SyxXQUFBLDZYQUlBd0ksbUJBQUEsbURBQ0FxQyxlQUFBLG9HQUNBM0MscUJBQUEsVUFDQTJDLGNBQUEsK0VBQ0EscUdBRUFBLGNBQUEsdUNBQUEzTCxPQUFBQyxTQUFBQyxLQUFBLDBCQUFBd0wsWUFBQSw2RUFBQXpDLG1CQUFBLE9BQ0EwQyxjQUFBLG1EQUFBekMsb0JBQUEsNkRBRUE1TCxFQUFBLGlCQUFBK0osS0FBQXNFLGNBRUFMLFVBQUEscU1BR0FoTyxFQUFBLHNCQUFBK0osS0FBQWlFLFVBQ0FoTyxFQUFBLHNCQUFBeUUsU0FBQSxZQUNBLENBR0EsSUFBQSxHQUZBNkosT0FBQXJGLFNBQUFySixPQUNBMk8sYUFBQSxLQUNBbEUsRUFBQSxFQUFBQSxFQUFBcEIsU0FBQXJKLE9BQUF5SyxJQUNBa0UsYUFBQXRGLFNBQUFvQixFQUdBLElBQUFpRSxPQUNBdE8sRUFBQSxzQkFDQW9CLFdBQ0FvTixPQUNBeEYsU0FDQWhKLEVBQUEsc0JBQ0FvQixXQUNBb04sT0FDQXhGLFNBRUFnRixVQUFBLG9HQUVBaE8sRUFBQSxzQkFBQWdCLE9BQUFnTixVQUNBaE8sRUFBQSxzQkFBQXlFLFNBQUEsU0FDQSxHQUFBNkosUUFDQXRPLEVBQUEsc0JBQ0FvQixXQUNBb04sT0FDQXhGLFNBQ0FoSixFQUFBLHNCQUFBZ0IsT0FBQWdOLFVBQ0FoTyxFQUFBLHNCQUFBeUUsU0FBQSxjQU1BdUYsS0FBQSxXQUNBaEssRUFBQSx1QkFBQXlFLFNBQUEsUUFDQXpFLEVBQUEsc0JBQUF5RSxTQUFBLFVBRUF5RixLQUFBLGdCQVNBbEssRUFBQSxRQUFBaUIsR0FBQSxRQUFBLHVCQUFBLFNBQUF6QixPQUNBQSxNQUFBMkIsZ0JBQ0EsSUFDQTJILFNBREE5SSxFQUFBcUcsTUFBQWxHLEtBQUEsUUFDQUgsRUFBQXFHLE1BQUFsRyxLQUFBLG1CQUNBc08sbUJBQUF6TyxFQUFBcUcsTUFBQWxHLEtBQUEsa0NBQ0FxRCxXQUFBeEQsRUFBQSx3QkFBQUcsS0FBQSxlQUNBdUQsZ0JBQUExRCxFQUFBLHdCQUFBRyxLQUFBLGtCQUlBdUosbUJBQUExSixFQUFBcUcsTUFHQSxJQUFBdUMsZUFDQWhILE9BQUFtSCxVQUFBdkYsV0FDQSxJQUFBLE9BQUE1QixRQUFBLEtBQUFBLE9BQ0EsV0FBQTVCLEdBQUEsd0JBQUFnSixRQUNBLElBQUFDLFVBQ0FDLE9BQUF0SCxPQUFBYSxNQUFBLEtBQ0EwRyxTQUFBRCxPQUFBLEVBQ0FBLFFBQUF0SixPQUFBLElBQUFxSixTQUFBQyxPQUFBLEdBQUF6RyxNQUFBLEtBQ0EsSUFBQTJHLE9BQUFILFNBQUFuSixRQUFBZ0osT0FBQU8sV0FJQSxJQUhBOUcsUUFBQWtNLHFCQUNBckYsTUFBQUgsU0FBQW5KLFFBQUEyTyxtQkFBQXBGLGVBRUEsRUFBQUQsT0FBQSxDQUdBLEdBQUFILFNBQUFLLE9BQUFGLE1BQUEsR0FBQVIsY0FBQU8sU0FBQSxJQUFBRixTQUFBTSxLQUFBLEtBQUFDLGFBQUFoRyxjQUFBeUYsU0FBQXJKLE9BQUEsR0FDQSxNQUFBSSxHQUFBLHdCQUFBZ0osU0FDQVEsYUFBQWhHLGdCQUNBaEMsY0FBQWdDLFdBQUEsR0FBQUUsZ0JBQ0FsQyxjQUFBZ0MsV0FBQW9GLGNBQUFsRixnQkFHQSxLQUFBLEdBRkE0SyxPQUFBckYsU0FBQXJKLE9BQ0EyTyxhQUFBLEtBQ0FsRSxFQUFBLEVBQUFBLEVBQUFwQixTQUFBckosT0FBQXlLLElBQ0FrRSxhQUFBdEYsU0FBQW9CLEVBR0FySyxHQUFBLElBQUE4SSxRQUFBRSxRQUNBLElBQUFzRixPQUFBckYsU0FBQXJKLE1BSUEsSUFIQUksRUFBQSxxQkFDQTBPLFNBQ0ExRixTQUNBLEdBQUFzRixNQUFBLENBQ0EsR0FBQU4sVUFBQSxtR0FFQUEsV0FBQSxvR0FFQWhPLEVBQUEsc0JBQUFnQixPQUFBZ04sVUFHQSxHQUFBLEdBQUFNLE1BQUEsQ0FDQSxHQUFBTixVQUFBLG1HQUVBaE8sR0FBQSxzQkFBQWdCLE9BQUFnTixjQUtBaE8sRUFBQSxpQkFBQWlCLEdBQUEsUUFBQSxzQkFBQSxTQUFBekIsT0FDQUEsTUFBQTJCLGdCQUNBLElBQ0EySCxTQURBOUksRUFBQXFHLE1BQUFoRixLQUFBLFFBQ0FyQixFQUFBcUcsTUFBQWxHLEtBQUEsbUJBQ0FzTyxtQkFBQXpPLEVBQUFxRyxNQUFBbEcsS0FBQSxrQ0FDQXFELFdBQUF4RCxFQUFBLHdCQUFBRyxLQUFBLGVBQ0F1RCxnQkFBQTFELEVBQUEsd0JBQUFHLEtBQUEsbUJBSUF3TyxLQUFBM08sRUFBQSxXQUFBOEksUUFBQSxFQUNBWSxtQkFBQTFKLEVBQUEyTyxPQUNBM08sRUFBQUEsRUFBQSxXQUFBOEksU0FDQVcsUUFBQSxzQkFDQS9FLFlBQUEsZ0JBQ0EsSUFBQWtFLGVBQ0FoSCxPQUFBbUgsVUFBQXZGLFdBQ0EsSUFBQSxPQUFBNUIsUUFBQSxLQUFBQSxPQUNBLFdBQUE1QixHQUFBLHdCQUFBZ0osUUFDQSxJQUFBQyxVQUNBQyxPQUFBdEgsT0FBQWEsTUFBQSxLQUNBMEcsU0FBQUQsT0FBQSxFQUNBQSxRQUFBdEosT0FBQSxJQUFBcUosU0FBQUMsT0FBQSxHQUFBekcsTUFBQSxLQUNBLElBQUEyRyxPQUFBSCxTQUFBbkosUUFBQWdKLE9BQUFPLFdBSUEsSUFIQTlHLFFBQUFrTSxxQkFDQXJGLE1BQUFILFNBQUFuSixRQUFBMk8sbUJBQUFwRixhQUVBSixTQUFBSyxPQUFBRixNQUFBLEdBQUFSLGNBQUFPLFNBQUEsSUFBQUYsU0FBQU0sS0FBQSxLQUFBQyxhQUFBaEcsY0FBQXlGLFNBQUFySixPQUFBLEdBQ0EsTUFBQUksR0FBQSx3QkFBQWdKLFNBQ0FRLGFBQUFoRyxnQkFDQWhDLGNBQUFnQyxXQUFBLEdBQUFFLGdCQUNBbEMsY0FBQWdDLFdBQUFvRixjQUFBbEYsZ0JBR0EsS0FBQSxHQUZBNEssT0FBQXJGLFNBQUFySixPQUNBMk8sYUFBQSxLQUNBbEUsRUFBQSxFQUFBQSxFQUFBcEIsU0FBQXJKLE9BQUF5SyxJQUNBa0UsYUFBQXRGLFNBQUFvQixFQUdBckssR0FBQSxJQUFBOEksUUFBQUUsUUFDQSxJQUFBc0YsT0FBQXJGLFNBQUFySixNQUlBLElBSEFJLEVBQUEscUJBQ0EwTyxTQUNBMUYsU0FDQSxHQUFBc0YsTUFBQSxDQUNBLEdBQUFOLFVBQUEsbUdBRUFBLFdBQUEsb0dBRUFoTyxFQUFBLHNCQUFBZ0IsT0FBQWdOLFVBQ0FoTyxFQUFBLHVCQUFBeUUsU0FBQSxRQUVBLEdBQUEsR0FBQTZKLE1BQUEsQ0FDQSxHQUFBTixVQUFBLG1HQUVBaE8sR0FBQSxzQkFBQWdCLE9BQUFnTixVQUNBaE8sRUFBQSx1QkFBQXlFLFNBQUEsV0FLQXpFLEVBQUEsaUJBQUFpQixHQUFBLFFBQUEscUJBQUEsU0FBQXpCLE9BQ0FRLEVBQUEsd0JBQUFnSixTQUNBaEosRUFBQSxrQkFBQTBFLFlBQUEsZ0JBQ0EsSUFBQWxCLFlBQUF4RCxFQUFBLHdCQUFBRyxLQUFBLGVBQ0F1RCxnQkFBQTFELEVBQUEsd0JBQUFHLEtBQUEsa0JBQ0FxSixjQUFBaEcsWUFDQWhDLGFBQUFnQyxXQUFBLEdBQUFFLGlCQUNBaUgsYUFDQSxJQUFBaUUsb0JBQUE1TyxFQUFBLHdCQUFBRyxLQUFBLHdCQUNBdUQsZ0JBQUExRCxFQUFBLHdCQUFBRyxLQUFBLGtCQUNBcUosY0FBQW9GLG9CQUNBcE4sYUFBQW9OLG1CQUFBLEdBQUFsTCxtQkFHQTFELEVBQUEsaUJBQUFpQixHQUFBLFFBQUEsb0JBQUEsU0FBQXpCLE9BQ0FBLE1BQUEyQixnQkFDQSxJQUFBME4sZ0JBQUE3TyxFQUFBcUcsTUFBQWxHLEtBQUEsZ0JBQ0EyTyxlQUFBOU8sRUFBQXFHLE1BQUFsRyxLQUFBLG1CQUNBcUIsY0FBQSxpQkFBQXNOLGVBQUEsR0FDQXBNLE9BQUFDLFNBQUFDLEtBQUFpTSxpQkFHQTdPLEVBQUEsMkJBQUFpQixHQUFBLFFBQUEsMkJBQUEsU0FBQXpCLE9BQ0FBLE1BQUEyQixnQkFDQSxJQUFBMk4sZ0JBQUEvRixVQUFBLGlCQUNBLFFBQUErRixnQkFBQSxLQUFBQSxpQkFDQXBNLE9BQUFDLFNBQUFDLEtBQUFrTSxrQkFLQTlPLEVBQUEsMkJBQUFpQixHQUFBLFFBQUEsNEJBQUEsU0FBQXpCLE9BQ0FrSixtQkFBQWxKLE1BQUFRLEVBQUFxRyxTQUdBckcsRUFBQSw0QkFBQWlCLEdBQUEsUUFBQSxzQkFBQSxTQUFBekIsT0FFQUEsTUFBQTJCLGlCQUNBMkgsT0FBQTlJLEVBQUFxRyxNQUFBbEcsS0FBQSxrQkFDQXNPLG1CQUFBek8sRUFBQXFHLE1BQUFsRyxLQUFBLGtDQUNBcUQsV0FBQXhELEVBQUEsd0JBQUFHLEtBQUEsZUFDQXVELGdCQUFBMUQsRUFBQSx3QkFBQUcsS0FBQSxrQkFDQSxJQUFBeUksZUFDQWhILE9BQUFtSCxVQUFBdkYsV0FDQSxJQUFBLE9BQUE1QixRQUFBLEtBQUFBLE9BQ0EsV0FBQTVCLEdBQUEsd0JBQUFnSixRQUNBLElBQUFDLFVBQ0FDLE9BQUF0SCxPQUFBYSxNQUFBLEtBQ0EwRyxTQUFBRCxPQUFBLEVBQ0FBLFFBQUF0SixPQUFBLElBQUFxSixTQUFBQyxPQUFBLEdBQUF6RyxNQUFBLEtBQ0EsSUFBQTJHLE9BQUFILFNBQUFuSixRQUFBZ0osT0FBQU8sV0FJQSxPQUhBOUcsU0FBQWtNLHFCQUNBckYsTUFBQUgsU0FBQW5KLFFBQUEyTyxtQkFBQXBGLGFBRUFKLFNBQUFLLE9BQUFGLE1BQUEsR0FBQVIsY0FBQU8sU0FBQSxJQUFBRixTQUFBTSxLQUFBLEtBQUFDLGFBQUFoRyxZQUFBeUYsU0FBQXJKLE9BQUEsR0FJQTRCLGFBQUFnQyxXQUFBb0YsY0FBQWxGLHFCQUNBMUQsR0FBQXFHLE1BQ0FxSSxTQUNBQSxTQUNBMUYsV0FQQWhKLEVBQUFxRyxNQUFBcUksU0FBQUEsU0FBQTFGLFNBQ0FRLGFBQUFoRyxnQkFDQWhDLGNBQUFnQyxXQUFBLEdBQUFFLG9CQVNBLE9BQUFoQixRQUFBcU0saUJBQUEsV0FBQSxTQUFBdlAsUUFDQUEsTUFBQXdQLFdBQUF0TSxPQUFBdU0sYUFBQSxHQUFBdk0sT0FBQXVNLFlBQUFDLFdBQUFDLE9BQUFDLGVBQUF6TSxTQUFBME0sV0FDQSxJQUNBQyxXQUFBLFdBQ0F0SixnQkFDQSxJQUFBRSxhQUFBbEcsRUFBQSxJQUFBK0YsZUFDQTBDLGtCQUFBdkMsYUFDQUQsaUJBQUFDLGFBQ0FRLHFCQUVBNkksT0FBQSxpQkFLQXZQLEVBQUEsV0FDQUEsRUFBQWtDLFVBQUFzTixNQUFBLFdBRUEzTCxNQUFBK0IsS0FBQUMsaUJBQUFDLGFBQUF3SixlQUVBdFAsRUFBQTBDLFFBQUErTSxLQUFBLFdBRUE1TCxNQUFBK0IsS0FBQUMsaUJBQUFDLGFBQUF5SixRQUdBLElBQUFHLGFBQUExUCxFQUFBLGdCQUNBQSxHQUFBLHFDQUFBZ0IsT0FBQTBPLGlCQUlBMVAsRUFBQWtDLFVBQUFqQixHQUFBLFNBQUEsV0FBQSxXQUNBME8sbUJBQ0EzUCxFQUFBLHVCQUFBeUUsU0FBQSxnQkFDQXpFLEVBQUEsaUJBQUF5RSxTQUFBLGdCQUNBekUsRUFBQSxhQUFBeUUsU0FBQSxnQkFDQXpFLEVBQUEsc0JBQUF5RSxTQUFBLGtCQUdBekUsRUFBQWtDLFVBQUFqQixHQUFBLFVBQUEsV0FBQSxXQUNBakIsRUFBQSxpQkFBQTBFLFlBQUEsaUJBR0EsSUFBQWlMLGtCQUFBLFdBQ0EsR0FBQUMsU0FBQTVQLEVBQUEsOEJBQUF3TyxPQUFBckosS0FBQSxNQUFBdkYsTUFDQWlRLGVBQUEsRUFDQUMsUUFBQTlQLEVBQUEsOEJBQUFKLE9BQ0FtUSxLQUFBL1AsRUFBQSxRQUNBLEtBQUEsR0FBQXFLLEdBQUEsRUFBQXVGLFFBQUF2RixFQUFBQSxJQUNBMEYsS0FBQS9QLEVBQUEsT0FBQXFLLEVBQ0EwRixNQUFBalAsS0FBQSxXQUNBLEdBQUFrUCxPQUFBaFEsRUFBQXFHLEtBQ0EySixPQUFBQyxTQUFBSixnQkFBQUEsY0FBQUcsTUFBQUMsWUFFQUYsS0FBQWpQLEtBQUEsV0FDQWQsRUFBQXFHLE1BQUE0SixPQUFBSixrQkFJQVQsWUFBQSxXQUNBLE1BQUEsK0JBQUFjLFVBQUFDLFNBQUFELFVBQUFFLFVBQUFDLE1BQUEsWUFBQUgsVUFBQUUsVUFBQUMsTUFBQSxVQUFBLG1CQUFBclEsR0FBQXNRLFNBQUEsR0FBQXRRLEVBQUFzUSxRQUFBQyxNQUVBLEdBRUEsR0N4dEJBMU0sTUFBQUEsVUFDQTJNLGlCQUFBLEdBRUEzTSxPQUFBK0IsS0FBQS9CLE1BQUErQixTQUVBL0IsTUFBQStCLEtBQUE2SyxjQUFBLFdBRUEsR0FBQUMsWUFFQUMsVUFBQSwwQkFFQUMsV0FBQSxpQkFDQUMsWUFBQSxvQkFDQUMsVUFBQSw0QkFDQUMsV0FBQSxvQkFDQUMsZ0JBQUEscUJBR0FDLFdBQUEsS0FDQUMsWUFBQSxLQUNBQyxlQUFBLEtBQ0FDLGlCQUFBLEtBQ0FDLGNBQUEsS0FDQUMsU0FBQSxLQUNBQyxhQUFBLEtBRUFDLGNBQUEsV0FFQSxHQUFBdEwsYUFBQWxHLEVBQUEsb0JBQ0FpUixZQUFBUSxjQUFBelIsRUFBQTBRLFVBQUFDLFlBQ0FPLFlBQUFPLGNBQUF6UixFQUFBMFEsVUFBQUUsYUFDQU8sZUFBQUQsWUFBQS9MLEtBQUEsb0JBQ0FpTSxpQkFBQUssY0FBQXpSLEVBQUEwUSxVQUFBRyxjQUNBUSxjQUFBSSxjQUFBelIsRUFBQTBRLFVBQUFJLFlBQ0FZLFlBQUFELGNBQUF6UixFQUFBMFEsVUFBQUssYUFDQVEsYUFBQUUsY0FBQXpSLEVBQUEwUSxVQUFBTSxrQkFHQTlLLFlBQUFwRixLQUFBLFdBRUEsR0FBQTZRLG9CQUFBM1IsRUFBQXFHLE1BQUFsQixLQUFBLGlCQUVBd00sb0JBQUE3USxLQUFBLFdBRUEsR0FBQThRLGNBQUE1UixFQUFBcUcsTUFBQWpGLFNBQUEsb0JBS0F5USw0QkFBQUQsYUFBQXhRLFNBQUEsMEJBQ0EwUSwyQkFBQUYsYUFBQXhRLFNBQUEseUJBR0F3USxjQUFBOVEsS0FBQSxXQUNBLEdBQUFpUixhQUFBL1IsRUFBQXFHLE1BR0EyTCxpQkFBQUQsWUFBQTNRLFNBQUEsMEJBR0E2USxpQkFBQUQsaUJBQUFFLEtBQUEseUJBS0FGLGtCQUFBNU0sT0FDQStNLFVBQUFGLGlCQUNBRyxZQUFBTiwyQkFDQU8saUJBQUFSLDZCQUVBLFNBQUEzUSxHQU1BLEdBSkFBLEVBQUFvRyxrQkFDQXBHLEVBQUFDLGlCQUdBbkIsRUFBQTBDLFFBQUFtSSxRQUFBLElBQUEsQ0FDQSxHQUFBeUgsaUJBQUF0UyxFQUFBcUcsTUFDQWtNLFdBQUFyUixFQUFBZixLQUFBZ1MsVUFDQUssYUFBQXRSLEVBQUFmLEtBQUFpUyxZQUNBSyxrQkFBQXZSLEVBQUFmLEtBQUFrUyxnQkFFQUMsaUJBQUE3SCxTQUFBLFdBRUE2SCxnQkFBQTVOLFlBQUEsVUFDQTZOLFdBQUFHLFlBR0FELGtCQUFBL04sWUFBQSxVQUNBOE4sYUFBQUUsVUFFQUosZ0JBQUE3TixTQUFBLFVBQ0E4TixXQUFBSSx1QkFVQWxCLGNBQUEsU0FBQW1CLFNBR0EsR0FBQUMsY0FBQUQsUUFBQUUsT0FJQSxPQUhBRixTQUFBaFQsT0FBQSxHQUNBZ1QsUUFBQXhILE1BQUEsR0FBQXZLLE9BRUFnUyxjQUdBRSxZQUFBLFdBQ0EvUyxFQUFBMEMsUUFBQW1JLFFBQUEyRixrQkFDQXhRLEVBQUFtUixnQkFBQTNDLE9BQUF3RSxJQUFBLFVBQUEsUUFDQWhULEVBQUFvUixrQkFBQTRCLElBQUEsVUFBQSxTQUNBaFQsRUFBQXFSLGVBQUEyQixJQUFBLFVBQUEsUUFDQWhULEVBQUFzUixVQUFBMEIsSUFBQSxTQUFBLFFBQ0FoVCxFQUFBdVIsY0FBQXlCLElBQUEsU0FBQSxVQUVBaFQsRUFBQW1SLGdCQUFBM0MsT0FBQXdFLElBQUEsVUFBQSxTQUNBaFQsRUFBQW9SLGtCQUFBNEIsSUFBQSxVQUFBLFFBQ0EsSUFBQXRCLFlBQUE5UixRQUFBLElBQUEyUixhQUFBM1IsUUFDQUksRUFBQXFSLGVBQUEyQixJQUFBLFNBQUEsU0FPQSxRQUNBQyxLQUFBLFdBQ0F6QixpQkFFQTBCLGVBQUEsV0FDQUgsbUJBS0EvUyxFQUFBLFdBQ0FBLEVBQUFrQyxVQUFBc04sTUFBQSxXQUVBM0wsTUFBQStCLEtBQUE2SyxjQUFBd0MsT0FDQXBQLE1BQUErQixLQUFBNkssY0FBQXlDLGdCQUdBLElBQUFDLGdCQUFBLFdBQ0F6USxPQUFBcU0saUJBQUEsU0FBQXFFLEVBQUFDLFNBQUFDLFlBQUEsTUFDQXRULEVBQUEsZ0JBQUFvRixNQUFBLFdBQ0FwRixFQUFBLGFBQUF1VCxTQUNBQyxVQUFBLEdBQ0EsUUFJQUYsWUFBQSxXQUNBdFQsRUFBQTBDLFFBQUErUSxPQUFBLFdBQ0F6VCxFQUFBcUcsTUFBQW1OLGFBQUEsSUFBQXhULEVBQUEsZ0JBQUFnVCxJQUFBLFVBQUEsR0FBQWhULEVBQUEsZ0JBQUFnVCxJQUFBLFVBQUEsS0FHQUcsc0JKckhBblQsRUFBQWtDLFVBQUFzTixNQUFBLFdBQ0F4UCxFQUFBLHNCQUFBaUIsR0FBQSxRQUFBMUIscUJBR0FTLEVBQUEwQyxRQUFBZ1IsT0FBQSxXQUNBMVQsRUFBQSxzQkFBQWlCLEdBQUEsUUFBQTFCLHFCQUdBUyxFQUFBMEMsUUFBQStNLEtBQUEsV0FDQXpQLEVBQUEsc0JBQUFpQixHQUFBLFFBQUExQixtQkFDQVMsRUFBQSxRQUFBZ1QsSUFBQSxpQkFBQTs7O0FLdERBLEdBQUFuUCxPQUFBQSxVQUNBOFAsa0JBQUEsSUFDQW5ELGlCQUFBLEdBRUEzTSxPQUFBK0IsS0FBQS9CLE1BQUErQixTQUVBL0IsTUFBQStCLEtBQUFnTyxjQUFBLFdBQ0EsR0FBQWxELFlBRUFtRCxVQUFBLHlCQUNBQyxvQkFBQSxvQ0FDQUMsZ0JBQUEsZ0NBRUFDLFlBQUEsc0JBQ0FDLGFBQUEsY0FFQUMsUUFBQSx3QkFDQUMsV0FBQSxvQkFDQUMsY0FBQSxxQkFDQUMsWUFBQSw0QkFDQUMsaUJBQUEsNkNBQ0FDLGVBQUEsMkNBRUFDLFVBQUEsaUJBR0FDLFdBQUEsS0FDQUMsZUFBQSxLQUNBQyxxQkFBQSxLQUNBQyxpQkFBQSxLQUNBQyxhQUFBLEtBQ0FDLGNBQUEsS0FDQUMsbUJBQUEsS0FDQUMsU0FBQSxLQUNBQyxZQUFBLEtBQ0FDLGVBQUEsS0FDQUMscUJBQUEsS0FDQUMsYUFBQSxLQUNBQyxtQkFBQSxLQUNBQyxrQkFBQSxLQUNBckUsV0FBQSxLQUNBc0UsY0FBQSxLQUVBQyxnQkFBQSxLQUNBQyxjQUFBLEtBQ0FDLGtCQUFBLEtBQ0FDLGtCQUFBLEtBQ0FDLGNBQUEsS0FFQUMsY0FBQSxXQUVBcEIsV0FBQWhELGNBQUF6UixFQUFBMFEsVUFBQW1ELFlBR0FnQixhQUFBcEQsY0FBQWdELFdBQUFyVCxTQUFBc1AsVUFBQXNELGNBQ0FjLGNBQUFELGFBQUExUCxLQUFBLGVBR0E2UCxTQUFBdkQsY0FBQWdELFdBQUFyVCxTQUFBc1AsVUFBQXdELFVBQ0FlLFlBQUF4RCxjQUFBdUQsU0FBQTVULFNBQUFzUCxVQUFBeUQsYUFDQWUsZUFBQXpELGNBQUF1RCxTQUFBNVQsU0FBQXNQLFVBQUEwRCxnQkFDQWdCLGFBQUEzRCxjQUFBdUQsU0FBQTVULFNBQUFzUCxVQUFBMkQsY0FDQWlCLGtCQUFBN0QsY0FBQXdELFlBQUE5UCxLQUFBdUwsVUFBQTRELG1CQUNBckQsV0FBQVEsY0FBQTZELGtCQUFBbFUsU0FBQSw0QkFDQW1VLGNBQUE5RCxjQUFBNkQsa0JBQUFsVSxTQUFBLCtCQUNBaVUsbUJBQUE1RCxjQUFBNkQsa0JBQUFsVSxTQUFBLG1DQUdBc1QsZUFBQWpELGNBQUF3RCxZQUFBOVAsS0FBQXVMLFVBQUE2RCxpQkFHQXVCLG1CQUdBbkIscUJBQUEzVSxFQUFBLGVBQ0EyVSxxQkFBQWxRLFNBQUFpTSxVQUFBb0Qsb0JBQUExUSxRQUFBLElBQUEsS0FDQXFSLFdBQUFzQixVQUFBcEIsc0JBQ0FBLHFCQUFBbEQsY0FBQWdELFdBQUFyVCxTQUFBc1AsVUFBQW9ELHNCQUdBYyxpQkFBQTVVLEVBQUEsZUFDQTRVLGlCQUFBblEsU0FBQWlNLFVBQUFxRCxnQkFBQTNRLFFBQUEsSUFBQSxLQUNBcVIsV0FBQXpULE9BQUE0VCxrQkFHQW9CLGtCQUdBQyxVQUFBLFdBRUFDLFlBQ0FQLGtCQUFBM1YsRUFBQSwyQkFBQW1XLGNBQ0FWLGNBQUFILGtCQUFBYSxjQUNBUCxjQUFBNVYsRUFBQTBDLFFBQUEwVCxlQUFBVCxrQkFBQUYsZUFDQXpWLEVBQUEwVSxnQkFBQTFCLElBQUEsU0FBQTRDLGVBQ0E1VixFQUFBMFUsZ0JBQUExQixJQUFBLG1CQUFBLFdBQ0FoVCxFQUFBMlUsc0JBQUEzQixJQUFBLGFBQUEsbUJBQ0EwQyxrQkFBQSxFQUNBRixnQkFBQUMsZ0JBR0F6VixFQUFBMFUsZ0JBQUExQixJQUFBLFlBQUEsUUFDQWhULEVBQUEwVSxnQkFBQTFCLElBQUEsU0FBQSxRQUNBaFQsRUFBQTJVLHNCQUFBM0IsSUFBQSxhQUFBLG9CQUNBaFQsRUFBQWtWLGdCQUFBbEMsSUFBQSxnQkFBQSxRQUNBeUMsY0FBQVQsU0FBQW1CLGNBQ0FULGtCQUFBYixhQUFBc0IsY0FDQVgsZ0JBQUFDLGNBQUFDLGtCQUVBMVYsRUFBQSwyQkFBQXlLLFNBQUEsVUFDQW9LLGFBQUFwUSxTQUFBLGFBQ0F6RSxFQUFBLDJCQUFBMEUsWUFBQSxRQUNBMlIsV0FBQXZCLGVBQUEsR0FFQVcsY0FBQVQsU0FBQW1CLGNBQ0FULGtCQUFBLEVBQ0FGLGdCQUFBQyxjQUFBQyxvQkFPQVkscUJBR0FKLFlBQ0FLLHNCQUlBQyxVQUFBLFdBTUEsR0FBQUMsY0FBQXpXLEVBQUEwQyxRQUFBOFEsV0FFQWlELGNBQUFmLG1CQUVBakIsV0FBQWhRLFNBQUEsU0FDQW9RLGFBQUFwUSxTQUFBLGFBQ0F6RSxFQUFBLDJCQUFBMEUsWUFBQSxRQUNBb1EsY0FBQXBRLFlBQUEsUUFBQTdELE9BQ0FnVSxhQUFBNUUsT0FBQXlGLHFCQUdBakIsV0FBQS9QLFlBQUEsU0FDQWdTLGdCQUFBakMsV0FBQSxXQUNBSSxhQUFBblEsWUFBQSxhQUNBZ1MsZ0JBQUE3QixhQUFBLFdBQ0FBLGFBQUE1RSxPQUFBeUYsbUJBQ0ExVixFQUFBLDJCQUFBMEUsWUFBQSxRQUNBb1EsY0FBQXBRLFlBQUEsUUFBQTdELFFBS0E0VCxXQUFBa0MsTUFBQSxTQUFBelYsR0FDQUEsRUFBQW9HLGtCQUNBcEcsRUFBQUMsa0JBQ0ErVSxZQUFBbFcsRUFBQXFHLE1BQUFvRSxTQUFBLFVBQ0FvSyxhQUFBcEssU0FBQSxlQUNBb0ssYUFBQStCLE9BQUFqRSxZQUNBa0MsYUFBQW5RLFlBQUEsZUFHQSxTQUFBeEQsR0FDQUEsRUFBQW9HLGtCQUNBcEcsRUFBQUMsa0JBQ0ErVSxZQUFBbFcsRUFBQXFHLE1BQUFvRSxTQUFBLFdBQUF6SyxFQUFBLGVBQUF5SyxTQUFBLFNBQUEsR0FBQWlMLG9CQUNBYixhQUFBcEssU0FBQSxlQUNBb0ssYUFBQStCLE9BQUFsRSxVQUNBbUMsYUFBQXBRLFNBQUEsa0JBTUFxUixpQkFBQSxXQUVBZixtQkFBQUYsYUFBQWdDLFFBQ0E5QixtQkFBQXJRLFlBQUFnTSxVQUFBc0QsWUFBQTVRLFFBQUEsSUFBQSxLQUNBMlIsbUJBQUF0USxTQUFBaU0sVUFBQXNELFlBQUE1USxRQUFBLE1BQUEsSUFBQSxXQUNBMlIsbUJBQUF0USxTQUFBLGNBQUFBLFNBQUEsa0JBQ0FvUSxhQUFBcFEsU0FBQSxtQkFDQWlRLGVBQUExVCxPQUFBK1Qsb0JBRUFJLHFCQUFBRCxlQUFBMkIsUUFDQTFCLHFCQUFBelEsWUFBQWdNLFVBQUEwRCxjQUFBaFIsUUFBQSxJQUFBLEtBQ0ErUixxQkFBQTFRLFNBQUFpTSxVQUFBMEQsY0FBQWhSLFFBQUEsTUFBQSxJQUFBLFdBQ0ErUixxQkFBQTFRLFNBQUEsY0FBQUEsU0FBQSxrQkFDQXlRLGVBQUF6USxTQUFBLG1CQUNBaVEsZUFBQTdOLFFBQUFzTyxzQkFFQW5WLEVBQUFpUixZQUFBOUwsS0FBQSxTQUFBNk4sSUFBQSxVQUFBLFNBQ0FoVCxFQUFBaVIsWUFBQTlMLEtBQUEsbUJBQUE2TixJQUFBLFVBQUEsUUFDQWhULEVBQUF1VixlQUFBcFEsS0FBQSxTQUFBNk4sSUFBQSxVQUFBLFNBQ0FoVCxFQUFBdVYsZUFBQXBRLEtBQUEsc0JBQUE2TixJQUFBLFVBQUEsUUFFQXFDLG1CQUFBNVEsU0FBQSxrQkFDQTJRLGFBQUEzUSxTQUFBLG9CQUdBdVIsZUFBQSxXQUVBL0UsV0FBQTdMLE1BQUEsV0FDQThRLGFBRUFsVyxFQUFBMFUsZ0JBQUExQixJQUFBLFlBQUEsT0FDQWhULEVBQUEsb0JBQUFnVCxJQUFBLFVBQUEsU0FDQWhULEVBQUEsNEJBQUFnVCxJQUFBLFVBQUEsU0FDQWhULEVBQUFtVixzQkFBQWhRLEtBQUEseUJBQUE2TixJQUFBLFVBQUEsUUFDQWhULEVBQUF1VixlQUFBcFEsS0FBQSxTQUFBNk4sSUFBQSxVQUFBLFNBQ0FoVCxFQUFBdVYsZUFBQXBRLEtBQUEsc0JBQUE2TixJQUFBLFVBQUEsUUFDQTBCLGVBQUFqSyxTQUFBLFNBU0F6SyxFQUFBaVIsWUFBQTlMLEtBQUEsU0FBQTZOLElBQUEsVUFBQSxTQUNBaFQsRUFBQWlSLFlBQUE5TCxLQUFBLG1CQUFBNk4sSUFBQSxVQUFBLFFBQ0FoVCxFQUFBLFFBQUFnVCxJQUFBLFNBQUEsUUFDQWhULEVBQUEsUUFBQWdULElBQUEsV0FBQSxVQUNBaFQsRUFBQTJVLHNCQUFBM0IsSUFBQSxTQUFBLFFBQ0EyQixxQkFBQWpRLFlBQUEsZ0JBYkExRSxFQUFBaVIsWUFBQTlMLEtBQUEsU0FBQTZOLElBQUEsVUFBQSxRQUNBaFQsRUFBQWlSLFlBQUE5TCxLQUFBLG1CQUFBNk4sSUFBQSxVQUFBLFNBQ0FoVCxFQUFBLFFBQUFnVCxJQUFBLFNBQUEsUUFDQWhULEVBQUEsUUFBQWdULElBQUEsV0FBQSxVQUNBaFQsRUFBQTJVLHNCQUFBM0IsSUFBQSxTQUFBLFNBQ0EyQixxQkFBQWxRLFNBQUEsZUFVQTRSLFdBQUEzQixnQkFBQSxFQUFBLFdBQ0E2QixxQkFDQXBCLHFCQUFBMUssU0FBQSxTQUNBNEwsV0FBQWxCLHNCQUFBLFFBT0FJLGNBQUFuUSxNQUFBLFdBQ0E4USxhQUVBbFcsRUFBQTBVLGdCQUFBMUIsSUFBQSxZQUFBLFFBQ0FoVCxFQUFBbVYsc0JBQUFoUSxLQUFBLHlCQUFBNk4sSUFBQSxVQUFBLFNBQ0FoVCxFQUFBbVYsc0JBQUFoUSxLQUFBLHlCQUFBNk4sSUFBQSxRQUFBLE9BQ0FoVCxFQUFBLG9CQUFBZ1QsSUFBQSxVQUFBLFFBQ0FoVCxFQUFBLDRCQUFBZ1QsSUFBQSxVQUFBLFFBQ0FoVCxFQUFBaVIsWUFBQTlMLEtBQUEsU0FBQTZOLElBQUEsVUFBQSxTQUNBaFQsRUFBQWlSLFlBQUE5TCxLQUFBLG1CQUFBNk4sSUFBQSxVQUFBLFFBQ0FoVCxFQUFBMlUsc0JBQUEzQixJQUFBLFNBQUEsUUFDQTBCLGVBQUFqSyxTQUFBLFNBQ0E0TCxXQUFBM0IsZ0JBQUEsR0FHQTJCLFdBQUFsQixzQkFBQSxFQUFBLFdBQ0FBLHFCQUFBMUssU0FBQSxTQVFBekssRUFBQXVWLGVBQUFwUSxLQUFBLFNBQUE2TixJQUFBLFVBQUEsUUFDQWhULEVBQUF1VixlQUFBcFEsS0FBQSxzQkFBQTZOLElBQUEsVUFBQSxTQUNBaFQsRUFBQSxRQUFBZ1QsSUFBQSxTQUFBLFFBQ0FoVCxFQUFBLFFBQUFnVCxJQUFBLFdBQUEsWUFWQWhULEVBQUF1VixlQUFBcFEsS0FBQSxTQUFBNk4sSUFBQSxVQUFBLFNBQ0FoVCxFQUFBdVYsZUFBQXBRLEtBQUEsc0JBQUE2TixJQUFBLFVBQUEsUUFDQWhULEVBQUEsUUFBQWdULElBQUEsU0FBQSxRQUNBaFQsRUFBQSxRQUFBZ1QsSUFBQSxXQUFBLFVBQ0FxRCxXQUFBM0IsZ0JBQUEsR0FDQUMscUJBQUFqUSxZQUFBLG9CQWNBcVEsbUJBQUE1UCxLQUFBLDJCQUFBQyxPQUNBaUMsT0FBQTBOLG1CQUFBNVAsS0FBQSxnQkFFQSxTQUFBakUsR0FDQUEsRUFBQW9HLGtCQUNBcEcsRUFBQUMsaUJBQ0ErVSxhQUNBRyxXQUFBclcsRUFBQXFHLE9BQ0FnUSxXQUFBblYsRUFBQWYsS0FBQWtILFFBQUEsRUFBQSxXQUNBa1AsMEJBTUExQixhQUFBMVAsS0FBQSwyQkFBQUMsT0FDQWlDLE9BQUF3TixhQUFBMVAsS0FBQSxnQkFFQSxTQUFBakUsR0FDQUEsRUFBQW9HLGtCQUNBcEcsRUFBQUMsaUJBQ0ErVSxZQUNBRyxXQUFBblYsRUFBQWYsS0FBQWtILFFBQUEsS0FJQXJILEVBQUEsbUNBQUFvRixNQUFBLFNBQUFsRSxHQUNBbEIsRUFBQXFHLE1BQUFvRSxTQUFBLFFBQ0F6SyxFQUFBcUcsTUFBQTNCLFlBQUEsUUFFQTFFLEVBQUFxRyxNQUFBNUIsU0FBQSxVQUlBekUsRUFBQSx5QkFBQXNCLE9BQUEsU0FBQUosR0FDQSxJQUFBLEdBQUE0VixXQUFBOVcsRUFBQSw0Q0FBQStXLFNBQUEsRUFBQTFNLEVBQUEsRUFBQUEsRUFBQXlNLFVBQUFsWCxPQUFBeUssSUFDQXlNLFVBQUF6TSxHQUFBMUssTUFBQUMsT0FBQSxJQUFBbVgsU0FBQSxFQUNBQSxVQUFBN1YsRUFBQUMsa0JBSUEsSUFBQTZWLHlCQUFBdEMsZUFBQXZQLEtBQUEseUJBQUEvRCxTQUFBLHlCQUNBc1QsZ0JBQUF2UCxLQUFBLHlCQUFBckUsS0FBQSxXQUNBLEdBQUFtVyxjQUFBalgsRUFBQXFHLE1BQ0E2USxTQUFBRCxhQUFBN1YsU0FBQSxVQUNBK1YsWUFBQUYsYUFBQTdWLFNBQUEsa0JBRUE4VixVQUFBOVIsT0FDQWlDLE9BQUE4UCxZQUNBQyxTQUFBSix5QkFDQSxTQUFBOVYsR0FDQSxJQUFBZ1csU0FBQXpNLFNBQUEsVUFBQSxDQUNBdkosRUFBQW9HLGtCQUNBcEcsRUFBQUMsaUJBRUFuQixFQUFBLDJCQUFBeUssU0FBQSxVQUNBb0ssYUFBQXBRLFNBQUEsYUFDQXpFLEVBQUEsMkJBQUEwRSxZQUFBLFFBQ0EyUixXQUFBdkIsZUFBQSxHQU1BLElBQUF1QyxXQUFBblcsRUFBQWYsS0FBQWlYLFNBQUFFLElBQUF0WCxFQUFBcUcsT0FBQWlSLElBQUFwVyxFQUFBZixLQUFBa0gsT0FDQWdRLFdBQUEzUyxZQUFBLFFBQ0EyUyxVQUFBckUsSUFBQSxVQUFBLElBR0FxRCxXQUFBclcsRUFBQXFHLE9BQ0E2UCxTQUNBRyxXQUFBblYsRUFBQWYsS0FBQWtILFFBQUEsRUFBQSxXQUNBa1AsdUJBR0FGLFdBQUFuVixFQUFBZixLQUFBa0gsUUFBQSxTQU9Ba1AsbUJBQUEsV0FDQSxHQUFBZ0IsY0FBQXZYLEVBQUEwQyxRQUFBMFQsY0FDQW9CLFdBQUF4WCxFQUFBLFFBQUFvVyxjQUNBcUIsVUFBQWpDLGVBQ0FVLFlBQ0F4QixlQUFBakssU0FBQSxVQUNBZ04sV0FBQS9DLGVBQUF5QixnQkFJQXpCLGVBQUFqSyxTQUFBLFVBQ0FnTixXQUFBL0MsZUFBQXlCLGVBRUF0QixhQUFBcEssU0FBQSxlQUNBZ04sV0FBQTVDLGFBQUFzQixnQkFNQXNCLFdBQUFGLGVBQUF2WCxFQUFBLFFBQUF5SyxTQUFBLGlCQUNBOE0sY0FBQUMsWUFDQXhYLEVBQUEsUUFBQWdULElBQUEsV0FBQSxVQUVBMkIscUJBQUFsUSxTQUFBLGNBQ0F6RSxFQUFBLFFBQUF5RSxTQUFBLGdCQUNBOFMsY0FBQUMsWUFDQTlNLFdBQUEsV0FDQTFLLEVBQUEsUUFBQWdULElBQUEsV0FBQSxLQUNBLEtBRUF1RSxhQUFBRSxXQUFBelgsRUFBQSxRQUFBeUssU0FBQSxrQkFDQWtLLHFCQUFBalEsWUFBQSxjQUNBMUUsRUFBQSxRQUFBMEUsWUFBQSxrQkFJQTRSLG1CQUFBLFdBQ0ExQixpQkFBQTVCLElBQUEsU0FBQXdDLGtCQUdBL0QsY0FBQSxTQUFBbUIsU0FHQSxHQUFBQyxjQUFBRCxRQUFBRSxPQUlBLE9BSEFGLFNBQUFoVCxPQUFBLEdBQ0FnVCxRQUFBeEgsTUFBQSxHQUFBdkssT0FFQWdTLGNBR0FxRCxTQUFBLFdBSUEsTUFBQSxTQUFBakYsV0FBQStCLElBQUEsWUFHQXFELFdBQUEsU0FBQTlPLFFBQUFnTSxRQUFBbUUsZUFDQW5RLFFBQUFrRCxTQUFBLFNBQUFsRCxRQUFBb1EsVUFBQTdDLGNBQUE2QyxVQUFBOUMsYUFBQXRCLFNBQ0F0RCxPQUFBLEdBQ0EsS0FBQXNELFNBQUFoTSxRQUFBbUwsUUFBQSxJQUFBZ0YsZUFBQW5RLFFBQUE3QyxZQUFBLFFBQUExRSxFQUFBMlUsc0JBQUEzQixJQUFBLFNBQUEsVUFBQXpMLFFBQUFvUSxVQUFBN0MsY0FBQTZDLFVBQUE5QyxhQUFBdEIsU0FDQXRELE9BQUEsR0FBQTZFLGNBQUFxQixlQUNBLEtBQUE1QyxTQUFBaE0sUUFBQW9MLFVBQUEsSUFBQStFLGVBQUFuUSxRQUFBOUMsU0FBQSxVQUdBaVMsZ0JBQUEsU0FBQW5QLFFBQUFxUSxhQUNBclEsUUFBQXlMLElBQUE0RSxZQUFBLElBQ0EsS0FBQXJRLFFBQUFsRyxLQUFBLFVBQ0FrRyxRQUFBc1EsV0FBQSxTQUlBckQsV0FBQXhVLEVBQUEsUUFBQW1GLEtBQUEsd0JBQ0EyUyxXQUFBOVgsRUFBQXdVLFdBQUEvSyxRQUFBLFVBR0EsSUFBQXNPLG1CQUFBLFdBQ0EsR0FBQS9YLEVBQUF3VSxXQUFBNVUsT0FBQSxDQUNBLEdBQUFvWSxXQUFBRixVQUNBOVgsR0FBQXdVLFdBQUFwUCxNQUFBLFNBQUFsRSxHQUNBQSxFQUFBQyxlQUNBbkIsRUFBQWdZLFdBQUFwWSxRQUNBSSxFQUFBLGNBQUF1VCxTQUNBQyxVQUFBeFQsRUFBQWdZLFdBQUFDLFNBQUFDLElBQUEsSUFDQSxTQU9BQyxvQkFBQSxXQUNBLEdBQUFuWSxFQUFBd1UsV0FBQTVVLE9BQUEsQ0FDQSxHQUFBd1ksYUFBQU4sV0FBQUcsU0FBQUMsR0FDQWxZLEdBQUFrQyxVQUFBdVIsT0FBQSxXQUNBLEdBQUFwTCxHQUFBckksRUFBQXFHLE1BQUFtTixXQUNBbkwsR0FBQStQLFlBQ0FwWSxFQUFBd1UsV0FBQTZELFNBRUFyWSxFQUFBd1UsV0FBQThELGNBT0EzUyxPQUFBLEVBQ0E0UyxnQkFBQSxXQVdBLFFBQUFDLFdBQ0F4WSxFQUFBLGdDQUNBNFcsT0FDQS9WLE9BQ0E0WCxPQUFBLFdBQ0EsTUFBQXBTLE1BQUEwQixHQUFBc0ksTUFBQSw4QkFBQXFJLFdBRUFuWCxPQUNBdkIsRUFBQSxnQ0FBQTJXLE1BQUEsU0FBQWdDLElBQ0FoVCxPQUFBLEdBQ0EsU0FBQWdULElBQ0FoVCxPQUFBLElBRUErUyxTQUFBRSxnQkFBQUYsUUFBQSxFQUFBQSxVQXZCQSxHQUFBQSxTQUFBLEVBQ0FFLGdCQUFBNVksRUFBQSx5QkFBQUUsS0FDQSxJQUFBMFksa0JBQ0FGLFFBQUEsRUFFQUcsYUFBQSxXQUNBbFQsT0FDQTZTLFdBRUEsS0FxQkF4WSxHQUFBLGdDQUFBb0YsTUFBQSxTQUFBbEUsR0FDQSxHQUFBNFgsY0FBQTlZLEVBQUFxRyxNQUFBbEIsS0FBQSxvQkFBQTlELEtBQUEsT0FDQXlYLGNBQUFDLFNBQUEsUUFDQXJXLE9BQUE4RSxLQUFBc1IsYUFBQSxVQUVBcFcsT0FBQUMsU0FBQUMsS0FBQWtXLGNBS0EsSUFBQUUsY0FBQSxXQUNBLEdBQUFwUCxLQUFBLEdBQUFxUCxLQUFBdlcsT0FBQUMsU0FBQUMsTUFDQXNXLEtBQUF0UCxJQUFBekcsU0FDQXlWLGdCQUFBNVksRUFBQSx5QkFBQUUsS0FDQSxJQUFBLE1BQUFnWixNQUFBLFFBQUFBLEtBQ0EsR0FBQU4sZ0JBQ0FsVyxPQUFBeVcsT0FBQXRPLE1BQUEyRixpQkFDQXhRLEVBQUEsYUFBQWdULElBQUEsYUFBQSxRQUNBdFEsT0FBQXlXLE9BQUF0TyxPQUFBMkYsa0JBQUE5TixPQUFBeVcsT0FBQXRPLE1BQUE4SSxrQkFDQTNULEVBQUEsYUFBQThTLFFBQUFFLElBQUEsYUFBQSxRQUVBaFQsRUFBQSxhQUFBOFMsUUFBQUUsSUFBQSxhQUFBLE9BR0F0USxPQUFBeVcsT0FBQXRPLE1BQUEyRixrQkFDQXhRLEVBQUEsYUFBQWdULElBQUEsYUFBQSxZQUdBLENBQ0EsR0FBQTRGLGdCQUNBbFcsT0FBQXlXLE9BQUF0TyxNQUFBMkYsaUJBQ0F4USxFQUFBLGFBQUFnVCxJQUFBLGFBQUEsUUFDQXRRLE9BQUF5VyxPQUFBdE8sT0FBQTJGLGtCQUFBOU4sT0FBQXlXLE9BQUF0TyxNQUFBOEksa0JBQ0EzVCxFQUFBLGFBQUE4UyxRQUFBRSxJQUFBLGFBQUEsUUFFQWhULEVBQUEsYUFBQThTLFFBQUFFLElBQUEsYUFBQSxPQUdBdFEsT0FBQXlXLE9BQUF0TyxNQUFBMkYsa0JBQ0F4USxFQUFBLGFBQUFnVCxJQUFBLGFBQUEsT0FHQSxJQUFBb0csZ0JBQUFwWixFQUFBLHFCQUFBRSxLQUNBd0MsUUFBQUMsU0FBQVEsV0FBQWlXLGlCQUNBcFosRUFBQSxhQUFBZ1QsSUFBQSxhQUFBLHNCQUNBaFQsRUFBQSxhQUFBZ1QsSUFBQSxnQkFBQSx5QkFNQXFHLG9CQUFBLFdBQ0EsR0FBQUMsZ0JBQUF0WixFQUFBMEMsUUFBQW1JLE9BQ0E3SyxHQUFBMEMsUUFBQWdSLE9BQUEsV0FDQSxHQUFBNkYsZ0JBQUF2WixFQUFBMEMsUUFBQW1JLE9BQ0F5TyxpQkFBQUMsaUJBQ0E3VyxPQUFBQyxTQUFBQyxLQUFBRixPQUFBQyxTQUFBQyxTQUlBNFcsa0JBQUEsV0FDQSxHQUFBQyxxQkFBQUMsYUFBQUMsUUFBQSxrQkFDQSxJQUFBRixvQkFBQSxDQUNBLEdBQUFHLGdCQUFBLEdBQ0FDLGNBQUEsRUFFQUQsZ0JBREFILG9CQUFBek0sV0FBQSxRQUNBeU0sb0JBQUFyTyxNQUFBLEVBQUEsSUFFQXFPLG9CQUlBSSxjQURBblgsT0FBQUMsU0FBQVEsU0FBQTZKLFdBQUEsUUFDQXRLLE9BQUFDLFNBQUFRLFNBQUFpSSxNQUFBLEdBRUExSSxPQUFBQyxTQUFBUSxRQUdBLElBQUEyVyxjQUFBOVosRUFBQSxXQUFBZ0ksS0FBQSxJQUFBK1IsU0FBQSxPQUNBLElBQUFGLGNBQUFkLFNBQUFhLGdCQUFBLENBQ0E1WixFQUFBLDRCQUFBeUUsU0FBQSxpQkFDQXpFLEVBQUEsZ0NBQUF5RSxTQUFBLGdCQUNBLElBQUF1VixlQUFBLG9GQUNBQyxjQUFBamEsRUFBQSxXQUFBZ0ksS0FBQWdTLGVBQUFELFNBQUEsWUFFQUQsY0FBQTlRLFVBMkJBLFFBQ0FzRyxXQUFBLFdBQ0F1RyxnQkFFQWtDLG9CQUVBSSxzQkFFQUksa0JBRUFTLGVBRUFLLHNCQUVBRyxxQkFFQVUsU0FBQSxXQUNBakUsYUFFQWtFLFNBQUEsV0FDQTNELGlCQUtBeFcsRUFBQSxXQUNBQSxFQUFBa0MsVUFBQXNOLE1BQUEsV0FFQTNMLE1BQUErQixLQUFBZ08sY0FBQXRFLGFBQ0F6TCxNQUFBK0IsS0FBQWdPLGNBQUFzRyxhQUVBbGEsRUFBQTBDLFFBQUErTSxLQUFBLFdBQ0E1TCxNQUFBK0IsS0FBQWdPLGNBQUF1RyxhQUVBbmEsRUFBQTBDLFFBQUFnUixPQUFBLFdBQ0E3UCxNQUFBK0IsS0FBQWdPLGNBQUFzRyxhQUVBbGEsRUFBQTBDLFFBQUErUSxPQUFBLFdBQ0E1UCxNQUFBK0IsS0FBQWdPLGNBQUF1RyxlSmhrQkFuYSxFQUFBa0MsVUFBQWpCLEdBQUEsUUFBQSwwQkFBQSxTQUFBQyxHQUNBQSxFQUFBQyxnQkFDQSxJQUFBeUksS0FBQWxILE9BQUFDLFNBQUFDLEtBR0FXLGFBRkFxRyxJQUFBbkgsTUFBQSxLQUNBQyxPQUFBQyxTQUFBeVgsT0FDQXBhLEVBQUEsOEJBQ0EwQixPQUFBMkUsS0FBQWdVLGFBQUEsY0FDQS9XLGVBQUFDLFlBQUE3QixRQUNBaUMseUJBQUFKLFlBQUE3QixPQUNBLElBQUFVLFVBQUFwQyxFQUFBcUcsTUFBQW9FLFNBQUEsZ0JBQ0FwSSxlQUFBckMsRUFBQXFHLE1BQUFsRyxLQUFBLG9CQUNBbUMsY0FBQXRDLEVBQUFxRyxNQUFBaEYsS0FBQSxPQUNBckIsR0FBQXFHLE1BQUFvRSxTQUFBLDRCQUNBL0gsT0FBQUMsU0FBQUMsS0FBQWdILElBRUF6SCxlQUFBVCxPQUFBVSxTQUFBQyxlQUFBQyxpQkFHQWdZLE9BQUFwWSxVQUFBc04sTUFBQSxTQUFBeFAsR0FDQSxHQUFBdUQsYUFBQXZELEVBQUEsNEJBQ0EsZUFBQXVELGFBQ0EsUUFBQUEsWUFBQXBELEtBQUEsY0FDQW1ELGNBQUFDLFlBQUE7OztBSzdGQSxHQUFBTSxPQUFBQSxTQUNBQSxPQUFBQyxNQUFBRCxNQUFBQyxVQUVBRCxNQUFBQyxNQUFBeVcsWUFBQSxXQUNBLEdBQUFDLFNBQUEsUUFHQUMsT0FBQSxTQUFBbFQsU0FDQSxNQUFBbVQsV0FBQW5ULFFBQUFwSCxLQUFBLGNBQUF1QyxPQUFBQyxTQUFBQyxPQUdBK1gsU0FBQSxTQUFBcFQsU0FDQSxHQUFBcVQsWUFBQTFZLFNBQUEyWSxlQUFBLGFBQ0EsSUFBQSxPQUFBRCxZQUFBLGFBQUFBLFdBTUEsTUFBQXJULFNBQUFwSCxLQUFBLGdCQUFBLEVBTEEsSUFBQTJhLGlCQUFBRixXQUFBamIsS0FDQSxPQUFBLElBQUFtYixnQkFBQWxiLE9BQ0FrYixnQkFEQSxRQVFBQyxTQUFBLFNBQUF4VCxTQUNBLEdBQUF5VCxZQUFBOVksU0FBQTJZLGVBQUEsYUFDQSxJQUFBLE9BQUFHLFlBQUEsYUFBQUEsV0FBQSxDQUNBLEdBQUFDLGlCQUFBRCxXQUFBcmIsS0FDQSxPQUFBLElBQUFzYixnQkFBQXJiLE9BQ0FxYixnQkFFQTFULFFBQUFwSCxLQUFBLGdCQUFBLEdBR0EsTUFBQW9ILFNBQUFwSCxLQUFBLGdCQUFBLElBSUErYSxlQUFBLFNBQUEzVCxTQUNBLEdBQUE0VCxrQkFBQWpaLFNBQUEyWSxlQUFBLG1CQUNBLElBQUEsT0FBQU0sa0JBQUEsYUFBQUEsaUJBTUEsTUFBQTVULFNBQUFwSCxLQUFBLHNCQUFBLEVBTEEsSUFBQWliLHVCQUFBRCxpQkFBQXhiLE1BQUF5RCxRQUFBLHdCQUFBLEdBQ0EsT0FBQSxJQUFBZ1ksc0JBQUF4YixPQUNBd2Isc0JBREEsUUFRQUMsVUFBQSxTQUFBOVQsU0FDQSxNQUFBQSxTQUFBcEgsS0FBQSxpQkFBQSxVQUdBbWIsWUFBQSxTQUFBL1QsU0FDQSxNQUFBQSxTQUFBcEgsS0FBQSxtQkFBQSxJQUdBb2IsYUFBQSxTQUFBaFUsU0FDQSxNQUFBQSxTQUFBcEgsS0FBQSxnQkFBQSxTQUdBcWIsWUFBQSxTQUFBalUsU0FDQSxNQUFBQSxTQUFBcEgsS0FBQSxtQkFBQSxJQUdBc2IsZ0JBQUEsU0FBQWxVLFFBQUFtVSxjQUNBLEdBQUFDLGVBQUFELFlBV0EsT0FUQUMsZUFBQUEsY0FBQXZZLFFBQUEsU0FBQXFYLE9BQUFsVCxVQUNBb1UsY0FBQUEsY0FBQXZZLFFBQUEsV0FBQXVYLFNBQUFwVCxVQUNBb1UsY0FBQUEsY0FBQXZZLFFBQUEsU0FBQTJYLFNBQUF4VCxVQUNBb1UsY0FBQUEsY0FBQXZZLFFBQUEsU0FBQWlZLFVBQUE5VCxVQUNBb1UsY0FBQUEsY0FBQXZZLFFBQUEsY0FBQWtZLFlBQUEvVCxVQUNBb1UsY0FBQUEsY0FBQXZZLFFBQUEsY0FBQW1ZLGFBQUFoVSxVQUNBb1UsY0FBQUEsY0FBQXZZLFFBQUEsY0FBQW9ZLFlBQUFqVSxVQUNBb1UsY0FBQUEsY0FBQXZZLFFBQUEsaUJBQUE4WCxlQUFBM1QsV0FLQXFVLFdBQUEsU0FBQUMsVUFBQUMsa0JBQ0EsR0FBQUMsYUFBQSxvSEFFQUQsbUJBQUFBLGlCQUFBalIsT0FBQWlSLGlCQUFBN0wsUUFBQWtKLFFBQUFBLE9BQUFsSixRQUNBOEwsWUFBQUEsWUFBQTNZLFFBQUEsV0FBQTBZLGlCQUFBalIsT0FDQWtSLFlBQUFBLFlBQUEzWSxRQUFBLFlBQUEwWSxpQkFBQTdMLFFBQ0E4TCxZQUFBQSxZQUFBM1ksUUFBQSxTQUFBK1YsT0FBQWxKLE9BQUEsRUFBQTZMLGlCQUFBN0wsT0FBQSxHQUNBOEwsWUFBQUEsWUFBQTNZLFFBQUEsVUFBQStWLE9BQUF0TyxNQUFBLEVBQUFpUixpQkFBQWpSLE1BQUEsR0FDQW5JLE9BQUE4RSxLQUFBcVUsVUFBQSxjQUFBRSxhQUFBQyxTQUVBdFosT0FBQThFLEtBQUFxVSxZQUtBSSxpQkFBQSxTQUFBMVUsU0FDQSxHQUFBMlUsV0FBQVQsZ0JBQUFsVSxRQUFBLDhHQUNBcVUsWUFBQU0sV0FDQXJSLE1BQUEsSUFDQW9GLE9BQUEsT0FLQWtNLGFBQUEsU0FBQTVVLFNBS0FBLFFBQUE5QyxTQUFBLGVBRUEsSUFBQTJYLGNBQUE3VSxRQUNBOFUsc0JBQUE5VSxRQUFBbUgsU0FDQTROLHFCQUFBRCxzQkFBQWxYLEtBQUEsMkJBU0EsSUFOQW1YLHFCQUFBMWMsUUFBQSxJQUNBeWMsc0JBQUFyYixPQUFBLGlEQUNBc2IscUJBQUFELHNCQUFBbFgsS0FBQSw2QkFJQW1YLHFCQUFBMWMsT0FBQSxFQUFBLENBQ0EwYyxxQkFBQXZTLEtBQUEsY0FNQSxJQUFBd1MsYUFBQSxxTkFDQUEsYUFBQWQsZ0JBQUFsVSxRQUFBZ1YsYUFDQUEsWUFBQUEsWUFBQW5aLFFBQUEsWUFBQW9YLFNBQ0ErQixhQUFBLG1TQUVBRCxxQkFBQXZTLEtBQUF3UyxhQUdBSCxhQUFBdmIsU0FJQTJiLGdCQUFBLFNBQUFqVixTQUNBLEdBQUFrVixPQUFBMUIsU0FBQXhULFNBQ0EyVSxVQUFBLEVBRUFBLFdBREEsS0FBQU8sTUFDQWhCLGdCQUFBbFUsUUFBQSw4RkFFQWtVLGdCQUFBbFUsUUFBQSw0R0FFQXFVLFdBQUFNLFdBQ0FyUixNQUFBLElBQ0FvRixPQUFBLE9BSUF5TSxlQUFBLFNBQUFuVixTQUNBLEdBQUEyVSxXQUFBVCxnQkFBQWxVLFFBQUEsbURBQ0FxVSxZQUFBTSxXQUNBclIsTUFBQSxJQUNBb0YsT0FBQSxPQUlBME0sY0FBQSxTQUFBcFYsU0FDQSxHQUFBMlUsV0FBQVQsZ0JBQUFsVSxRQUFBLDBDQUNBcVUsWUFBQU0sV0FDQXJSLE1BQUEsSUFDQW9GLE9BQUEsT0FJQTJNLGFBQUEsU0FBQXJWLFdBS0FzVixlQUFBLFNBQUFDLGFBZUEsR0FBQUMsZUFBQUQsWUFBQTNYLEtBQUEsY0FDQTRYLGVBQUFqYyxLQUFBLFdBQ0EsR0FBQXlGLFNBQUF2RyxFQUFBcUcsS0FFQUUsU0FBQXRGLEdBQUEsUUFBQSxXQUNBc0YsUUFBQWtFLFNBQUEsdUJBQ0F3UixpQkFBQTFWLFNBQ0FBLFFBQUFrRSxTQUFBLG1CQUNBMFIsYUFBQTVWLFNBQ0FBLFFBQUFrRSxTQUFBLHNCQUNBK1IsZ0JBQUFqVyxTQUNBQSxRQUFBa0UsU0FBQSxxQkFDQWlTLGVBQUFuVyxTQUNBQSxRQUFBa0UsU0FBQSxvQkFDQWtTLGNBQUFwVyxTQUNBQSxRQUFBa0UsU0FBQSxtQkFDQW1TLGFBQUFyVyxTQUNBQSxRQUFBa0UsU0FBQSwyQkFRQXVTLFlBQUEsU0FBQUMsV0FBQTFXLFFBQUFDLE9BQUEwVyxVQUFBQyxjQUVBLEdBQUFDLFdBQUE1VyxPQUFBdUQsTUFFQSxvQkFBQW1ULFdBQ0EzVyxRQUFBdUIsTUFDQUMsR0FBQW1WLFVBQ0E5WSxTQUNBNEQsS0FBQXhCLFFBRUF5QixVQUNBQyxHQUFBLGVBQ0FDLEdBQUEsZ0JBQ0FrVixVQUFBSixXQUNBSyxVQUFBLEdBRUEvYixNQUNBL0IsTUFBQSxTQUVBcUIsTUFDQXJCLE1BQUEsVUFDQStkLE9BQUEsR0FFQWpWLE9BQ0FDLFFBQUEsb0JBQUE0VSxhQUFBLDBCQUNBM1UsS0FBQSxHQUVBZ1YsUUFDQTNjLEtBQUEsV0FFQWIsRUFBQSwyQkFDQTBDLFFBQUErYSxZQUNBL2EsUUFBQWdiLEtBQ0ExZCxFQUFBLG1CQUFBZ0osVUFJQXhDLE9BQUF1RCxLQUFBcVQsV0FDQVAsZUFBQXJXLFlBS0FELFFBQUF1QixNQUNBQyxHQUFBbVYsVUFDQTlZLFNBQ0E0RCxLQUFBeEIsUUFFQXlCLFVBQ0FDLEdBQUEsWUFDQUMsR0FBQSxnQkFDQW1WLFVBQUEsR0FFQS9iLE1BQ0EvQixNQUFBLFNBRUFxQixNQUNBckIsTUFBQSxVQUNBK2QsT0FBQSxHQUVBalYsT0FDQUMsUUFBQSxvQkFBQTRVLGFBQUEsMEJBQ0EzVSxLQUFBLEdBRUFnVixRQUNBM2MsS0FBQSxXQUVBYixFQUFBLDJCQUNBMEMsUUFBQSthLFlBQ0EvYSxRQUFBZ2IsS0FDQTFkLEVBQUEsbUJBQUFnSixVQUlBeEMsT0FBQXVELEtBQUFxVCxXQUNBUCxlQUFBclcsWUFTQSxRQUNBOEksV0FBQSxTQUFBOUksUUFDQXFXLGVBQUFyVyxTQUVBbVgsY0FBQSxTQUFBVixXQUFBMVcsUUFBQUMsT0FBQTBXLFVBQUFDLGNBQ0FOLGVBQUFyVyxRQUNBd1csWUFBQUMsV0FBQTFXLFFBQUFDLE9BQUEwVyxVQUFBQyxlQUVBUyxVQUFBLFNBQUFyVyxTQUNBMFUsaUJBQUExVSxVQUVBa1csTUFBQSxTQUFBbFcsU0FDQTRVLGFBQUE1VSxVQUVBc1csU0FBQSxTQUFBdFcsU0FDQWlWLGdCQUFBalYsVUFFQXVXLFFBQUEsU0FBQXZXLFNBQ0FtVixlQUFBblYsVUFFQXdXLE9BQUEsU0FBQXhXLFNBQ0FvVixjQUFBcFYsVUFFQXlXLE1BQUEsU0FBQXpXLFNBQ0FxVixhQUFBclYsYUFRQSxJQUFBMFcsa0JBQUFqZSxFQUFBLG1CQUNBa2UsdUJBQUFELGlCQUFBN2MsU0FBQSwwQkFDQStjLHNCQUFBRixpQkFBQTdjLFNBQUEsMEJBQ0F5QyxRQUFBQSxNQUFBQyxPQUFBRCxNQUFBQyxNQUFBeVcsYUFBQTFXLE1BQ0FDLE1BQ0F5VyxZQUNBb0QsY0FBQU0saUJBQUFDLHVCQUFBQyIsImZpbGUiOiJrb2gtbWFzdGVyLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgwqkgMjAwMC0yMDE3IEtvaGxlciBDb21wYW55LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICovXG5cbmZ1bmN0aW9uIGhhbmRsZUF1dG9TdWdnZXN0KGV2ZW50KSB7XG4gICAgdmFyIHRleHRJbnB1dCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWU7XG4gICAgaWYgKHRleHRJbnB1dC5sZW5ndGggPiAyIHx8IDAgPT0gdGV4dElucHV0LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImstXCIpKSB7XG5cdFx0IGlmICgwID09IHRleHRJbnB1dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJrLVwiKSkge1xuXHRcdFx0XHR2YXIgbGVuZ3RoID0gdGV4dElucHV0Lmxlbmd0aDtcblx0XHRcdFx0dGV4dElucHV0ID0gdGV4dElucHV0LnN1YnN0cigyLCBsZW5ndGgpO1xuXHRcdH1cbiAgICAgICAgJC5nZXRKU09OKCQoXCIua29oLXByaW1hcnktbmF2LXN1Z2dlc3QtbGlua1wiKS52YWwoKSArIFwiP3E9XCIgKyB0ZXh0SW5wdXQsIGZ1bmN0aW9uKGRhdGEsIHN0YXR1cykge1xuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Qm9sZFZhbHVlKHNlYXJjaFRleHQsIG9yaWdpbmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCkpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gb3JpZ2luYWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmQgPSBzZWFyY2hUZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLnN1YnN0cigwLCBzdGFydCkgKyBcIjxtYXJrPlwiICsgb3JpZ2luYWwuc3Vic3RyKHN0YXJ0LCBlbmQpICsgXCI8L21hcms+XCIgKyBvcmlnaW5hbC5zdWJzdHIoc3RhcnQgKyBlbmQsIG9yaWdpbmFsLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcInN1Y2Nlc3NcIiA9PSBzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgdWwgPSAkKFwiZGl2I3NlYXJjaC1zdWdnZXN0aW9ucy1jb250YWluZXIgPiBkaXYuc2VhcmNoLXN1Z2dlc3Rpb25zLXNjcm9sbGVyID4gdWxcIik7XG4gICAgICAgICAgICAgICAgdWwuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWdnZXN0aW9ucyA9PT0gJ3VuZGVmaW5lZCcgfHwgZGF0YS5zdWdnZXN0aW9ucy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAkKFwiZGl2I3NlYXJjaC1zdWdnZXN0aW9ucy1jb250YWluZXJcIikuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChkYXRhLnN1Z2dlc3Rpb25zLCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBcdC8qdmFyIGRpc3BsYXlWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5VmFsdWUgPSBkaXNwbGF5VmFsdWUucmVwbGFjZShcIihSKVwiLFwiPHN1cD4mcmVnOzwvc3VwPlwiKTtcbiAgICAgICAgICAgICAgICAgICAgXHQgIGRpc3BsYXlWYWx1ZSA9IGRpc3BsYXlWYWx1ZS5yZXBsYWNlKFwiKFRNKVwiLFwiPHN1cD4mdHJhZGU7PC9zdXA+XCIpOyovXG4gICAgICAgICAgICAgICAgICAgICAgICB1bC5hcHBlbmQoJChcIjxsaSBjbGFzcz1cXFwic3VnZ2VzdGlvbi1pdGVtXFxcIj48YSAgaHJlZj1cXFwiXCIgKyB2YWx1ZSArIFwiXFxcIj5cIiArIGdldEJvbGRWYWx1ZSh0ZXh0SW5wdXQsIHZhbHVlKSArIFwiPC9hPjwvbGk+XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJChcIi5zdWdnZXN0aW9uLWl0ZW1cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2tvaC1uYXYtc2VhcmNoYm94XCIpLnZhbCgkKCQoZS5jdXJyZW50VGFyZ2V0KS5jaGlsZHJlbigpWzBdKS5hdHRyKFwiaHJlZlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmtvaC1zaXRlLXNlYXJjaC1mb3JtXCIpWzBdLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAkKFwiZGl2I3NlYXJjaC1zdWdnZXN0aW9ucy1jb250YWluZXJcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiZGl2I3NlYXJjaC1zdWdnZXN0aW9ucy1jb250YWluZXJcIikuaGlkZSgpO1xuICAgIH1cbn1cblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgJChcIiNrb2gtbmF2LXNlYXJjaGJveFwiKS5vbihcImtleXVwXCIsIGhhbmRsZUF1dG9TdWdnZXN0KTtcbn0pO1xuXG4kKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xuICAgICQoXCIja29oLW5hdi1zZWFyY2hib3hcIikub24oXCJrZXl1cFwiLCBoYW5kbGVBdXRvU3VnZ2VzdCk7XG59KTtcblxuJCh3aW5kb3cpLmxvYWQoZnVuY3Rpb24oKSB7XG4gICAgJChcIiNrb2gtbmF2LXNlYXJjaGJveFwiKS5vbihcImtleXVwXCIsIGhhbmRsZUF1dG9TdWdnZXN0KTtcbiAgICAkKCdib2R5JykuY3NzKCdwb2ludGVyLWV2ZW50cycsJ2FsbCcpO1xufSk7XG4iLCIvKlxuICogQ29weXJpZ2h0IMKpIDIwMDAtMjAxNyBLb2hsZXIgQ29tcGFueS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29va2llKG5hbWUsIHZhbHVlLCBtaW51dGVzLCBsb2NhbGUpIHtcbiAgICB2YXIgZXhwaXJlcyA9IFwiXCIsXG4gICAgICAgIGNvb2tpZSA9IFwiXCI7XG4gICAgaWYgKG1pbnV0ZXMpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZTtcbiAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgNjAgKiBtaW51dGVzICogMWUzKSxcbiAgICAgICAgICAgIGV4cGlyZXMgPSBcImV4cGlyZXM9XCIgKyBkYXRlLnRvVVRDU3RyaW5nKClcbiAgICB9XG4gICAgY29va2llID0gbmFtZSArIFwiPVwiICsgdmFsdWUgKyBcIjsgXCIgKyBleHBpcmVzICsgXCI7IHBhdGg9L1wiICsgXCI7XCI7XG4gICAgZG9jdW1lbnQuY29va2llID0gY29va2llXG59XG5cbmZ1bmN0aW9uIHN3aXRjaExhbmd1YWdlIChsb2NhbGUsIGlzUGFyZW50LCBjdXJyZW50U2l0ZVVybCwgdGFyZ2V0U2l0ZVVybCkge1xuXHQvLyBDb2RlIGZvciBrZWVwaW5nIHRoZSBzYW1lIHVybCB3aGlsZSBzd2l0Y2hpbmcgdGhlIGxhbmd1YWdlXG4gICAgaWYgKGxvY2FsZSAhPSAnJyAmJiBsb2NhbGUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBnZXRMYW5ndWFnZUNvZGUgPSBsb2NhbGUuc3BsaXQoJ18nKVswXTtcbiAgICAgICAgdmFyIGdldEN1cnJlbnRVcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSAnJztcbiAgICAgICAgaWYgKGdldEN1cnJlbnRVcmwuaW5kZXhPZignPycpID4gMCkge1xuICAgICAgICBcdHBhcmFtZXRlcnMgPSBnZXRDdXJyZW50VXJsLnN1YnN0cmluZyAoZ2V0Q3VycmVudFVybC5pbmRleE9mKFwiP1wiKSwgZ2V0Q3VycmVudFVybC5sZW5ndGgpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUGFyZW50KSB7XG4gICAgICAgIFx0dmFyIGZpbmFsVXJsID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgd2luZG93LmxvY2F0aW9uLmhvc3Q7XG4gICAgICAgIFx0dmFyIGN1cnJlbnRVcmwgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG4gICAgICAgIFx0aWYgKGN1cnJlbnRVcmwgPT09IGN1cnJlbnRTaXRlVXJsKSB7XG4gICAgICAgIFx0XHRmaW5hbFVybCA9IGZpbmFsVXJsICsgY3VycmVudFVybC5yZXBsYWNlKGN1cnJlbnRTaXRlVXJsLCB0YXJnZXRTaXRlVXJsKTtcbiAgICAgICAgXHR9IGVsc2Uge1xuICAgICAgICBcdFx0ZmluYWxVcmwgPSBmaW5hbFVybCArIGN1cnJlbnRVcmwucmVwbGFjZShjdXJyZW50U2l0ZVVybCArIFwiL1wiLCB0YXJnZXRTaXRlVXJsKTtcbiAgICAgICAgXHR9XG4gICAgICAgIFx0ZmluYWxVcmwgPSBmaW5hbFVybCArIHBhcmFtZXRlcnM7XG4gICAgICAgIFx0bG9jYXRpb24uYXNzaWduKGZpbmFsVXJsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgXHR2YXIgZmluYWxVcmwgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyB3aW5kb3cubG9jYXRpb24uaG9zdDtcbiAgICAgICAgXHR2YXIgY3VycmVudFVybCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcbiAgICAgICAgXHRpZiAoY3VycmVudFVybCA9PT0gY3VycmVudFNpdGVVcmwpIHtcbiAgICAgICAgXHRcdGZpbmFsVXJsID0gZmluYWxVcmwgKyBjdXJyZW50VXJsLnJlcGxhY2UoY3VycmVudFNpdGVVcmwsIHRhcmdldFNpdGVVcmwpO1xuICAgICAgICBcdH0gZWxzZSBpZiAoY3VycmVudFVybCA9PT0gY3VycmVudFNpdGVVcmwgKyBcIi9cIikge1xuICAgICAgICBcdFx0ZmluYWxVcmwgPSBmaW5hbFVybCArIGN1cnJlbnRVcmwucmVwbGFjZShjdXJyZW50U2l0ZVVybCArIFwiL1wiLCB0YXJnZXRTaXRlVXJsKTtcbiAgICAgICAgXHR9IGVsc2UgaWYgKGN1cnJlbnRVcmwuaW5kZXhPZiAoY3VycmVudFNpdGVVcmwpID09PSAwKSB7XG4gICAgICAgIFx0XHRpZiAodGFyZ2V0U2l0ZVVybCA9PT0gXCIvXCIpIHtcbiAgICAgICAgXHRcdFx0ZmluYWxVcmwgPSBmaW5hbFVybCArIGN1cnJlbnRVcmwucmVwbGFjZShjdXJyZW50U2l0ZVVybCArIFwiL1wiLCB0YXJnZXRTaXRlVXJsKTtcbiAgICAgICAgXHRcdH0gZWxzZSB7XG4gICAgICAgIFx0XHRcdGZpbmFsVXJsID0gZmluYWxVcmwgKyBjdXJyZW50VXJsLnJlcGxhY2UoY3VycmVudFNpdGVVcmwsIHRhcmdldFNpdGVVcmwgKyBcIi9cIik7XG4gICAgICAgIFx0XHR9XG4gICAgICAgIFx0fVxuICAgICAgICBcdGZpbmFsVXJsID0gZmluYWxVcmwgKyBwYXJhbWV0ZXJzO1xuICAgICAgICBcdGxvY2F0aW9uLmFzc2lnbihmaW5hbFVybCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBhZGRSZW1lQ29va2llKHJlbWVFbGVtZW50LCBsb2NhbGUpIHtcbiAgICB2YXIgY29va2llTmFtZSA9IHJlbWVFbGVtZW50LmRhdGEoXCJjb29raWUtbmFtZVwiKTtcbiAgICB2YXIgY29va2llVmFsdWUgPSByZW1lRWxlbWVudC5kYXRhKFwiY29va2llLXZhbHVlXCIpO1xuICAgIGlmIChsb2NhbGUgIT09ICcnKSB7XG4gICAgICAgIGNvb2tpZVZhbHVlID0gbG9jYWxlO1xuICAgIH1cbiAgICB2YXIgZHVyYXRpb25NaW51dGVzID0gcmVtZUVsZW1lbnQuZGF0YShcImNvb2tpZS1kdXJhdGlvblwiKTtcbiAgICB2YXIgZXhwaXJlcyA9IFwiXCIsXG4gICAgICAgIGNvb2tpZSA9IFwiXCI7XG4gICAgaWYgKGR1cmF0aW9uTWludXRlcyA9PT0gbnVsbCB8fCBkdXJhdGlvbk1pbnV0ZXMgPT09ICcnKSB7XG4gICAgICAgIHZhciBkYXRlID0gbmV3IERhdGU7XG4gICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIDYwICogZHVyYXRpb25NaW51dGVzICogMWUzKSxcbiAgICAgICAgICAgIGV4cGlyZXMgPSBcImV4cGlyZXM9XCIgKyBkYXRlLnRvVVRDU3RyaW5nKClcbiAgICB9XG4gICAgY3JlYXRlQ29va2llKGNvb2tpZU5hbWUsIGNvb2tpZVZhbHVlLCBkdXJhdGlvbk1pbnV0ZXMsIGxvY2FsZSk7XG59XG5cbmZ1bmN0aW9uIGFkZEFsdGVybmF0ZUZpbHRlckNvb2tpZSAocmVtZUVsZW1lbnQsIGxvY2FsZSkge1xuICAgIC8vYWx0ZXJuYXRlX2ZpbHRlcl9jb29raWVfbmFtZVxuICAgIHZhciBhbHRlcm5hdGVGaWx0ZXJDb29raWVOYW1lID0gcmVtZUVsZW1lbnQuZGF0YShcImFsdGVybmF0ZV9maWx0ZXJfY29va2llX25hbWVcIik7XG4gICAgY3JlYXRlQ29va2llKGFsdGVybmF0ZUZpbHRlckNvb2tpZU5hbWUsIFwiWUVTXCIsIDIsIGxvY2FsZSk7XG59XG5cbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsJy5rb2gtbGluay1sYW5ndWFnZS1sZWZ0JywgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgdmFyIHNwbGl0ZWRVcmwgPSB1cmwuc3BsaXQoJy8nKTtcbiAgICB2YXIgb3JpID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjsgLy8gR2V0dGluZyByb290IFVSTFxuICAgIHZhciByZW1lRWxlbWVudCA9ICQoJyNjb21wYXJlLWNvb2tpZS1pbmZvLXJlbWUnKTtcbiAgICB2YXIgbG9jYWxlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtbG9jYWxlJyk7XG4gICAgYWRkUmVtZUNvb2tpZShyZW1lRWxlbWVudCwgbG9jYWxlKTtcbiAgICBhZGRBbHRlcm5hdGVGaWx0ZXJDb29raWUgKHJlbWVFbGVtZW50LCBsb2NhbGUpO1xuICAgIHZhciBpc1BhcmVudCA9ICQodGhpcykuaGFzQ2xhc3MoXCJwYXJlbnQtbW91bnRcIik7XG4gICAgdmFyIGN1cnJlbnRTaXRlVXJsID0gJCh0aGlzKS5kYXRhKFwiY3VycmVudC1zaXRlLXVybFwiKTtcbiAgICB2YXIgdGFyZ2V0U2l0ZVVybCA9ICQodGhpcykuYXR0cignaHJlZicpO1xuICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwia29oLWxpbmstbGFuZ3VhZ2UtYWN0aXZlXCIpKSB7XG4gICAgXHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICB9IGVsc2Uge1xuICAgIFx0c3dpdGNoTGFuZ3VhZ2UgKGxvY2FsZSwgaXNQYXJlbnQsIGN1cnJlbnRTaXRlVXJsLCB0YXJnZXRTaXRlVXJsKTtcbiAgICB9XG59KVxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XG4gICAgdmFyIHJlbWVFbGVtZW50ID0gJCgnI2NvbXBhcmUtY29va2llLWluZm8tcmVtZScpO1xuICAgIGlmIChyZW1lRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHJlbWVFbGVtZW50LmRhdGEoXCJtdWx0aXNpdGVcIikgPT09ICd5ZXMnKSB7XG4gICAgICAgICAgICBhZGRSZW1lQ29va2llKHJlbWVFbGVtZW50LCAnJyk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgwqkgMjAwMC0yMDE3IEtvaGxlciBDb21wYW55LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICovXG5cbnZhciBheEtPSCA9IGF4S09IIHx8IHt9O1xuXG5heEtPSC51dGlscyA9IGF4S09ILnV0aWxzIHx8IHt9O1xuXG4vLyBIYW5keSB1dGlsaXR5IGZ1bmN0aW9uIGZvciBwcmV0dHktcHJpbnRpbmcgYW4gb2JqZWN0XG5heEtPSC51dGlscy5vYmpUb1N0cmluZyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDQpO1xufTtcblxuLy8gRnVuY3Rpb24gZm9yIGxvZ2dpbmcgc28gaXQgY2FuIGJlIHR1cm5lZCBvbi9vZmYgZWFzaWx5XG5heEtPSC51dGlscy5kZWJ1Z0xvZyA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICAvKmlmIChjb25zb2xlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGNvbnRlbnQpO1xuICAgIH0qL1xufTtcblxuYXhLT0gudXRpbHMudG9nZ2xlQ2xhc3MgPSBmdW5jdGlvbigkZWxlbWVudCwgY2xhc3NOYW1lLCBhZGRJdCkge1xuICAgIGlmIChhZGRJdCkge1xuICAgICAgICAkZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgICRlbGVtZW50LnJlbW92ZUNsYXNzKGNsYXNzTmFtZSk7XG4gICAgfVxufTtcblxuYXhLT0gudXRpbHMuaGlkZUVsZW1lbnQgPSBmdW5jdGlvbigkZWxlbWVudCwgaGlkZUl0KSB7XG4gICAgdmFyIGhpZGVDbGFzcyA9IFwiaGlkZGVuXCI7XG4gICAgYXhLT0gudXRpbHMudG9nZ2xlQ2xhc3MoJGVsZW1lbnQsIGhpZGVDbGFzcywgaGlkZUl0KTtcbn07XG5cbmF4S09ILnV0aWxzLm9wZW5NZW51ID0gZnVuY3Rpb24oJGVsZW1lbnQsIG9wZW5JdCkge1xuICAgIHZhciBvcGVuQ2xhc3MgPSBcIm9wZW5cIjtcbiAgICBheEtPSC51dGlscy50b2dnbGVDbGFzcygkZWxlbWVudCwgb3BlbkNsYXNzLCBvcGVuSXQpO1xufTtcblxuYXhLT0gudXRpbHMuZGlzYWJsZUxpbmtzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIGVsZW1lbnQuZmluZCgnYScpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG59O1xuXG5heEtPSC51dGlscy5zdG9wVmlkZW9zID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHZhciBpZnJhbWUgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZScpO1xuICAgIHZhciB2aWRlbyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcigndmlkZW8nKTtcbiAgICBpZiAoaWZyYW1lICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBpZnJhbWVTcmMgPSBpZnJhbWUuc3JjO1xuICAgICAgICBpZnJhbWUuc3JjID0gaWZyYW1lU3JjO1xuICAgIH1cbiAgICBpZiAodmlkZW8gIT09IG51bGwpIHtcbiAgICAgICAgdmlkZW8ucGF1c2UoKTtcbiAgICB9XG59O1xuXG4iLCIvKlxuICogQ29weXJpZ2h0IMKpIDIwMDAtMjAxNyBLb2hsZXIgQ29tcGFueS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqL1xuIFxuLy8gSmF2YXNjcmlwdCBOYW1lc3BhY2luZyBzZXR1cFxudmFyIGF4S09IID0gYXhLT0ggfHwge307XG5heEtPSC5tYWluID0gYXhLT0gubWFpbiB8fCB7fTtcbmF4S09ILm1haW4uY29tcG9uZW50TWFuYWdlciA9IGF4S09ILm1haW4uY29tcG9uZW50TWFuYWdlciB8fCB7fTtcbmF4S09ILm1haW4uY29tcG9uZW50TWFuYWdlci5jb21wYXJlUGFuZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbXBvbmVudENsYXNzID0gXCJjLWtvaC1jb21wYXJlLXBhbmVsXCI7XG4gICAgdmFyIGluaXRDb21wb25lbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8qdmFyICRjb21wb25lbnRzID0gJChcIi5cIitjb21wb25lbnRDbGFzcyk7XG5cbiAgICAgICAgJGNvbXBvbmVudHMuZWFjaCggZnVuY3Rpb24oY29tcG9uZW50SW5kZXgpIHtcbiAgICAgICAgXHR2YXIgJGNvbXBvbmVudCA9ICQodGhpcyk7XG4gICAgICAgIFx0dmFyICRwYW5lbFRvZ2dsZSBcdD0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1jb21wYXJlLXRvZ2dsZVwiKTtcbiAgICAgICAgXHR2YXIgJHBhbmVsSXRlbXMgXHQ9ICRjb21wb25lbnQuZmluZChcIi5rb2gtY29tcGFyZS1pdGVtc1wiKTtcblxuICAgICAgICBcdCRwYW5lbFRvZ2dsZS5jbGljayggZnVuY3Rpb24oKSB7XG4gICAgICAgIFx0XHQkcGFuZWxJdGVtcy50b2dnbGVDbGFzcygnb3BlbicpO1xuICAgICAgICBcdFx0JCh0aGlzKS50b2dnbGVDbGFzcygnb3BlbicpO1xuICAgICAgICBcdH0pO1xuXG4gICAgICAgIH0pOyovXG4gICAgfTtcblxuICAgIHZhciBpbml0Q29tcGFyZU1vZGFsID0gZnVuY3Rpb24gKCRjb21wb25lbnRzKSB7XG4gICAgICAgICRjb21wb25lbnRzXG4gICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoY29tcG9uZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGNvbXBvbmVudCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIHJlbW9kYWxJRCA9IFwiQ29tcGFyZU1vZGFsXCIgKyBjb21wb25lbnRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgJGJ1dHRvbiA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtY29tcGFyZS1wYW5lbC1idXR0b25cIiksXG4gICAgICAgICAgICAgICAgICAgICRwYW5lbCA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtY29tcGFyZS1wYW5lbC1tb2RhbFwiKTtcbiAgICAgICAgICAgICAgICBpbml0QXNNb2RhbCgkYnV0dG9uLCAkcGFuZWwsIHJlbW9kYWxJRCksXG4gICAgICAgICAgICAgICAgICAgIGluaXRDb2xvck92ZXJsYXlzKCk7XG4gICAgICAgICAgICAgICAgdmFyICRjb21wYXJlUHJvZHVjdHMgPSAkKFwiLmMta29oLWNvbXBhcmUtcHJvZHVjdHNcIikuZmluZChcIi5rb2gtY29tcGFyZS1wcm9kdWN0XCIpO1xuICAgICAgICAgICAgICAgICRjb21wYXJlUHJvZHVjdHMuZWFjaChmdW5jdGlvbiAoY29tcG9uZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRwcm9kdWN0ID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRidXR0b24gPSAkcHJvZHVjdC5maW5kKFwiLmtvaC1jb21wYXJlLXByb2R1Y3QtcmVxdWlyZWQtYnV0dG9uXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHBhbmVsID0gJHByb2R1Y3QuZmluZChcIi5rb2gtY29tcGFyZS1yZXF1aXJlZC1wcm9kdWN0cy1wYW5lbFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW9kYWxJRCA9IFwiUmVxdWlyZWRDb21wYXJlSXRlbXNcIiArIGNvbXBvbmVudEluZGV4O1xuICAgICAgICAgICAgICAgICAgICBpbml0QXNNb2RhbCgkYnV0dG9uLCAkcGFuZWwsIHJlbW9kYWxJRClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICB9O1xuXG4gICAgdmFyIGluaXRBc01vZGFsID0gZnVuY3Rpb24gKCRidXR0b24sICRwYW5lbCwgcmVtb2RhbElEKSB7XG4gICAgICAgICRwYW5lbC5kYXRhKFwicmVtb2RhbC1pZFwiLCByZW1vZGFsSUQpLFxuICAgICAgICAgICAgJHBhbmVsLnByZXBlbmQoJzxidXR0b24gZGF0YS1yZW1vZGFsLWFjdGlvbj1cImNsb3NlXCIgY2xhc3M9XCJyZW1vZGFsLWNsb3NlXCI+PC9idXR0b24+JyksXG4gICAgICAgICAgICAkcGFuZWwuYXR0cihcImRhdGEta29oLWNvbXBvbmVudFwiLCBjb21wb25lbnRDbGFzcyksXG4gICAgICAgICAgICAkcGFuZWwuYWRkQ2xhc3MoY29tcG9uZW50Q2xhc3MgKyBcIi1tb2RhbFwiKTtcbiAgICAgICAgdmFyICRyZW1vZGFsUGFuZWwgPSAkcGFuZWwucmVtb2RhbCh7XG4gICAgICAgICAgICBoYXNoVHJhY2tpbmc6IHRydWUsXG4gICAgICAgICAgICBjbG9zZU9uQ2FuY2VsOiB0cnVlLFxuICAgICAgICAgICAgY2xvc2VPbkVzY2FwZTogdHJ1ZSxcbiAgICAgICAgICAgIGNsb3NlT25PdXRzaWRlQ2xpY2s6IHRydWUsXG4gICAgICAgICAgICBtb2RpZmllcjogXCJcIlxuICAgICAgICB9KTtcbiAgICAgICAgJGJ1dHRvbi5kYXRhKFwicmVtb2RhbC10YXJnZXRcIiwgcmVtb2RhbElEKSxcbiAgICAgICAgICAgICRidXR0b24uY2xpY2soe1xuICAgICAgICAgICAgICAgIHRhcmdldDogJHJlbW9kYWxQYW5lbFxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCksXG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgdmFyICR0YXJnZXQgPSBlLmRhdGEudGFyZ2V0O1xuICAgICAgICAgICAgICAgICR0YXJnZXQub3BlbigpXG4gICAgICAgICAgICB9KVxuICAgIH07XG5cbiAgICB2YXIgaW5pdEFzTW9kYWxBbmRPcGVuID0gZnVuY3Rpb24gKCRidXR0b24sICRwYW5lbCwgcmVtb2RhbElEKSB7XG4gICAgICAgICRwYW5lbC5kYXRhKFwicmVtb2RhbC1pZFwiLCByZW1vZGFsSUQpLFxuICAgICAgICAgICAgJHBhbmVsLnByZXBlbmQoJzxidXR0b24gZGF0YS1yZW1vZGFsLWFjdGlvbj1cImNsb3NlXCIgY2xhc3M9XCJyZW1vZGFsLWNsb3NlXCI+PC9idXR0b24+JyksXG4gICAgICAgICAgICAkcGFuZWwuYXR0cihcImRhdGEta29oLWNvbXBvbmVudFwiLCBjb21wb25lbnRDbGFzcyksXG4gICAgICAgICAgICAkcGFuZWwuYWRkQ2xhc3MoY29tcG9uZW50Q2xhc3MgKyBcIi1tb2RhbFwiKTtcbiAgICAgICAgdmFyICRyZW1vZGFsUGFuZWwgPSAkcGFuZWxcbiAgICAgICAgICAgIC5yZW1vZGFsKHtcbiAgICAgICAgICAgICAgICBoYXNoVHJhY2tpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgY2xvc2VPbkNhbmNlbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjbG9zZU9uRXNjYXBlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNsb3NlT25PdXRzaWRlQ2xpY2s6IHRydWUsXG4gICAgICAgICAgICAgICAgbW9kaWZpZXI6IFwiXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub3BlbigpO1xuICAgICAgICAkYnV0dG9uLmRhdGEoXCJyZW1vZGFsLXRhcmdldFwiLCByZW1vZGFsSUQpLFxuICAgICAgICAgICAgJGJ1dHRvbi5jbGljayh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAkcmVtb2RhbFBhbmVsXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKSxcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB2YXIgJHRhcmdldCA9IGUuZGF0YS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgJHRhcmdldC5vcGVuKClcbiAgICAgICAgICAgIH0pXG4gICAgfTtcblxuICAgIHZhciBpbml0Q29sb3JPdmVybGF5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRjb2xvclN3YXRjaGVzID0gJChcIi5jb21wYXJlQ29sb3JTd2F0Y2hcIik7XG4gICAgICAgICRjb2xvclN3YXRjaGVzLmVhY2goZnVuY3Rpb24gKHN3YXRjaEluZGV4KSB7XG4gICAgICAgICAgICB2YXIgJGNvbG9yU3dhdGNoID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAkY29sb3JMYWJlbCA9ICRjb2xvclN3YXRjaC5hdHRyKFwiYWx0XCIpO1xuICAgICAgICAgICAgJGNvbG9yU3dhdGNoLnF0aXAoe1xuICAgICAgICAgICAgICAgIGlkOiBcInN3YXRjaFwiICsgc3dhdGNoSW5kZXgsXG4gICAgICAgICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAkY29sb3JMYWJlbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgbXk6IFwidG9wIGxlZnRcIixcbiAgICAgICAgICAgICAgICAgICAgYXQ6IFwiYm90dG9tIGxlZnRcIixcbiAgICAgICAgICAgICAgICAgICAgYWRqdXN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB5OiA2XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IFwia29oLXF0aXAtdG9vbHRpcCBrb2gtcHJvZHVjdC1kZXRhaWwtdG9vbHRpcCBxdGlwLWJvb3RzdHJhcFwiLFxuICAgICAgICAgICAgICAgICAgICB0aXA6IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9O1xuXG4gICAgdmFyIGluaXRDb21wYXJlUGFuZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZU1vZGFsUHJvZHVjdChldmVudCwgcHJvZHVjdCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciBjb29raWVDb250ZW50LFxuICAgICAgICAgICAgICAgIHVyaSA9IHByb2R1Y3QuYXR0cihcImhyZWZcIiksXG4gICAgICAgICAgICAgICAgaXRlbW5vID0gcHJvZHVjdC5kYXRhKFwicHJvZHVjdC1pdGVtbm9cIiksXG4gICAgICAgICAgICAgICAgY29va2llTmFtZSA9ICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLW5hbWVcIiksXG4gICAgICAgICAgICAgICAgZHVyYXRpb25NaW51dGVzID0gJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtZHVyYXRpb25cIiksXG4gICAgICAgICAgICAgICAgY29va2llID0gZ2V0Q29va2llKGNvb2tpZU5hbWUpO1xuICAgICAgICAgICAgaWYgKG51bGwgPT09IGNvb2tpZSB8fCBcIlwiID09PSBjb29raWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgJChcIi5jLWtvaC1jb21wYXJlLXBhbmVsXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgdmFyIHByb2R1Y3RzLFxuICAgICAgICAgICAgICAgIHZhbHVlcyA9IGNvb2tpZS5zcGxpdChcIi5cIiksXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSB2YWx1ZXNbMF07XG4gICAgICAgICAgICB2YWx1ZXMubGVuZ3RoID4gMSAmJiAocHJvZHVjdHMgPSB2YWx1ZXNbMV0uc3BsaXQoXCJ8XCIpKTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHByb2R1Y3RzLmluZGV4T2YoaXRlbW5vLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgaWYgKHByb2R1Y3RzLnNwbGljZShpbmRleCwgMSksIGNvb2tpZUNvbnRlbnQgPSBjYXRlZ29yeSArIFwiLlwiICsgcHJvZHVjdHMuam9pbihcInxcIiksIGRlbGV0ZUNvb2tpZShjb29raWVOYW1lKSwgIShwcm9kdWN0cy5sZW5ndGggPiAwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gJChcIi5jLWtvaC1jb21wYXJlLXBhbmVsXCIpLnJlbW92ZSgpLFxuICAgICAgICAgICAgICAgICAgICBkZWxldGVDb29raWUoY29va2llTmFtZSksXG4gICAgICAgICAgICAgICAgICAgIHZvaWQgY3JlYXRlQ29va2llKGNvb2tpZU5hbWUsIFwiXCIsIGR1cmF0aW9uTWludXRlcyk7XG4gICAgICAgICAgICBjcmVhdGVDb29raWUoY29va2llTmFtZSwgY29va2llQ29udGVudCwgZHVyYXRpb25NaW51dGVzKSxcbiAgICAgICAgICAgICAgICBwcm9kdWN0XG4gICAgICAgICAgICAgICAgLmNsb3Nlc3QoXCIua29oLWNvbXBhcmUtcHJvZHVjdFwiKVxuICAgICAgICAgICAgICAgIC5yZW1vdmUoKSxcbiAgICAgICAgICAgICAgICAkKFwiLmMta29oLWNvbXBhcmUtcHJvZHVjdHNcIilcbiAgICAgICAgICAgICAgICAuZmluZChcIi5rb2gtY29tcGFyZS1yZW1vdmVcIilcbiAgICAgICAgICAgICAgICAucmVtb3ZlKCksXG4gICAgICAgICAgICAgICAgcmVtb3ZlUHJvZHVjdFRleHQocHJvZHVjdCk7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHVyaSxcbiAgICAgICAgICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNjb21wYXJlUGFuZWxcIikuaHRtbChkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLWl0ZW1zXCIpLmFkZENsYXNzKFwib3BlblwiKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbG9hZEFuZE9wZW5Nb2RhbCgpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmFpbChmdW5jdGlvbiAoKSB7fSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8qZnVuY3Rpb24gY3JlYXRlQ29va2llKG5hbWUsIHZhbHVlLCBtaW51dGVzKSB7XG4gICAgICAgICAgICB2YXIgZXhwaXJlcyA9IFwiXCIsXG4gICAgICAgICAgICAgICAgY29va2llID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChtaW51dGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZTtcbiAgICAgICAgICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyA2MCAqIG1pbnV0ZXMgKiAxZTMpLFxuICAgICAgICAgICAgICAgICAgICBleHBpcmVzID0gXCJleHBpcmVzPVwiICsgZGF0ZS50b1VUQ1N0cmluZygpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb29raWUgPSBuYW1lICsgXCI9XCIgKyB2YWx1ZSArIFwiOyBcIiArIGV4cGlyZXMgKyBcIjsgcGF0aD0vXCIsXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llXG4gICAgICAgIH0qL1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldENvb2tpZShuYW1lKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBuYW1lRVEgPSBuYW1lICsgXCI9XCIsIGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KFwiO1wiKSwgaSA9IGNhLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYyA9IGNhW2ldO1xuICAgICAgICAgICAgICAgICAgICBcIiBcIiA9PT0gYy5jaGFyQXQoMCk7KVxuICAgICAgICAgICAgICAgICAgICBjID0gYy5zdWJzdHJpbmcoMSwgYy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmICgwID09PSBjLmluZGV4T2YobmFtZUVRKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMuc3Vic3RyaW5nKG5hbWVFUS5sZW5ndGgsIGMubGVuZ3RoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGRlbGV0ZUNvb2tpZShuYW1lKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgXCI9OyBleHBpcmVzPVRodSwgMDEtSmFuLTcwIDAwOjAwOjAxIEdNVDtcIlxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkUHJvZHVjdFRleHQoJHBhbmVsKSB7XG4gICAgICAgICAgICAkKFwiLmFkZF9cIiArICRwYW5lbC5kYXRhKFwicHJvZHVjdC1pdGVtbm9cIikpLmNsb3Nlc3QoXCIua29oLXByb2R1Y3QtdG9vbHNcIikuYWRkQ2xhc3MoXCJwcm9kdWN0LWFkZGVkXCIpO1xuICAgICAgICAgICAgJChcIi5hZGRfXCIgKyAkcGFuZWwuZGF0YShcInByb2R1Y3QtaXRlbW5vXCIpKS5jbG9zZXN0KFwiLmtvaC1wcm9kdWN0LXRpbGVcIikuYWRkQ2xhc3MoXCJwcm9kdWN0LWFkZGVkXCIpO1xuICAgICAgICAgICAgJHBhbmVsLmhhc0NsYXNzKFwia29oLWNvbXBhcmUtYnV0dG9uLXF1aWNrdmlld1wiKSAmJiAoJHBhbmVsLmNsb3Nlc3QoXCIua29oLXByb2R1Y3QtcXVpY2stdmlldy1wYW5lbFwiKS5hZGRDbGFzcyhcInByb2R1Y3QtYWRkZWRcIiksICQoXCJkaXZbZGF0YS1tb2RhbC1saW5rPSdcIiArICRwYW5lbC5jbG9zZXN0KFwiLmtvaC1wcm9kdWN0LXF1aWNrLXZpZXctcGFuZWxcIikuYXR0cihcImlkXCIpICsgXCInXVwiKS5hZGRDbGFzcyhcInByb2R1Y3QtYWRkZWRcIikpLFxuICAgICAgICAgICAgICAgICRwYW5lbC5oYXNDbGFzcyhcImtvaC1jb21wYXJlLWJ1dHRvbi10aWxlXCIpICYmICgkcGFuZWwuY2xvc2VzdChcIi5rb2gtcHJvZHVjdC10aWxlXCIpLmFkZENsYXNzKFwicHJvZHVjdC1hZGRlZFwiKSwgJChcIiNcIiArICRwYW5lbC5jbG9zZXN0KFwiLmtvaC1wcm9kdWN0LXRpbGVcIikuYXR0cihcImRhdGEtbW9kYWwtbGlua1wiKSkuYWRkQ2xhc3MoXCJwcm9kdWN0LWFkZGVkXCIpLCAkKFwiLmtvaC1wcm9kdWN0LWRldGFpbHNcIikuZmluZChcIi5rb2gtcHJvZHVjdC10b29sc1wiKS5hZGRDbGFzcyhcInByb2R1Y3QtYWRkZWRcIikpXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZW1vdmVQcm9kdWN0VGV4dCgkcGFuZWwpIHtcbiAgICAgICAgICAgICQoXCIucmVtb3ZlX1wiICsgJHBhbmVsLmRhdGEoXCJwcm9kdWN0LWl0ZW1ub1wiKSkuY2xvc2VzdChcIi5rb2gtcHJvZHVjdC10b29sc1wiKS5yZW1vdmVDbGFzcyhcInByb2R1Y3QtYWRkZWRcIik7XG4gICAgICAgICAgICAkKFwiLnJlbW92ZV9cIiArICRwYW5lbC5kYXRhKFwicHJvZHVjdC1pdGVtbm9cIikpLmNsb3Nlc3QoXCIua29oLXByb2R1Y3QtdGlsZVwiKS5yZW1vdmVDbGFzcyhcInByb2R1Y3QtYWRkZWRcIik7XG4gICAgICAgICAgICAkcGFuZWwuaGFzQ2xhc3MoXCJrb2gtY29tcGFyZS1idXR0b24tcXVpY2t2aWV3XCIpICYmICgkcGFuZWwuY2xvc2VzdChcIi5rb2gtcHJvZHVjdC1xdWljay12aWV3LXBhbmVsXCIpLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1hZGRlZFwiKSwgJChcImRpdltkYXRhLW1vZGFsLWxpbms9J1wiICsgJHBhbmVsLmNsb3Nlc3QoXCIua29oLXByb2R1Y3QtcXVpY2stdmlldy1wYW5lbFwiKS5hdHRyKFwiaWRcIikgKyBcIiddXCIpLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1hZGRlZFwiKSksXG4gICAgICAgICAgICAgICAgJHBhbmVsLmhhc0NsYXNzKFwia29oLWNvbXBhcmUtYnV0dG9uLXRpbGVcIikgJiYgKCRwYW5lbC5jbG9zZXN0KFwiLmtvaC1wcm9kdWN0LXRpbGVcIikucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWFkZGVkXCIpLCAkKFwiI1wiICsgJHBhbmVsLmNsb3Nlc3QoXCIua29oLXByb2R1Y3QtdGlsZVwiKS5hdHRyKFwiZGF0YS1tb2RhbC1saW5rXCIpKS5yZW1vdmVDbGFzcyhcInByb2R1Y3QtYWRkZWRcIikpLFxuICAgICAgICAgICAgICAgICRwYW5lbC5oYXNDbGFzcyhcImtvaC1jb21wYXJlLXJlbW92ZS1tb2RhbFwiKSAmJiAoJChcImRpdltkYXRhLW1vZGFsLWxpbms9J1F1aWNrVmlld1wiICsgJHBhbmVsLmF0dHIoXCJkYXRhLXByb2R1Y3QtaXRlbW5vXCIpICsgXCInXVwiKS5yZW1vdmVDbGFzcyhcInByb2R1Y3QtYWRkZWRcIiksICQoXCIjUXVpY2tWaWV3XCIgKyAkcGFuZWwuYXR0cihcImRhdGEtcHJvZHVjdC1pdGVtbm9cIikpLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1hZGRlZFwiKSwgJChcIi5rb2gtcHJvZHVjdC1kZXRhaWxzXCIpLmZpbmQoXCIua29oLXByb2R1Y3QtdG9vbHNcIikucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWFkZGVkXCIpKVxuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKFwiLmMta29oLXByb2R1Y3QtZmFjZXRlZC1zZWFyY2gtbW9kYWwgLmtvaC1jb21wYXJlLWFkZFwiKVxuICAgICAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1ubyA9ICgkKHRoaXMpLmF0dHIoXCJocmVmXCIpLCAkKHRoaXMpLmRhdGEoXCJwcm9kdWN0LWl0ZW1ub1wiKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29raWVOYW1lID0gJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtbmFtZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tpZSA9ICgkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1kdXJhdGlvblwiKSwgJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtbWF4LWl0ZW1zLW51bWJlclwiKSwgJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtbWF4LWl0ZW1zLW1lc3NhZ2VcIiksICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLWRpZmYtY2F0ZWdvcnktbWVzc2FnZVwiKSwgJChcIiNjYXRlZ29yeS1pbmZvXCIpLmRhdGEoXCJjb29raWUtY2F0ZWdvcnktcHJvZHVjdFwiKSwgZ2V0Q29va2llKGNvb2tpZU5hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IGNvb2tpZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGNvb2tpZS5zcGxpdChcIi5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2R1Y3RzID0gdmFsdWVzWzFdLnNwbGl0KFwifFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmZvciAoaSBpbiBwcm9kdWN0cykgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzW2ldID09IGl0ZW1ubyAmJiAkKHRoaXMpLmFkZENsYXNzKFwiYWRkZWRcIikqL1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgfSwgMWUzKTtcblxuICAgICAgICB2YXIgcmVsb2FkTW9kYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgJGNvbXBvbmVudHMgPSAkKFwiLlwiICsgY29tcG9uZW50Q2xhc3MpO1xuICAgICAgICAgICAgJGNvbXBvbmVudHMuZWFjaChmdW5jdGlvbiAoY29tcG9uZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGNvbXBvbmVudCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIHJlbW9kYWxJRCA9IFwiQ29tcGFyZU1vZGFsXCIgKyBjb21wb25lbnRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgJGJ1dHRvbiA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtY29tcGFyZS1wYW5lbC1idXR0b25cIiksXG4gICAgICAgICAgICAgICAgICAgICRwYW5lbCA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtY29tcGFyZS1wYW5lbC1tb2RhbFwiKTtcbiAgICAgICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLXBhbmVsLW1vZGFsXCIpLnJlbW92ZSgpLFxuICAgICAgICAgICAgICAgICAgICBpbml0QXNNb2RhbCgkYnV0dG9uLCAkcGFuZWwsIHJlbW9kYWxJRCksXG4gICAgICAgICAgICAgICAgICAgICQoXCIuYy1rb2gtY29tcGFyZS1wcm9kdWN0c1wiKS5vbihcImNsaWNrXCIsIFwiLmtvaC1jb21wYXJlLXJlbW92ZS1tb2RhbFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU1vZGFsUHJvZHVjdChldmVudCwgJCh0aGlzKSlcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIDIgPT0gJChcIi5rb2gtY29tcGFyZS1wcm9kdWN0XCIpLnNpemUoKSA/XG4gICAgICAgICAgICAgICAgICAgICQoXCIua29oLWNvbXBhcmUtcHJvZHVjdFwiKS53aWR0aChcIjUwJVwiKSA6XG4gICAgICAgICAgICAgICAgICAgICQoXCIua29oLWNvbXBhcmUtcHJvZHVjdFwiKS53aWR0aChcIjMzLjMzMzMlXCIpLFxuICAgICAgICAgICAgICAgICAgICBpbml0Q29sb3JPdmVybGF5cygpO1xuICAgICAgICAgICAgICAgIHZhciAkY29tcGFyZVByb2R1Y3RzID0gJChcIi5jLWtvaC1jb21wYXJlLXByb2R1Y3RzXCIpLmZpbmQoXCIua29oLWNvbXBhcmUtcHJvZHVjdFwiKTtcbiAgICAgICAgICAgICAgICAkY29tcGFyZVByb2R1Y3RzLmVhY2goZnVuY3Rpb24gKGNvbXBvbmVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkcHJvZHVjdCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAkYnV0dG9uID0gJHByb2R1Y3QuZmluZChcIi5rb2gtY29tcGFyZS1wcm9kdWN0LXJlcXVpcmVkLWJ1dHRvblwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRwYW5lbCA9ICRwcm9kdWN0LmZpbmQoXCIua29oLWNvbXBhcmUtcmVxdWlyZWQtcHJvZHVjdHMtcGFuZWxcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vZGFsSUQgPSBcIlJlcXVpcmVkQ29tcGFyZUl0ZW1zXCIgKyBjb21wb25lbnRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgaW5pdEFzTW9kYWwoJGJ1dHRvbiwgJHBhbmVsLCByZW1vZGFsSUQpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlbG9hZEFuZE9wZW5Nb2RhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciAkY29tcG9uZW50cyA9ICQoXCIuXCIgKyBjb21wb25lbnRDbGFzcyk7XG4gICAgICAgICAgICAkY29tcG9uZW50cy5lYWNoKGZ1bmN0aW9uIChjb21wb25lbnRJbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciAkY29tcG9uZW50ID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgcmVtb2RhbElEID0gXCJDb21wYXJlTW9kYWxcIiArIGNvbXBvbmVudEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAkYnV0dG9uID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1jb21wYXJlLXBhbmVsLWJ1dHRvblwiKSxcbiAgICAgICAgICAgICAgICAgICAgJHBhbmVsID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1jb21wYXJlLXBhbmVsLW1vZGFsXCIpO1xuICAgICAgICAgICAgICAgICQoXCIua29oLWNvbXBhcmUtcGFuZWwtbW9kYWxcIikucmVtb3ZlKCksXG4gICAgICAgICAgICAgICAgICAgIGluaXRBc01vZGFsKCRidXR0b24sICRwYW5lbCwgcmVtb2RhbElEKSxcbiAgICAgICAgICAgICAgICAgICAgJChcIi5jLWtvaC1jb21wYXJlLXByb2R1Y3RzXCIpLm9uKFwiY2xpY2tcIiwgXCIua29oLWNvbXBhcmUtcmVtb3ZlLW1vZGFsXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTW9kYWxQcm9kdWN0KGV2ZW50LCAkKHRoaXMpKVxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgMiA9PSAkKFwiLmtvaC1jb21wYXJlLXByb2R1Y3RcIikuc2l6ZSgpID9cbiAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1wcm9kdWN0XCIpLndpZHRoKFwiNTAlXCIpIDpcbiAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1wcm9kdWN0XCIpLndpZHRoKFwiMzMuMzMzMyVcIik7XG4gICAgICAgICAgICAgICAgdmFyICRjb21wYXJlUHJvZHVjdHMgPSAkKFwiLmMta29oLWNvbXBhcmUtcHJvZHVjdHNcIikuZmluZChcIi5rb2gtY29tcGFyZS1wcm9kdWN0XCIpO1xuICAgICAgICAgICAgICAgICRjb21wYXJlUHJvZHVjdHMuZWFjaChmdW5jdGlvbiAoY29tcG9uZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRwcm9kdWN0ID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRidXR0b24gPSAkcHJvZHVjdC5maW5kKFwiLmtvaC1jb21wYXJlLXByb2R1Y3QtcmVxdWlyZWQtYnV0dG9uXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHBhbmVsID0gJHByb2R1Y3QuZmluZChcIi5rb2gtY29tcGFyZS1yZXF1aXJlZC1wcm9kdWN0cy1wYW5lbFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW9kYWxJRCA9IFwiUmVxdWlyZWRDb21wYXJlSXRlbXNcIiArIGNvbXBvbmVudEluZGV4O1xuICAgICAgICAgICAgICAgICAgICBpbml0QXNNb2RhbEFuZE9wZW4oJGJ1dHRvbiwgJHBhbmVsLCByZW1vZGFsSUQpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGNoYW5nZVVybERhbSA9IGZ1bmN0aW9uKGRvbWFpblVybCwgbGFzdFNsYXNoSW5kZXgsIGltYWdlVXJsLCBkYW1OYW1lKSB7XG4gICAgICAgICAgICB2YXIgZGVmSW1nRG9tYWluV2l0aG91dERhbSA9IGRvbWFpblVybC5zbGljZSgwLCBsYXN0U2xhc2hJbmRleCk7XG4gICAgICAgICAgICB2YXIgbmV3RG9tYWluVXJsID0gZGVmSW1nRG9tYWluV2l0aG91dERhbSArIFwiL1wiKyBkYW1OYW1lOyAgICBcbiAgICAgICAgICAgIGltYWdlVXJsID0gaW1hZ2VVcmwucmVwbGFjZShcIntkb21haW59XCIsIG5ld0RvbWFpblVybCk7XG4gICAgICAgICAgICBpbWFnZVVybCA9IGltYWdlVXJsLnJlcGxhY2VBbGwoXCJ7ZGFtfVwiLCBkYW1OYW1lKTtcbiAgICAgICAgICAgIGltYWdlVXJsID0gaW1hZ2VVcmwucmVwbGFjZShcInByb2R1Y3Rfc3JjPWlze1BBV0VCXCIsIFwicHJvZHVjdF9zcmM9aXN7a29obGVyY2hpbmFcIik7XG4gICAgICAgICAgICByZXR1cm4gaW1hZ2VVcmw7XG4gICAgICAgIH1cblxuICAgICAgICAkKFwiYm9keVwiKS5vbihcImNsaWNrXCIsIFwiLmtvaC1jb21wYXJlLWFkZFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgcHJvZHVjdERldGFpbHNsaW5rID0gJCgnI3Byb2R1Y3REZXRhaWxzbGluaycpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGdyaWRJbWFnZVByb2R1Y3RVcmwgPSAkKCcjZ3JpZEltYWdlUHJvZHVjdFVybCcpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGdyaWRJbWFnZU5ld1Byb2R1Y3RVcmwgPSAkKCcjZ3JpZEltYWdlTmV3UHJvZHVjdFVybCcpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGNvbXBhcmVQYW5lbFByb2R1Y3RzID0gJCgnI2NvbXBhcmVQYW5lbFByb2R1Y3RzJykudmFsKCk7XG4gICAgICAgICAgICB2YXIgY29tcGFyZUJ1dHRvbkxhYmxlID0gJCgnI2NvbXBhcmVCdXR0b25MYWJsZScpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGNvbXBhcmVDbGVhclJlc3VsdHMgPSAkKCcjY29tcGFyZUNsZWFyUmVzdWx0JykudmFsKCk7XG4gICAgICAgICAgICB2YXIgY29tbW9uX2dhbGxlcnlOZXdQcm9kdWN0VXJsID0gJCgnI2NvbW1vbl9nYWxsZXJ5TmV3UHJvZHVjdFVybCcpLnZhbCgpO1xuICAgICAgICBcdHZhciBjb21tb25fZ3JpZEltYWdlVXJsID0gJCgnI2NvbW1vbl9ncmlkSW1hZ2VVcmwnKS52YWwoKTtcbiAgICAgICAgXHR2YXIgY3VycmVuY3lDb2RlID0gJCgnI2N1cnJlbmN5Q29kZScpLnZhbCgpO1xuICAgICAgICBcdFxuICAgICAgICAgICAgdmFyIGNvb2tpZUNvbnRlbnQsXG4gICAgICAgICAgICAgICAgdXJpID0gJCh0aGlzKS5kYXRhKFwiaHJlZlwiKSxcbiAgICAgICAgICAgICAgICBpdGVtbm8gPSAkKHRoaXMpLmRhdGEoXCJwcm9kdWN0LWl0ZW1ub1wiKSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnlLZXkgPSAkKHRoaXMpLmRhdGEoXCJjYXRlZ29yeVwiKSxcbiAgICAgICAgICAgICAgICBpdGVtTm9NdWx0aUFuc2Nlc3RvcnMgPSAkKHRoaXMpLmRhdGEoXCJwcm9kdWN0LWl0ZW1uby1tdWx0aWFuc2Nlc3RvcnNcIiksXG4gICAgICAgICAgICAgICAgY29va2llTmFtZSA9ICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLW5hbWVcIiksXG4gICAgICAgICAgICAgICAgZHVyYXRpb25NaW51dGVzID0gJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtZHVyYXRpb25cIiksXG4gICAgICAgICAgICAgICAgY29tcGFyZU1heEl0ZW1zTnVtYmVyID0gJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtbWF4LWl0ZW1zLW51bWJlclwiKSxcbiAgICAgICAgICAgICAgICBjb21wYXJlTWF4SXRlbXNNZXNzYWdlID0gJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtbWF4LWl0ZW1zLW1lc3NhZ2VcIiksXG4gICAgICAgICAgICAgICAgY29tcGFyZURpZmZDYXRlZ29yeU1lc3NhZ2UgPSAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1kaWZmLWNhdGVnb3J5LW1lc3NhZ2VcIiksXG4gICAgICAgICAgICAgICAgY29va2llID0gZ2V0Q29va2llKGNvb2tpZU5hbWUpLFxuICAgICAgICAgICAgICAgIGNvb2tpZVByb2R1Y3RDb3VudCA9ICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLXByb2R1Y3RfY291bnRcIiksXG4gICAgICAgICAgICAgICAgcHJvZHVjdHMgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKG51bGwgPT09IGNvb2tpZSB8fCBcIlwiID09PSBjb29raWUpIHtcbiAgICAgICAgICAgICAgICBjb29raWVDb250ZW50ID0gZGVmYXVsdENhdGVnb3J5S2V5ICsgXCIuXCIgKyBpdGVtTm9NdWx0aUFuc2Nlc3RvcnMsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNvb2tpZShjb29raWVOYW1lLCBjb29raWVDb250ZW50LCBkdXJhdGlvbk1pbnV0ZXMpLFxuICAgICAgICAgICAgICAgICAgICBhZGRQcm9kdWN0VGV4dCgkKHRoaXMpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGNvb2tpZS5zcGxpdChcIi5cIiksXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gdmFsdWVzWzBdLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0cyA9IHZhbHVlc1sxXS5zcGxpdChcInxcIiksXG4gICAgICAgICAgICAgICAgICAgIGZsYWdFeGlzdHMgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeSA9PT0gZGVmYXVsdENhdGVnb3J5S2V5KSB7XG4gICAgICAgICAgICAgICAgXHRmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHByb2R1Y3RzW2ldLnRvU3RyaW5nKCkgPT09IGl0ZW1Ob011bHRpQW5zY2VzdG9ycy50b1N0cmluZygpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXHR9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChmbGFnRXhpc3RzIHx8IHByb2R1Y3RzLnB1c2goaXRlbU5vTXVsdGlBbnNjZXN0b3JzKSwgZGVmYXVsdENhdGVnb3J5S2V5ICE9IGNhdGVnb3J5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByID0gY29uZmlybShjb21wYXJlRGlmZkNhdGVnb3J5TWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLWl0ZW1cIikucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnByb2R1Y3QtYWRkZWRcIikucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWFkZGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ29va2llKGNvb2tpZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29va2llQ29udGVudCA9IGRlZmF1bHRDYXRlZ29yeUtleSArIFwiLlwiICsgaXRlbU5vTXVsdGlBbnNjZXN0b3JzO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlQ29va2llKGNvb2tpZU5hbWUsIGNvb2tpZUNvbnRlbnQsIGR1cmF0aW9uTWludXRlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRQcm9kdWN0VGV4dCgkKHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8kKFwiLmtvaC1wcm9kdWN0LXRvb2xzXCIpLnJlbW92ZUNsYXNzKFwicHJvZHVjdC1hZGRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZUNvbnRlbnQgPSBjYXRlZ29yeSArIFwiLlwiICsgcHJvZHVjdHMuam9pbihcInxcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICBcdFx0aWYgKHByb2R1Y3RzLmxlbmd0aCA+IGNvbXBhcmVNYXhJdGVtc051bWJlcikge1x0XHRcbiAgICAgICAgXHRcdFx0IHJlbW92ZVByb2R1Y3RUZXh0KCQodGhpcykpO1xuICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsZXJ0KGNvbXBhcmVNYXhJdGVtc01lc3NhZ2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlO1xuICAgICAgICAgICAgICAgICB9XG4gICAgICAgIFx0XHRkZWZhdWx0Q2F0ZWdvcnlLZXkgPT0gY2F0ZWdvcnkgJiYgcHJvZHVjdHMubGVuZ3RoIDw9IGNvbXBhcmVNYXhJdGVtc051bWJlciAmJiBhZGRQcm9kdWN0VGV4dCgkKHRoaXMpKSxcbiAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUNvb2tpZShjb29raWVOYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNvb2tpZShjb29raWVOYW1lLCBjb29raWVDb250ZW50LCBkdXJhdGlvbk1pbnV0ZXMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaXRlbU51bWJlcnMgPSBcIlwiIDtcbiAgICAgICAgICAgIGlmIChpc05hTihpdGVtTm9NdWx0aUFuc2Nlc3RvcnMpKSB7XG4gICAgICAgICAgICBcdGl0ZW1OdW1iZXJzID0gaXRlbU5vTXVsdGlBbnNjZXN0b3JzLnNwbGl0KFwiIV9cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGVmYXVsdENhdGVnb3J5ID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChpdGVtTnVtYmVycy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBcdGRlZmF1bHRDYXRlZ29yeSA9IFwiJmRlZmF1bHRDYXRlZ29yeT1cIiArIGl0ZW1OdW1iZXJzWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmksXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2l0ZW1OdW1iZXInOiBpdGVtbm9cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXHR2YXIgcHJvZHVjdEltYWdlVXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgXHRpZiAoZGF0YS5pdGVtc1swXS5zcmMuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGxhc3RTbGFzaEluZGV4ID0gZGF0YS5pdGVtc1swXS5zcmMubGFzdEluZGV4T2YoJy8nKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBkZWZJbWdGcm9tVXJsID0gZGF0YS5pdGVtc1swXS5zcmMuc2xpY2UobGFzdFNsYXNoSW5kZXggKyAxKTtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBkb21haW5TdGFydEluZGV4ID0gZGF0YS5pdGVtc1swXS5zcmMuaW5kZXhPZihcIi8vXCIpICsgMjtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBkZWZJbWdEb21haW5Gcm9tVXJsID0gZGF0YS5pdGVtc1swXS5zcmMuc2xpY2UoZG9tYWluU3RhcnRJbmRleCwgbGFzdFNsYXNoSW5kZXgpXG5cdFx0XHRcdFx0XHRcdFx0bGFzdFNsYXNoSW5kZXggPSBkZWZJbWdEb21haW5Gcm9tVXJsLmxhc3RJbmRleE9mKCcvJyk7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZGVmSW1nRGFtTmFtZUZyb21VcmwgPSBkZWZJbWdEb21haW5Gcm9tVXJsLnNsaWNlKGxhc3RTbGFzaEluZGV4ICsgMSk7XG5cdFx0XHRcdFx0XHRcdFx0aWYoZGF0YS5pdGVtc1swXS5pc05ldylcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXHR7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdHByb2R1Y3RJbWFnZVVybCA9IGNvbW1vbl9nYWxsZXJ5TmV3UHJvZHVjdFVybC5yZXBsYWNlKFwiezB9XCIsZGVmSW1nRnJvbVVybCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFx0fWVsc2V7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRwcm9kdWN0SW1hZ2VVcmwgPSBjb21tb25fZ3JpZEltYWdlVXJsLnJlcGxhY2UoXCJ7MH1cIixkZWZJbWdGcm9tVXJsKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qY2hlY2tpbmcgREFNIG5hbWUsIGlmIERBTSBuYW1lIGlzIGtvaGxlcmNoaW5hIHJlcGxhY2luZyBEQU0gbmFtZXMgd2l0aCBQQVdFQiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBwcm9kdWN0X3NyYyBEQU0gdG8gcmVtYWluIGFzIGtvaGxlcmNoaW5hIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRlZkltZ0RhbU5hbWVGcm9tVXJsID09PSBcImtvaGxlcmNoaW5hXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdEltYWdlVXJsID0gY2hhbmdlVXJsRGFtKGRlZkltZ0RvbWFpbkZyb21VcmwsbGFzdFNsYXNoSW5kZXgscHJvZHVjdEltYWdlVXJsLFwiUEFXRUJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SW1hZ2VVcmwgPSBwcm9kdWN0SW1hZ2VVcmwucmVwbGFjZUFsbChcIntkb21haW59XCIsIGRlZkltZ0RvbWFpbkZyb21VcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SW1hZ2VVcmwgPSBwcm9kdWN0SW1hZ2VVcmwucmVwbGFjZUFsbChcIntkYW19XCIsIGRlZkltZ0RhbU5hbWVGcm9tVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFx0aWYoZGF0YS5pdGVtc1swXS5pc05ldylcblx0ICAgICAgICAgICAgICAgICAgICAgICAgXHR7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRwcm9kdWN0SW1hZ2VVcmwgPSBncmlkSW1hZ2VOZXdQcm9kdWN0VXJsLnJlcGxhY2UoXCJ7MH1cIixkYXRhLml0ZW1zWzBdLnNyYyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFx0fWVsc2V7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRwcm9kdWN0SW1hZ2VVcmwgPSBncmlkSW1hZ2VQcm9kdWN0VXJsLnJlcGxhY2UoXCJ7MH1cIixkYXRhLml0ZW1zWzBdLnNyYyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIFx0fVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByaWNlVmF0ID0gJCgnI3ByaWNlLXZhdCcpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtdWx0aXBsZVZhbHVlID0gJCgnI211bHRpcGx5LXZhbHVlJykudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2R1Y3RQcmljZSA9IGRhdGEuaXRlbXNbMF0ucHJvZHVjdFByaWNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb3VuZFByaWNlID0gTWF0aC5yb3VuZChwcm9kdWN0UHJpY2UgKiBwcmljZVZhdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFByaWNlID0gKHJvdW5kUHJpY2UgKiBtdWx0aXBsZVZhbHVlKS50b0xvY2FsZVN0cmluZygnZW4tVVMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFx0dmFyIG11bHRpQW5jZXN0b3JlZmF1bHRDYXRlZ29yeURhdGEgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgXHRtdWx0aUFuY2VzdG9yZWZhdWx0Q2F0ZWdvcnlEYXRhID0gXCIgZGF0YS1wcm9kdWN0LWl0ZW1uby1tdWx0aWFuc2Nlc3RvcnM9XFxcIlwiKyBpdGVtTm9NdWx0aUFuc2Nlc3RvcnMgKyBcIlxcXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGFyZVByaWNlID0gY3VycmVuY3lDb2RlICYmIGRhdGEuaXRlbXNbMF0ucHJvZHVjdFByaWNlICYmIGRhdGEuaXRlbXNbMF0ucHJvZHVjdFByaWNlLmxlbmd0aCA+IDAgPyBcIjxzcGFuIGNsYXNzPVxcXCJrb2gtY29tcGFyZS1wcmljZVxcXCI+XCIrY3VycmVuY3lDb2RlK1wiIFwiKyBwcm9kdWN0UHJpY2UgKyBcIjwvc3Bhbj48L2E+XCIgOiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgXHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbERhdGEgPSBcIjxkaXYgY2xhc3M9XFxcImtvaC1jb21wYXJlLWl0ZW1cXFwiIGlkPVxcXCJcIiArIGl0ZW1ubyArIFwiXFxcIj48YSBocmVmPVxcXCJcIiArIHByb2R1Y3REZXRhaWxzbGluayArIFwiL1wiICsgZGF0YS5pdGVtc1swXS5pdGVtTnVtYmVyICsgXCIvP3NrdWlkPVwiKyBkYXRhLml0ZW1zWzBdLmRlZmF1bHRTa3UgKyBkZWZhdWx0Q2F0ZWdvcnkgKyBcIlxcXCIgPjxpbWcgY2xhc3M9J2tvaC1jb21wYXJlLWltYWdlJyBzcmM9J1wiK3Byb2R1Y3RJbWFnZVVybCtcIicgYWx0PScnIGhlaWdodD0nMTAwJyB3aWR0aD0nNjgnPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxEYXRhICs9IFwiPC9icj48c3BhbiBjbGFzcz1cXFwia29oLWNvbXBhcmUtbmFtZVxcXCI+PHNwYW4gY2xhc3M9XFxcImtvaC1wcm9kdWN0LWZhbWlseVxcXCI+XCIgKyBkYXRhLml0ZW1zWzBdLmZhbWlseSArIFwiPC9zcGFuPlwiICsgZGF0YS5pdGVtc1swXS5kZXNjcmlwdGlvbiArIFwiPC9zcGFuPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxEYXRhICs9IFwiPC9icj48c3BhbiBjbGFzcz1cXFwia29oLWNvbXBhcmUtc2t1XFxcIj5LLVwiICsgZGF0YS5pdGVtc1swXS5kZWZhdWx0U2t1ICsgXCI8L3NwYW4+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbERhdGEgKz0gY29tcGFyZVByaWNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxEYXRhICs9IFwiPC9icj48YnV0dG9uIGNsYXNzPVxcXCJrb2gtY29tcGFyZS1yZW1vdmVcXFwiIGRhdGEtcHJvZHVjdC1pdGVtbm89XFxcIlwiICsgZGF0YS5pdGVtc1swXS5pdGVtTnVtYmVyICsgXCJcXFwiXCIgKyBtdWx0aUFuY2VzdG9yZWZhdWx0Q2F0ZWdvcnlEYXRhICsgXCI+UmVtb3ZlIFByb2R1Y3Q8L2J1dHRvbj48L2Rpdj5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdHMgPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGFyZUxpbmsgPSAkKCcjY29tcGFyZUxpbmsnKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWxNYWluRGF0YSA9IFwiPGlucHV0IGlkPVxcXCJjb21wYXJlLWNvb2tpZS1pbmZvXFxcIiB0eXBlPVxcXCJoaWRkZW5cXFwiIGRhdGEtY29va2llLW5hbWU9XFxcIlwiICsgY29va2llTmFtZSArIFwiXFxcIiBkYXRhLWNvb2tpZS1kdXJhdGlvbj1cXFwiMTVcXFwiIGRhdGEtY29va2llLW1heC1pdGVtcy1udW1iZXI9XFxcIjFcXFwiIGRhdGEtY29va2llLW1hXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ4LWl0ZW1zLW1lc3NhZ2U9XFxcIk9ubHkgdGhyZWUgY29tcGFyaXNvbiBwcm9kdWN0cyBhcmUgYWxsb3dlZC4gUGxlYXNlIHJlbW92ZSBvbmUgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbiBvcmRlciB0byBhbGxvdyBhZGRpbmcgdGhpcyBuZXcgY29tcGFyZSB0byB0aGUgbGlzdC5cXFwiIGRhdGEtY29va2llLWRpZmYtY2F0ZWdvXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyeS1tZXNzYWdlPVxcXCJZb3UgY2FuIG9ubHkgY29tcGFyZSBwcm9kdWN0cyBmcm9tIHRoZSBzYW1lIGNhdGVnb3J5LiBBZGRpbmcgdGhpcyBwXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyb2R1Y3Qgd2lsbCBjbGVhciB5b3VyIGN1cnJlbnQgY29tcGFyaXNvbi5cXFwiIGRhdGEtY29va2llLWNhdGVnb3J5PVxcXCJcIiArIGRlZmF1bHRDYXRlZ29yeUtleSArIFwiXFxcIiBkYXRhLWNvb2tpZS1wcm9kdWN0X2NvdW50PVxcXCJjb29raWVQcm9kdWN0Q291bnRcXFwiPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sTWFpbkRhdGEgKz0gXCI8ZGl2IGNsYXNzPVxcXCJjLWtvaC1jb21wYXJlLXBhbmVsXFxcIj48ZGl2IGNsYXNzPVxcXCJrb2gtY29tcGFyZS1oZWFkZXJcXFwiPjxzcGFuIGNsYXNzXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI9XFxcImtvaC1jb21wYXJlLXRpdGxlXFxcIj5cIisgY29tcGFyZVBhbmVsUHJvZHVjdHMgK1wiPC9zcGFuPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sTWFpbkRhdGEgKz0gXCI8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImtvaC1jb21wYXJlLXRvZ2dsZSBvcGVuXFxcIiBvbmNsaWNrPVxcXCIkKCcua29oLWNvbXBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFyZS10b2dnbGUnKS50b2dnbGVDbGFzcygnb3BlbicpOyQoJy5rb2gtY29tcGFyZS1pdGVtcycpLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XFxcIj5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlNob3cvSGlkZTwvYnV0dG9uPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sTWFpbkRhdGEgKz0gXCI8YSBocmVmPVxcXCJcXFwiIGRhdGEtbGlzdGluZy1wYWdlLXVybCA9IFxcXCJcIiArIHdpbmRvdy5sb2NhdGlvbi5ocmVmICsgXCJcXFwiIGRhdGEtY29tcGFyZS1saW5rID0gXFxcIlwiICsgY29tcGFyZUxpbmsgKyBcIlxcXCIgY2xhc3M9XFxcImtvaC1jb21wYXJlLWxpbmsgYnRuLS1wcmltYXJ5IGZ1bGwtd2lkdGgtc20gbWFyZy1iLTEwLXNtIGFjdGl2ZVxcXCI+XCIrY29tcGFyZUJ1dHRvbkxhYmxlK1wiPC9hPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sTWFpbkRhdGEgKz0gXCI8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImtvaC1jb21wYXJlLWNsZWFyXFxcIj5cIitjb21wYXJlQ2xlYXJSZXN1bHRzK1wiPC9idXR0b24+PC9kaXY+XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPVxcXCJrb2gtY29tcGFyZS1pdGVtc1xcXCI+PC9kaXY+PC9kaXY+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjY29tcGFyZVBhbmVsXCIpLmh0bWwoaHRtbE1haW5EYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sRGF0YSArPSBcIjxkaXYgY2xhc3M9XFxcImtvaC1jb21wYXJlLWl0ZW1cXFwiPjxzcGFuIGNsYXNzPVxcXCJrb2gtY29tcGFyZS1hZGQtYmxhbmsgY29tcGFyZS1hZGQtXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZW1vXFxcIj4yPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XFxcImtvaC1jb21wYXJlLWl0ZW1cXFwiPjxzcGFuIGNsYXNzPVxcXCJrb2gtY29tcGFyZS1hXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZC1ibGFuayBjb21wYXJlLWFkZC1kZW1vXFxcIj4zPC9zcGFuPjwvZGl2PlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLWl0ZW1zXCIpLmh0bWwoaHRtbERhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1pdGVtc1wiKS5hZGRDbGFzcyhcIm9wZW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gcHJvZHVjdHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29va2llc1ZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9kdWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29va2llc1ZhbHVlID0gcHJvZHVjdHNbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1pdGVtc1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZHJlbigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmxhc3QoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIua29oLWNvbXBhcmUtaXRlbXNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGRyZW4oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5sYXN0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxEYXRhICs9IFwiPGRpdiBjbGFzcz1cXFwia29oLWNvbXBhcmUtaXRlbVxcXCI+PHNwYW4gY2xhc3M9XFxcImtvaC1jb21wYXJlLWFkZC1ibGFuayBjb21wYXJlLWFkZC1cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZW1vXFxcIj4zPC9zcGFuPjwvZGl2PlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1pdGVtc1wiKS5hcHBlbmQoaHRtbERhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIua29oLWNvbXBhcmUtaXRlbXNcIikuYWRkQ2xhc3MoXCJvcGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIua29oLWNvbXBhcmUtaXRlbXNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGRyZW4oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5sYXN0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLWl0ZW1zXCIpLmFwcGVuZChodG1sRGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1pdGVtc1wiKS5hZGRDbGFzcyhcIm9wZW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS10b2dnbGVcIikuYWRkQ2xhc3MoXCJvcGVuXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1pdGVtc1wiKS5hZGRDbGFzcyhcIm9wZW5cIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFsZXJ0KFwiZmFpbGVkXCIpO1xuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIC8qICQoXCIua29oLWNvbXBhcmUtaXRlbXNcIikuYWRkQ2xhc3MoXCJvcGVuXCIpO1xuICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS10b2dnbGVcIikuYWRkQ2xhc3MoXCJvcGVuXCIpLCAkKFwiLmtvaC1jb21wYXJlLWl0ZW1zXCIpLmFkZENsYXNzKFwib3BlblwiKSwgcmVsb2FkTW9kYWwoKSovXG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChcImJvZHlcIikub24oXCJjbGlja1wiLCBcIi5rb2gtY29tcGFyZS1yZW1vdmVzXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciB1cmkgPSAkKHRoaXMpLmRhdGEoXCJocmVmXCIpLFxuICAgICAgICAgICAgICAgIGl0ZW1ubyA9ICQodGhpcykuZGF0YShcInByb2R1Y3QtaXRlbW5vXCIpLFxuICAgICAgICAgICAgICAgIGl0ZW1NdWx0aUFuY2VzdG9ycyA9ICQodGhpcykuZGF0YShcInByb2R1Y3QtaXRlbW5vLW11bHRpYW5zY2VzdG9yc1wiKSxcbiAgICAgICAgICAgICAgICBjb29raWVOYW1lID0gJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtbmFtZVwiKSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbk1pbnV0ZXMgPSAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1kdXJhdGlvblwiKTtcbiAgICAgICAgICAgIC8vICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLW1heC1pdGVtcy1udW1iZXJcIiksXG4gICAgICAgICAgICAvLyAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1tYXgtaXRlbXMtbWVzc2FnZVwiKSxcbiAgICAgICAgICAgIC8vICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLWRpZmYtY2F0ZWdvcnktbWVzc2FnZVwiKTtcbiAgICAgICAgICAgIHJlbW92ZVByb2R1Y3RUZXh0KCQodGhpcykpO1xuICAgICAgICAgICAgLy8kKCQoXCIucmVtb3ZlX1wiK2l0ZW1ubykpLmNsb3Nlc3QoXCIua29oLXByb2R1Y3QtdG9vbHNcIikucmVtb3ZlQ2xhc3MoXCJwcm9kdWN0LWFkZFxuICAgICAgICAgICAgLy9lZFwiKTtcbiAgICAgICAgICAgIHZhciBjb29raWVDb250ZW50LFxuICAgICAgICAgICAgICAgIGNvb2tpZSA9IGdldENvb2tpZShjb29raWVOYW1lKTtcbiAgICAgICAgICAgIGlmIChudWxsID09PSBjb29raWUgfHwgXCJcIiA9PT0gY29va2llKVxuICAgICAgICAgICAgICAgIHJldHVybiB2b2lkICQoXCIuYy1rb2gtY29tcGFyZS1wYW5lbFwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHZhciBwcm9kdWN0cyxcbiAgICAgICAgICAgICAgICB2YWx1ZXMgPSBjb29raWUuc3BsaXQoXCIuXCIpLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gdmFsdWVzWzBdO1xuICAgICAgICAgICAgdmFsdWVzLmxlbmd0aCA+IDEgJiYgKHByb2R1Y3RzID0gdmFsdWVzWzFdLnNwbGl0KFwifFwiKSk7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwcm9kdWN0cy5pbmRleE9mKGl0ZW1uby50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGlmIChpdGVtTXVsdGlBbmNlc3RvcnMgIT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgIFx0aW5kZXggPSBwcm9kdWN0cy5pbmRleE9mKGl0ZW1NdWx0aUFuY2VzdG9ycy50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmRleCA8IDApe1xuICAgICAgICAgICAgXHRyZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvZHVjdHMuc3BsaWNlKGluZGV4LCAxKSwgY29va2llQ29udGVudCA9IGNhdGVnb3J5ICsgXCIuXCIgKyBwcm9kdWN0cy5qb2luKFwifFwiKSwgZGVsZXRlQ29va2llKGNvb2tpZU5hbWUpLCAhKHByb2R1Y3RzLmxlbmd0aCA+IDApKVxuICAgICAgICAgICAgICAgIHJldHVybiAkKFwiLmMta29oLWNvbXBhcmUtcGFuZWxcIikucmVtb3ZlKCksXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUNvb2tpZShjb29raWVOYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgdm9pZCBjcmVhdGVDb29raWUoY29va2llTmFtZSwgXCJcIiwgZHVyYXRpb25NaW51dGVzKTtcbiAgICAgICAgICAgIGNyZWF0ZUNvb2tpZShjb29raWVOYW1lLCBjb29raWVDb250ZW50LCBkdXJhdGlvbk1pbnV0ZXMpO1xuICAgICAgICAgICAgdmFyIGNvdW50ID0gcHJvZHVjdHMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGNvb2tpZXNWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29va2llc1ZhbHVlID0gcHJvZHVjdHNbaV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoXCIjXCIgKyBpdGVtbm8gKyBcIlwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IHByb2R1Y3RzLmxlbmd0aDtcbiAgICAgICAgICAgICQoXCIuY29tcGFyZS1hZGQtZGVtb1wiKVxuICAgICAgICAgICAgICAgIC5wYXJlbnQoKVxuICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcbiAgICAgICAgICAgIGlmIChjb3VudCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGh0bWxEYXRhID0gXCI8ZGl2IGNsYXNzPVxcXCJrb2gtY29tcGFyZS1pdGVtXFxcIj48c3BhbiBjbGFzcz1cXFwia29oLWNvbXBhcmUtYWRkLWJsYW5rIGNvbXBhcmUtYWRkLVwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJkZW1vXFxcIj4yPC9zcGFuPjwvZGl2PlwiO1xuICAgICAgICAgICAgICAgIGh0bWxEYXRhICs9IFwiPGRpdiBjbGFzcz1cXFwia29oLWNvbXBhcmUtaXRlbVxcXCI+PHNwYW4gY2xhc3M9XFxcImtvaC1jb21wYXJlLWFkZC1ibGFuayBjb21wYXJlLWFkZC1cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiZGVtb1xcXCI+Mzwvc3Bhbj48L2Rpdj5cIjtcbiAgICAgICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLWl0ZW1zXCIpLmFwcGVuZChodG1sRGF0YSk7XG4gICAgICAgICAgICAgICAgLy8kKFwiLmtvaC1jb21wYXJlLXRvZ2dsZVwiKS5hZGRDbGFzcyhcIm9wZW5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY291bnQgPT0gMikge1xuICAgICAgICAgICAgICAgIHZhciBodG1sRGF0YSA9IFwiPGRpdiBjbGFzcz1cXFwia29oLWNvbXBhcmUtaXRlbVxcXCI+PHNwYW4gY2xhc3M9XFxcImtvaC1jb21wYXJlLWFkZC1ibGFuayBjb21wYXJlLWFkZC1cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiZGVtb1xcXCI+Mzwvc3Bhbj48L2Rpdj5cIjtcbiAgICAgICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLWl0ZW1zXCIpLmFwcGVuZChodG1sRGF0YSk7XG4gICAgICAgICAgICAgICAgLy8kKFwiLmtvaC1jb21wYXJlLXRvZ2dsZVwiKS5hZGRDbGFzcyhcIm9wZW5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoXCIjY29tcGFyZVBhbmVsXCIpLm9uKFwiY2xpY2tcIiwgXCIua29oLWNvbXBhcmUtcmVtb3ZlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciB1cmkgPSAkKHRoaXMpLmF0dHIoXCJocmVmXCIpLFxuICAgICAgICAgICAgICAgIGl0ZW1ubyA9ICQodGhpcykuZGF0YShcInByb2R1Y3QtaXRlbW5vXCIpLFxuICAgICAgICAgICAgICAgIGl0ZW1NdWx0aUFuY2VzdG9ycyA9ICQodGhpcykuZGF0YShcInByb2R1Y3QtaXRlbW5vLW11bHRpYW5zY2VzdG9yc1wiKSxcbiAgICAgICAgICAgICAgICBjb29raWVOYW1lID0gJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtbmFtZVwiKSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbk1pbnV0ZXMgPSAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1kdXJhdGlvblwiKTtcbiAgICAgICAgICAgIC8vICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLW1heC1pdGVtcy1udW1iZXJcIiksXG4gICAgICAgICAgICAvLyAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1tYXgtaXRlbXMtbWVzc2FnZVwiKSxcbiAgICAgICAgICAgIC8vICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLWRpZmYtY2F0ZWdvcnktbWVzc2FnZVwiKTtcbiAgICAgICAgICAgIHZhciBlbGVtID0gJChcIi5yZW1vdmVfXCIgKyBpdGVtbm8pWzBdO1xuICAgICAgICAgICAgcmVtb3ZlUHJvZHVjdFRleHQoJChlbGVtKSk7XG4gICAgICAgICAgICAkKCQoXCIucmVtb3ZlX1wiICsgaXRlbW5vKSlcbiAgICAgICAgICAgICAgICAuY2xvc2VzdChcIi5rb2gtcHJvZHVjdC10b29sc1wiKVxuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcInByb2R1Y3QtYWRkZWRcIik7XG4gICAgICAgICAgICB2YXIgY29va2llQ29udGVudCxcbiAgICAgICAgICAgICAgICBjb29raWUgPSBnZXRDb29raWUoY29va2llTmFtZSk7XG4gICAgICAgICAgICBpZiAobnVsbCA9PT0gY29va2llIHx8IFwiXCIgPT09IGNvb2tpZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCAkKFwiLmMta29oLWNvbXBhcmUtcGFuZWxcIikucmVtb3ZlKCk7XG4gICAgICAgICAgICB2YXIgcHJvZHVjdHMsXG4gICAgICAgICAgICAgICAgdmFsdWVzID0gY29va2llLnNwbGl0KFwiLlwiKSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeSA9IHZhbHVlc1swXTtcbiAgICAgICAgICAgIHZhbHVlcy5sZW5ndGggPiAxICYmIChwcm9kdWN0cyA9IHZhbHVlc1sxXS5zcGxpdChcInxcIikpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gcHJvZHVjdHMuaW5kZXhPZihpdGVtbm8udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBpZiAoaXRlbU11bHRpQW5jZXN0b3JzICE9IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICBcdGluZGV4ID0gcHJvZHVjdHMuaW5kZXhPZihpdGVtTXVsdGlBbmNlc3RvcnMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvZHVjdHMuc3BsaWNlKGluZGV4LCAxKSwgY29va2llQ29udGVudCA9IGNhdGVnb3J5ICsgXCIuXCIgKyBwcm9kdWN0cy5qb2luKFwifFwiKSwgZGVsZXRlQ29va2llKGNvb2tpZU5hbWUpLCAhKHByb2R1Y3RzLmxlbmd0aCA+IDApKVxuICAgICAgICAgICAgICAgIHJldHVybiAkKFwiLmMta29oLWNvbXBhcmUtcGFuZWxcIikucmVtb3ZlKCksXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUNvb2tpZShjb29raWVOYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgdm9pZCBjcmVhdGVDb29raWUoY29va2llTmFtZSwgXCJcIiwgZHVyYXRpb25NaW51dGVzKTtcbiAgICAgICAgICAgIGNyZWF0ZUNvb2tpZShjb29raWVOYW1lLCBjb29raWVDb250ZW50LCBkdXJhdGlvbk1pbnV0ZXMpO1xuICAgICAgICAgICAgdmFyIGNvdW50ID0gcHJvZHVjdHMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGNvb2tpZXNWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29va2llc1ZhbHVlID0gcHJvZHVjdHNbaV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoXCIjXCIgKyBpdGVtbm8gKyBcIlwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IHByb2R1Y3RzLmxlbmd0aDtcbiAgICAgICAgICAgICQoXCIuY29tcGFyZS1hZGQtZGVtb1wiKVxuICAgICAgICAgICAgICAgIC5wYXJlbnQoKVxuICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcbiAgICAgICAgICAgIGlmIChjb3VudCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGh0bWxEYXRhID0gXCI8ZGl2IGNsYXNzPVxcXCJrb2gtY29tcGFyZS1pdGVtXFxcIj48c3BhbiBjbGFzcz1cXFwia29oLWNvbXBhcmUtYWRkLWJsYW5rIGNvbXBhcmUtYWRkLVwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJkZW1vXFxcIj4yPC9zcGFuPjwvZGl2PlwiO1xuICAgICAgICAgICAgICAgIGh0bWxEYXRhICs9IFwiPGRpdiBjbGFzcz1cXFwia29oLWNvbXBhcmUtaXRlbVxcXCI+PHNwYW4gY2xhc3M9XFxcImtvaC1jb21wYXJlLWFkZC1ibGFuayBjb21wYXJlLWFkZC1cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiZGVtb1xcXCI+Mzwvc3Bhbj48L2Rpdj5cIjtcbiAgICAgICAgICAgICAgICAkKFwiLmtvaC1jb21wYXJlLWl0ZW1zXCIpLmFwcGVuZChodG1sRGF0YSk7XG4gICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS10b2dnbGVcIikuYWRkQ2xhc3MoXCJvcGVuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvdW50ID09IDIpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbERhdGEgPSBcIjxkaXYgY2xhc3M9XFxcImtvaC1jb21wYXJlLWl0ZW1cXFwiPjxzcGFuIGNsYXNzPVxcXCJrb2gtY29tcGFyZS1hZGQtYmxhbmsgY29tcGFyZS1hZGQtXCIgK1xuICAgICAgICAgICAgICAgICAgICBcImRlbW9cXFwiPjM8L3NwYW4+PC9kaXY+XCI7XG4gICAgICAgICAgICAgICAgJChcIi5rb2gtY29tcGFyZS1pdGVtc1wiKS5hcHBlbmQoaHRtbERhdGEpO1xuICAgICAgICAgICAgICAgICQoXCIua29oLWNvbXBhcmUtdG9nZ2xlXCIpLmFkZENsYXNzKFwib3BlblwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcblxuICAgICAgICAkKFwiI2NvbXBhcmVQYW5lbFwiKS5vbihcImNsaWNrXCIsIFwiLmtvaC1jb21wYXJlLWNsZWFyXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgJChcIi5jLWtvaC1jb21wYXJlLXBhbmVsXCIpLnJlbW92ZSgpLFxuICAgICAgICAgICAgICAgICQoXCIucHJvZHVjdC1hZGRlZFwiKS5yZW1vdmVDbGFzcyhcInByb2R1Y3QtYWRkZWRcIik7XG4gICAgICAgICAgICB2YXIgY29va2llTmFtZSA9ICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLW5hbWVcIiksXG4gICAgICAgICAgICAgICAgZHVyYXRpb25NaW51dGVzID0gJChcIiNjb21wYXJlLWNvb2tpZS1pbmZvXCIpLmRhdGEoXCJjb29raWUtZHVyYXRpb25cIik7XG4gICAgICAgICAgICBkZWxldGVDb29raWUoY29va2llTmFtZSksXG4gICAgICAgICAgICAgICAgY3JlYXRlQ29va2llKGNvb2tpZU5hbWUsIFwiXCIsIGR1cmF0aW9uTWludXRlcyksXG4gICAgICAgICAgICAgICAgcmVsb2FkTW9kYWwoKTtcbiAgICAgICAgICAgIHZhciBjb29raWVQcm9kdWN0Q291bnQgPSAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1wcm9kdWN0X2NvdW50XCIpLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uTWludXRlcyA9ICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLWR1cmF0aW9uXCIpO1xuICAgICAgICAgICAgZGVsZXRlQ29va2llKGNvb2tpZVByb2R1Y3RDb3VudCk7XG4gICAgICAgICAgICBjcmVhdGVDb29raWUoY29va2llUHJvZHVjdENvdW50LCBcIlwiLCBkdXJhdGlvbk1pbnV0ZXMpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKFwiI2NvbXBhcmVQYW5lbFwiKS5vbihcImNsaWNrXCIsIFwiLmtvaC1jb21wYXJlLWxpbmtcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIGNvbXBhcmVMaW5rVXJsID0gJCh0aGlzKS5kYXRhKFwiY29tcGFyZS1saW5rXCIpO1xuICAgICAgICAgICAgdmFyIGxpc3RpbmdQYWdlVXJsID0gJCh0aGlzKS5kYXRhKFwibGlzdGluZy1wYWdlLXVybFwiKTtcbiAgICAgICAgICAgIGNyZWF0ZUNvb2tpZSgnbGlzdGluZ1BhZ2VVcmwnLCBsaXN0aW5nUGFnZVVybCwgNSk7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGNvbXBhcmVMaW5rVXJsO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKFwiLmMta29oLWNvbXBhcmUtcHJvZHVjdHNcIikub24oXCJjbGlja1wiLCBcIi5rb2gtaGlzdG9yeS1wYWdlIGJ1dHRvblwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgbGlzdGluZ1BhZ2VVcmwgPSBnZXRDb29raWUoJ2xpc3RpbmdQYWdlVXJsJyk7XG4gICAgICAgICAgICBpZiAobnVsbCA9PT0gbGlzdGluZ1BhZ2VVcmwgfHwgXCJcIiA9PT0gbGlzdGluZ1BhZ2VVcmwpIHt9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbGlzdGluZ1BhZ2VVcmw7XG4gICAgICAgICAgICAgICAgLy9kZWxldGVDb29raWUoJ2xpc3RpbmdQYWdlVXJsJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoXCIuYy1rb2gtY29tcGFyZS1wcm9kdWN0c1wiKS5vbihcImNsaWNrXCIsIFwiLmtvaC1jb21wYXJlLXJlbW92ZS1tb2RhbFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJlbW92ZU1vZGFsUHJvZHVjdChldmVudCwgJCh0aGlzKSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChcIiNjb21wYXJlLXByb2R1Y3QtZGV0YWlsc1wiKS5vbihcImNsaWNrXCIsIFwiLmtvaC1jb21wYXJlLXJlbW92ZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGFkZCBjb21wYXJlIGRldGFpbHMgIGNsb3NlIGJ1dHRvbi5cbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpdGVtbm8gPSAkKHRoaXMpLmRhdGEoXCJwcm9kdWN0LWl0ZW1ub1wiKSxcbiAgICAgICAgICAgIFx0aXRlbU11bHRpQW5jZXN0b3JzID0gJCh0aGlzKS5kYXRhKFwicHJvZHVjdC1pdGVtbm8tbXVsdGlhbnNjZXN0b3JzXCIpLFxuICAgICAgICAgICAgICAgIGNvb2tpZU5hbWUgPSAkKFwiI2NvbXBhcmUtY29va2llLWluZm9cIikuZGF0YShcImNvb2tpZS1uYW1lXCIpLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uTWludXRlcyA9ICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLWR1cmF0aW9uXCIpO1xuICAgICAgICAgICAgdmFyIGNvb2tpZUNvbnRlbnQsXG4gICAgICAgICAgICAgICAgY29va2llID0gZ2V0Q29va2llKGNvb2tpZU5hbWUpO1xuICAgICAgICAgICAgaWYgKG51bGwgPT09IGNvb2tpZSB8fCBcIlwiID09PSBjb29raWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgJChcIi5jLWtvaC1jb21wYXJlLXBhbmVsXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgdmFyIHByb2R1Y3RzLFxuICAgICAgICAgICAgICAgIHZhbHVlcyA9IGNvb2tpZS5zcGxpdChcIi5cIiksXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSB2YWx1ZXNbMF07XG4gICAgICAgICAgICB2YWx1ZXMubGVuZ3RoID4gMSAmJiAocHJvZHVjdHMgPSB2YWx1ZXNbMV0uc3BsaXQoXCJ8XCIpKTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHByb2R1Y3RzLmluZGV4T2YoaXRlbW5vLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgaWYgKGl0ZW1NdWx0aUFuY2VzdG9ycyAhPSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgXHRpbmRleCA9IHByb2R1Y3RzLmluZGV4T2YoaXRlbU11bHRpQW5jZXN0b3JzLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb2R1Y3RzLnNwbGljZShpbmRleCwgMSksIGNvb2tpZUNvbnRlbnQgPSBjYXRlZ29yeSArIFwiLlwiICsgcHJvZHVjdHMuam9pbihcInxcIiksIGRlbGV0ZUNvb2tpZShjb29raWVOYW1lKSwgIShwcm9kdWN0cy5sZW5ndGggPiAwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmUoKSxcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ29va2llKGNvb2tpZU5hbWUpLFxuICAgICAgICAgICAgICAgICAgICB2b2lkIGNyZWF0ZUNvb2tpZShjb29raWVOYW1lLCBcIlwiLCBkdXJhdGlvbk1pbnV0ZXMpO1xuICAgICAgICAgICAgY3JlYXRlQ29va2llKGNvb2tpZU5hbWUsIGNvb2tpZUNvbnRlbnQsIGR1cmF0aW9uTWludXRlcyk7XG4gICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgLnBhcmVudCgpXG4gICAgICAgICAgICAgICAgLnBhcmVudCgpXG4gICAgICAgICAgICAgICAgLnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZXNob3dcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIChldmVudC5wZXJzaXN0ZWQgfHwgd2luZG93LnBlcmZvcm1hbmNlICYmIDIgPT0gd2luZG93LnBlcmZvcm1hbmNlLm5hdmlnYXRpb24udHlwZSkgJiYgIChpc0lFQnJvd3NlcigpKSAmJiBsb2NhdGlvbi5yZWxvYWQoKVxuICAgIH0sIGZhbHNlKSwge1xuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpbml0Q29tcG9uZW50cygpO1xuICAgICAgICAgICAgdmFyICRjb21wb25lbnRzID0gJChcIi5cIiArIGNvbXBvbmVudENsYXNzKTtcbiAgICAgICAgICAgIGluaXRDb21wYXJlUGFuZWwoJGNvbXBvbmVudHMpLFxuICAgICAgICAgICAgICAgIGluaXRDb21wYXJlTW9kYWwoJGNvbXBvbmVudHMpLFxuXHRcdFx0XHRpbml0Q29sb3JPdmVybGF5cygpO1xuICAgICAgICB9LFxuICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHt9XG4gICAgfVxuXG59KCk7XG5cbiQoZnVuY3Rpb24gKCkge1xuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZXhlY3V0ZXMgd2hlbiBIVE1MLURvY3VtZW50IGlzIGxvYWRlZCBhbmQgRE9NIGlzIHJlYWR5XG4gICAgICAgIGF4S09ILm1haW4uY29tcG9uZW50TWFuYWdlci5jb21wYXJlUGFuZWwuaW5pdGlhbGl6ZSgpO1xuICAgIH0pO1xuICAgICQod2luZG93KS5sb2FkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZXhlY3V0ZXMgYWZ0ZXIgdGhlIHdpbmRvdyBpcyBmdWxseSBsb2FkZWQsIGluY2x1ZGluZyBhbGwgaW1hZ2VzLCBldGMuXG4gICAgICAgIGF4S09ILm1haW4uY29tcG9uZW50TWFuYWdlci5jb21wYXJlUGFuZWwub25Mb2FkKCk7XG5cbiAgICAgICAgLy9tb3ZlIGNvbXBhcmUgcGFuZWwgZGl2IGludG8gdGhlIGhlYWRlciBmb3IgZml4ZWQgc2Nyb2xsXG4gICAgICAgIHZhciBjb21wYXJlSFRNTCA9ICQoJyNjb21wYXJlUGFuZWwnKTtcbiAgICAgICAgJChcIi5rb2gtZ2xvYmFsLW5hdmlnYXRpb24tY29tcG9uZW50c1wiKS5hcHBlbmQoY29tcGFyZUhUTUwpO1xuICAgIH0pO1xufSk7XG5cbiQoZG9jdW1lbnQpLm9uKFwib3BlbmVkXCIsIFwiLnJlbW9kYWxcIiwgZnVuY3Rpb24gKCkge1xuICAgIGFkanVzdFJvd0hlaWdodHMoKSxcbiAgICAgICAgJChcIi5jLWtvaC1icmFuZGluZy1iYXJcIikuYWRkQ2xhc3MoXCJwcmludC1oaWRkZW5cIiksXG4gICAgICAgICQoXCIjY29tcGFyZVBhbmVsXCIpLmFkZENsYXNzKFwicHJpbnQtaGlkZGVuXCIpLFxuICAgICAgICAkKFwiLmtvaC1wYWdlXCIpLmFkZENsYXNzKFwicHJpbnQtaGlkZGVuXCIpLFxuICAgICAgICAkKFwiLmMta29oLXByaW50Zm9vdGVyXCIpLmFkZENsYXNzKFwicHJpbnQtaGlkZGVuXCIpXG59KTtcblxuJChkb2N1bWVudCkub24oXCJjbG9zaW5nXCIsIFwiLnJlbW9kYWxcIiwgZnVuY3Rpb24gKCkge1xuICAgICQoXCIucHJpbnQtaGlkZGVuXCIpLnJlbW92ZUNsYXNzKFwicHJpbnQtaGlkZGVuXCIpXG59KTtcblxudmFyIGFkanVzdFJvd0hlaWdodHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG51bVJvd3MgPSAkKFwiLmtvaC1jb21wYXJlLWZlYXR1cmVzLWxpc3RcIikubGFzdCgpLmZpbmQoXCJsaVwiKS5sZW5ndGg7XG4gICAgbWF4Q2VsbEhlaWdodCA9IDA7XG4gICAgbnVtQ29scyA9ICQoXCIua29oLWNvbXBhcmUtZmVhdHVyZXMtbGlzdFwiKS5sZW5ndGg7XG4gICAgJHJvdyA9ICQoXCIucm93MFwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgbnVtUm93cyA+IGk7IGkrKylcbiAgICAgICAgJHJvdyA9ICQoXCIucm93XCIgKyBpKTtcbiAgICAkcm93LmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGNlbGwgPSAkKHRoaXMpO1xuICAgICAgICAkY2VsbC5oZWlnaHQoKSA+IG1heENlbGxIZWlnaHQgJiYgKG1heENlbGxIZWlnaHQgPSAkY2VsbC5oZWlnaHQoKSlcbiAgICB9KTtcbiAgICAkcm93LmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmhlaWdodChtYXhDZWxsSGVpZ2h0KVxuICAgIH0pO1xufTtcblxudmFyIGlzSUVCcm93c2VyID0gZnVuY3Rpb24gKCkge1xuXHRpZiAobmF2aWdhdG9yLmFwcE5hbWUgPT0gJ01pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlcicgfHwgICEhKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1RyaWRlbnQvKSB8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9ydjoxMS8pKSB8fCAodHlwZW9mICQuYnJvd3NlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiAkLmJyb3dzZXIubXNpZSA9PSAxKSlcblx0e1xuXHQgIHJldHVybiB0cnVlO1xuXHR9ZWxzZXtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cdFxuIiwiLypcbiAqIENvcHlyaWdodCDCqSAyMDAwLTIwMTcgS29obGVyIENvbXBhbnkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKi9cblxudmFyIGF4S09IID0gYXhLT0ggfHwge307XG52YXIgc21hbGxTY3JlZW5XaWR0aCA9IDc2ODtcblxuYXhLT0gubWFpbiA9IGF4S09ILm1haW4gfHwge307XG5cbmF4S09ILm1haW4uZm9vdGVyTWFuYWdlciA9IChmdW5jdGlvbigpIHtcblxudmFyIHNlbGVjdG9ycyA9IHtcbiAgICAvL2hhbWJ1cmdlciBpY29uXG4gICAgbmF2VG9nZ2xlOiBcIi5rb2gtcHJpbWFyeS1uYXYtdG9nZ2xlXCIsXG4gICAgLy9mb290ZXIgdWxcbiAgICBmb290ZXJMaXN0OiBcIi5rb2gtbmF2LWl0ZW1zXCIsXG4gICAgc29jaWFsSWNvbnM6IFwiLmtvaC1zb2NpYWwtbGlua3NcIixcbiAgICBmaW5kU3RvcmU6IFwiLmtvaC1maXhlZC1maW5kLXN0b3JlLWJ0blwiLFxuICAgIGNoYXRXaXRoVXM6IFwiLmtvaC1jaGF0LXdpdGgtdXNcIixcbiAgICB3aGF0c2FwcENoYXRCdG46IFwiLmtvaC13aGF0c0FwcC1idG5cIlxufTsgIFxuXG52YXIgJG5hdlRvZ2dsZSA9IG51bGw7XG52YXIgJGZvb3Rlckxpc3QgPSBudWxsO1xudmFyICRmb290ZXJOYXZJdGVtID0gbnVsbDtcbnZhciAkc29jaWFsTGlua0ljb25zID0gbnVsbDtcbnZhciAkZmluZFN0b3JlQnRuID0gbnVsbDtcbnZhciAkY2hhdEJ0biA9IG51bGw7XG52YXIgJHdoYXRzYXBwQnRuID0gbnVsbDtcblxuICAgIHZhciBpbml0Rm9vdGVyTmF2ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIExvY2F0ZSBhbGwgaW5zdGFuY2VzIG9mIHRoZSBGb290ZXIgTmF2IGNvbXBvbmVudFxuICAgICAgICB2YXIgJGNvbXBvbmVudHMgPSAkKFwiLmMta29oLWZvb3Rlci1uYXZcIik7XG4gICAgICAgICRuYXZUb2dnbGUgPSByZWR1Y2VUb0ZpcnN0KCQoc2VsZWN0b3JzLm5hdlRvZ2dsZSkpO1xuICAgICAgICAkZm9vdGVyTGlzdCA9IHJlZHVjZVRvRmlyc3QoJChzZWxlY3RvcnMuZm9vdGVyTGlzdCkpO1xuICAgICAgICAkZm9vdGVyTmF2SXRlbSA9ICRmb290ZXJMaXN0LmZpbmQoXCIua29oLW5hdi1zZWN0aW9uXCIpO1xuICAgICAgICAkc29jaWFsTGlua0ljb25zID0gcmVkdWNlVG9GaXJzdCgkKHNlbGVjdG9ycy5zb2NpYWxJY29ucykpO1xuICAgICAgICAkZmluZFN0b3JlQnRuID0gcmVkdWNlVG9GaXJzdCgkKHNlbGVjdG9ycy5maW5kU3RvcmUpKTtcbiAgICAgICAgJGNoYXRXaXRoVXMgPSByZWR1Y2VUb0ZpcnN0KCQoc2VsZWN0b3JzLmNoYXRXaXRoVXMpKTtcbiAgICAgICAgJHdoYXRzYXBwQnRuID0gcmVkdWNlVG9GaXJzdCgkKHNlbGVjdG9ycy53aGF0c2FwcENoYXRCdG4pKTtcblxuXG4gICAgICAgICRjb21wb25lbnRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBMb2NhdGUgdGhlIG1hc3RlciBuYXYgaXRlbXMgY29sbGVjdGlvblxuICAgICAgICAgICAgdmFyICRuYXZJdGVtc0NvbnRhaW5lciA9ICQodGhpcykuZmluZChcIi5rb2gtbmF2LWl0ZW1zXCIpO1xuXG4gICAgICAgICAgICAkbmF2SXRlbXNDb250YWluZXIuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBMb2NhdGUgYWxsIHRoZSBuYXYgc2VjdGlvbnMgYW5kIGFkZCBjbGljayBoYW5kbGluZyB0byBlYWNoXG4gICAgICAgICAgICAgICAgdmFyICRuYXZTZWN0aW9ucyA9ICQodGhpcykuY2hpbGRyZW4oXCIua29oLW5hdi1zZWN0aW9uXCIpO1xuXG4gICAgICAgICAgICAgICAgLy8gV2hhdCB3ZSdyZSBsb29raW5nIGZvciBpcyBhbGwgb2YgdGhlIGtvaC1uYXYtc2VjdGlvbi1pdGVtcyBlbGVtZW50cyB0aGF0XG4gICAgICAgICAgICAgICAgLy8gbGl2ZSBpbnNpZGUgc2VjdGlvbnMgaW4gb3VyIG1haW4gY29udGFpbmVyLiBUaGVzZSBhcmUgdGhlIHNpYmxpbmdzIHRoYXQgXG4gICAgICAgICAgICAgICAgLy8gc2hvdWxkIGNvbGxhcHNlIHdoZW4gb25lIG9mIHRoZW0gaXMgb3BlbmVkLlxuICAgICAgICAgICAgICAgIHZhciAkbmF2U2VjdGlvblRpdGxlc0NvbGxlY3Rpb24gPSAkbmF2U2VjdGlvbnMuY2hpbGRyZW4oXCIua29oLW5hdi1zZWN0aW9uLXRpdGxlXCIpO1xuICAgICAgICAgICAgICAgIHZhciAkbmF2U2VjdGlvbkl0ZW1zQ29sbGVjdGlvbiA9ICRuYXZTZWN0aW9ucy5jaGlsZHJlbihcIi5rb2gtbmF2LXNlY3Rpb24taXRlbXNcIik7XG5cbiAgICAgICAgICAgICAgICAvLyBGb3IgZWFjaCBuYXYgc2VjdGlvbiwgYWRkIGEgY2xpY2sgaGFuZGxlclxuICAgICAgICAgICAgICAgICRuYXZTZWN0aW9ucy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJG5hdlNlY3Rpb24gPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIG5hdiBzZWN0aW9uIHRpdGxlIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgdmFyICRuYXZTZWN0aW9uVGl0bGUgPSAkbmF2U2VjdGlvbi5jaGlsZHJlbihcIi5rb2gtbmF2LXNlY3Rpb24tdGl0bGVcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgbmF2IHNlY3Rpb24gaXRlbXMgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICB2YXIgJG5hdlNlY3Rpb25JdGVtcyA9ICRuYXZTZWN0aW9uVGl0bGUubmV4dChcIi5rb2gtbmF2LXNlY3Rpb24taXRlbXNcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZ2V0IHRoZSB2YXJpYWJsZXMgb3V0c2lkZSB0aGUgY2xpY2sgaGFuZGxlciBhbmQgcGFzcyB0aGVtIGluLCByYXRoZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhhbiBnZXR0aW5nIHRoZW0gaW4gdGhlIGNsaWNrIGhhbmRsZXIsIHRvIHJlZHVjZSBwYWdlIHByb2Nlc3NpbmcgKHN0cnVjdHVyZSBzdGF5c1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc2FtZSwgc28gbm8gcmVhc29uIHRvIGdyYWIgdGhlIGVsZW1lbnRzIG9uIGV2ZXJ5IGNsaWNrXG4gICAgICAgICAgICAgICAgICAgICRuYXZTZWN0aW9uVGl0bGUuY2xpY2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdlRhcmdldDogJG5hdlNlY3Rpb25JdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZTaWJsaW5nczogJG5hdlNlY3Rpb25JdGVtc0NvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2U2libGluZ1RpdGxlczogJG5hdlNlY3Rpb25UaXRsZXNDb2xsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHdoZXRoZXIgd2UncmUgYXQgbW9iaWxlIHNpemUuIElmIHNvLCB0b2dnbGUgdGhlIGFjdGl2ZSBjbGFzcy4gSWYgbm90LCBkbyBub3RoaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcmVhbGx5IGxpa2UgaGFyZC1jb2RpbmcgdGhlIHdpZHRoIGJyZWFrcG9pbnQgaGVyZSwgYnV0IGZvciBub3cgdGhpcyB3aWxsIGRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgOTgwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkbmF2VGFyZ2V0VGl0bGUgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJG5hdlRhcmdldCA9IGUuZGF0YS5uYXZUYXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkbmF2U2libGluZ3MgPSBlLmRhdGEubmF2U2libGluZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkbmF2U2libGluZ1RpdGxlcyA9IGUuZGF0YS5uYXZTaWJsaW5nVGl0bGVzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkbmF2VGFyZ2V0VGl0bGUuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhbHJlYWR5IG9wZW4sIGNsb3NlIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbmF2VGFyZ2V0VGl0bGUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG5hdlRhcmdldC5zbGlkZVVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBub3Qgb3BlbiwgY2xvc2UgYWxsIHNpYmxpbmdzLCBhbmQgb3BlbiBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG5hdlNpYmxpbmdUaXRsZXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG5hdlNpYmxpbmdzLnNsaWRlVXAoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG5hdlRhcmdldFRpdGxlLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRuYXZUYXJnZXQuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7IC8vIGVuZCBjbGlja1xuICAgICAgICAgICAgICAgIH0pOyAvLyBlbmQgbmF2U2VjdGlvbnMuZWFjaFxuICAgICAgICAgICAgfSk7IC8vIGVuZCBuYXZJdGVtc0NvbnRhaW5lci5lYWNoXG4gICAgICAgIH0pOyAvLyBlbmQgY29tcG9uZW50cy5lYWNoICAgICAgICBcbiAgICB9O1xuXG4gICAgdmFyIHJlZHVjZVRvRmlyc3QgPSBmdW5jdGlvbigkb2JqZWN0KSB7XG4gICAgICAgIC8vIEZvciB0aGUgZ2xvYmFsIG5hdiwgaWYgdGhlcmUgaXMgZXZlciBtb3JlIHRoYW4gb25lIG9mIGFuIG9iamVjdCwgaXQgd2lsbCBjYXVzZSBpc3N1ZXMuXG4gICAgICAgIC8vIFJlZHVjZSB0aGUgc2V0IHRvIGp1c3QgdGhlIGZpcnN0IG1hdGNoLCBhbmQgaGlkZSBhbnkgZXh0cmFzXG4gICAgICAgIHZhciAkZmlyc3RPYmplY3QgPSAkb2JqZWN0LmZpcnN0KCk7XG4gICAgICAgIGlmICgkb2JqZWN0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICRvYmplY3Quc2xpY2UoMSkuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkZmlyc3RPYmplY3Q7XG4gICAgfTtcblxuICAgIHZhciBzdHlsZUZvb3RlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZigkKHdpbmRvdykud2lkdGgoKSA8IHNtYWxsU2NyZWVuV2lkdGgpIHtcbiAgICAgICAgICAgICQoJGZvb3Rlck5hdkl0ZW0pLmxhc3QoKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgICAgICQoJHNvY2lhbExpbmtJY29ucykuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xuICAgICAgICAgICAgJCgkZmluZFN0b3JlQnRuKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgICAgICQoJGNoYXRCdG4pLmNzcyhcImJvdHRvbVwiLCBcIjIwcHhcIik7XG4gICAgICAgICAgICAkKCR3aGF0c2FwcEJ0bikuY3NzKFwiYm90dG9tXCIsIFwiMjBweFwiKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgJCgkZm9vdGVyTmF2SXRlbSkubGFzdCgpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICAgICAgICAgICQoJHNvY2lhbExpbmtJY29ucykuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICBpZigkY2hhdFdpdGhVcy5sZW5ndGggPT09IDAgJiYgJHdoYXRzYXBwQnRuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICQoJGZpbmRTdG9yZUJ0bikuY3NzKFwiYm90dG9tXCIsIFwiMTJweFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cblxuICAgIC8qIERlZmluZXMgZnVuY3Rpb25zIGV4cG9zZWQgdGhyb3VnaCBmb290ZXJNYW5hZ2VyIG9iamVjdCAqL1xuICAgIHJldHVybiB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5pdEZvb3Rlck5hdigpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTb2NpYWxTdHlsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzdHlsZUZvb3RlcigpO1xuICAgICAgICB9XG4gICAgfTtcbn0pKCk7XG5cbiQoZnVuY3Rpb24oKSB7XG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGV4ZWN1dGVzIHdoZW4gSFRNTC1Eb2N1bWVudCBpcyBsb2FkZWQgYW5kIERPTSBpcyByZWFkeVxuICAgICAgICBheEtPSC5tYWluLmZvb3Rlck1hbmFnZXIuaW5pdCgpO1xuICAgICAgICBheEtPSC5tYWluLmZvb3Rlck1hbmFnZXIuc2V0U29jaWFsU3R5bGUoKTtcblxuICAgICAgICAvLyBCYWNrIHRvIHRvcCBjb21tb24gYnV0dG9uXG4gICAgICAgIHZhciB0aHJvdHRsZVNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgXy50aHJvdHRsZShzY3JvbGxUb1RvcCwgMWUzKSksXG4gICAgICAgICAgICAgICAgJChcIiNiYWNrLXRvLXRvcFwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJChcImJvZHksaHRtbFwiKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogMFxuICAgICAgICAgICAgICAgICAgICB9LCA1MDApXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgc2Nyb2xsVG9Ub3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5zY3JvbGxUb3AoKSA+PSA1MDAgPyAkKFwiI2JhY2stdG8tdG9wXCIpLmNzcyhcIm9wYWNpdHlcIiwgMSkgOiAkKFwiI2JhY2stdG8tdG9wXCIpLmNzcyhcIm9wYWNpdHlcIiwgMClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICAgIHRocm90dGxlU2Nyb2xsKCk7XG4gICAgfSk7XG59KTsiLCIvKlxuICogQ29weXJpZ2h0IMKpIDIwMDAtMjAxNyBLb2hsZXIgQ29tcGFueS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqL1xuXG52YXIgYXhLT0ggPSBheEtPSCB8fCB7fTtcbnZhciBtb2JpbGVTY3JlZW5XaWR0aCA9IDk4MDtcbnZhciBzbWFsbFNjcmVlbldpZHRoID0gNzY4O1xuXG5heEtPSC5tYWluID0gYXhLT0gubWFpbiB8fCB7fTtcblxuYXhLT0gubWFpbi5oZWFkZXJNYW5hZ2VyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGVjdG9ycyA9IHtcbiAgICAgICAgLy8gZ2xvYmFsIG5hdmlnYXRpb25cbiAgICAgICAgZ2xvYmFsTmF2OiBcIi5rb2gtZ2xvYmFsLW5hdmlnYXRpb25cIixcbiAgICAgICAgZ2xvYmFsTmF2Q29tcG9uZW50czogXCIua29oLWdsb2JhbC1uYXZpZ2F0aW9uLWNvbXBvbmVudHNcIixcbiAgICAgICAgZ2xvYmFsTmF2U3BhY2VyOiBcIi5rb2gtZ2xvYmFsLW5hdmlnYXRpb24tc3BhY2VyXCIsXG4gICAgICAgIC8vIGJyYW5kaW5nIGJhclxuICAgICAgICBicmFuZGluZ0JhcjogXCIuYy1rb2gtYnJhbmRpbmctYmFyXCIsXG4gICAgICAgIGJyYW5kQ29udGVudDogXCIua29oLWJyYW5kc1wiLFxuICAgICAgICAvLyBtZW51IGJhclxuICAgICAgICBtZW51QmFyOiBcIi5jLWtvaC1uYXZpZ2F0aW9uLWJhclwiLFxuICAgICAgICBtZW51QmFyTmF2OiBcIi5jLWtvaC1uYXZpZ2F0aW9uXCIsXG4gICAgICAgIG1lbnVCYXJTZWFyY2g6IFwiLmMta29oLXNpdGUtc2VhcmNoXCIsXG4gICAgICAgIG1lbnVCYXJDYXJ0OiBcIi5jLWtvaC1zaG9wcGluZy1jYXJ0LW1lbnVcIixcbiAgICAgICAgbWVudUJhck5hdkhlYWRlcjogXCIua29oLXByaW1hcnktbmF2ID4gLmtvaC1wcmltYXJ5LW5hdi1oZWFkZXJcIixcbiAgICAgICAgbWVudUJhck5hdk1lbnU6IFwiLmtvaC1wcmltYXJ5LW5hdiA+IC5rb2gtcHJpbWFyeS1uYXYtbWVudVwiLFxuICAgICAgICAvLyBiYWNrIHRvIHRvcCBidXR0b25cbiAgICAgICAgdG9wQnV0dG9uOiBcIi5rb2gtYmFjay10b3BcIlxuICAgIH07XG5cbiAgICB2YXIgJGdsb2JhbE5hdiA9IG51bGw7XG4gICAgdmFyICRnbG9iYWxOYXZNZW51ID0gbnVsbDtcbiAgICB2YXIgJGdsb2JhbE5hdkNvbXBvbmVudHMgPSBudWxsO1xuICAgIHZhciAkZ2xvYmFsTmF2U3BhY2VyID0gbnVsbDtcbiAgICB2YXIgJGJyYW5kaW5nQmFyID0gbnVsbDtcbiAgICB2YXIgJGJyYW5kQ29udGVudCA9IG51bGw7XG4gICAgdmFyICRicmFuZGluZ0Jhck1vYmlsZSA9IG51bGw7XG4gICAgdmFyICRtZW51QmFyID0gbnVsbDtcbiAgICB2YXIgJG1lbnVCYXJOYXYgPSBudWxsO1xuICAgIHZhciAkbWVudUJhclNlYXJjaCA9IG51bGw7XG4gICAgdmFyICRtZW51QmFyU2VhcmNoTW9iaWxlID0gbnVsbDtcbiAgICB2YXIgJG1lbnVCYXJDYXJ0ID0gbnVsbDtcbiAgICB2YXIgJG1lbnVCYXJDYXJ0TW9iaWxlID0gbnVsbDtcbiAgICB2YXIgJG1lbnVCYXJOYXZIZWFkZXIgPSBudWxsO1xuICAgIHZhciAkbmF2VG9nZ2xlID0gbnVsbDtcbiAgICB2YXIgJHNlYXJjaFRvZ2dsZSA9IG51bGw7XG5cbiAgICB2YXIgZ2xvYmFsTmF2SGVpZ2h0ID0gbnVsbDtcbiAgICB2YXIgbWVudUJhckhlaWdodCA9IG51bGw7XG4gICAgdmFyIGJyYW5kaW5nQmFySGVpZ2h0ID0gbnVsbDtcbiAgICB2YXIgcHJvbW9CYW5uZXJIZWlnaHQgPSBudWxsO1xuICAgIHZhciBuYXZNZW51SGVpZ2h0ID0gbnVsbDtcblxuICAgIHZhciBpbml0R2xvYmFsTmF2ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIEZpbmQgdGhlIGdsb2JhbCBuYXY7IGlmIHRoZXJlJ3MgbW9yZSB0aGFuIG9uZSwgd2UgaGF2ZSBpc3N1ZXMsIHNvIGZpbHRlciB0byBqdXN0IHRoZSBmaXJzdCwgYW5kIGhpZGUgYW55IGV4dHJhc1xuICAgICAgICAkZ2xvYmFsTmF2ID0gcmVkdWNlVG9GaXJzdCgkKHNlbGVjdG9ycy5nbG9iYWxOYXYpKTtcblxuICAgICAgICAvLyBCcmFuZGluZyBiYXJcbiAgICAgICAgJGJyYW5kaW5nQmFyID0gcmVkdWNlVG9GaXJzdCgkZ2xvYmFsTmF2LmNoaWxkcmVuKHNlbGVjdG9ycy5icmFuZGluZ0JhcikpO1xuICAgICAgICAkYnJhbmRDb250ZW50ID0gJGJyYW5kaW5nQmFyLmZpbmQoXCIua29oLWJyYW5kc1wiKTtcblxuICAgICAgICAvLyBNZW51IGJhclxuICAgICAgICAkbWVudUJhciA9IHJlZHVjZVRvRmlyc3QoJGdsb2JhbE5hdi5jaGlsZHJlbihzZWxlY3RvcnMubWVudUJhcikpO1xuICAgICAgICAkbWVudUJhck5hdiA9IHJlZHVjZVRvRmlyc3QoJG1lbnVCYXIuY2hpbGRyZW4oc2VsZWN0b3JzLm1lbnVCYXJOYXYpKTtcbiAgICAgICAgJG1lbnVCYXJTZWFyY2ggPSByZWR1Y2VUb0ZpcnN0KCRtZW51QmFyLmNoaWxkcmVuKHNlbGVjdG9ycy5tZW51QmFyU2VhcmNoKSk7XG4gICAgICAgICRtZW51QmFyQ2FydCA9IHJlZHVjZVRvRmlyc3QoJG1lbnVCYXIuY2hpbGRyZW4oc2VsZWN0b3JzLm1lbnVCYXJDYXJ0KSk7XG4gICAgICAgICRtZW51QmFyTmF2SGVhZGVyID0gcmVkdWNlVG9GaXJzdCgkbWVudUJhck5hdi5maW5kKHNlbGVjdG9ycy5tZW51QmFyTmF2SGVhZGVyKSk7XG4gICAgICAgICRuYXZUb2dnbGUgPSByZWR1Y2VUb0ZpcnN0KCRtZW51QmFyTmF2SGVhZGVyLmNoaWxkcmVuKFwiLmtvaC1wcmltYXJ5LW5hdi10b2dnbGVcIikpO1xuICAgICAgICAkc2VhcmNoVG9nZ2xlID0gcmVkdWNlVG9GaXJzdCgkbWVudUJhck5hdkhlYWRlci5jaGlsZHJlbihcIi5rb2gtcHJpbWFyeS1zZWFyY2gtdG9nZ2xlXCIpKTtcbiAgICAgICAgJG1lbnVCYXJDYXJ0TW9iaWxlID0gcmVkdWNlVG9GaXJzdCgkbWVudUJhck5hdkhlYWRlci5jaGlsZHJlbihcIi5rb2gtc2hvcHBpbmctY2FydC1tZW51LW1vYmlsZVwiKSk7XG5cbiAgICAgICAgLy8gTWFpbiBnbG9iYWwgbmF2IG1lbnVcbiAgICAgICAgJGdsb2JhbE5hdk1lbnUgPSByZWR1Y2VUb0ZpcnN0KCRtZW51QmFyTmF2LmZpbmQoc2VsZWN0b3JzLm1lbnVCYXJOYXZNZW51KSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIG1vYmlsZSBuYXYgaXRlbXMgaW4gY29ycmVjdCBvcmRlciB2aWEgY2xvbmluZ1xuICAgICAgICBjcmVhdGVNb2JpbGVNZW51KCk7XG5cbiAgICAgICAgLy8gQWRkIHdyYXBwZXIgYXJvdW5kIGNvbXBvbmVudHNcbiAgICAgICAgJGdsb2JhbE5hdkNvbXBvbmVudHMgPSAkKFwiPGRpdj48L2Rpdj5cIik7XG4gICAgICAgICRnbG9iYWxOYXZDb21wb25lbnRzLmFkZENsYXNzKHNlbGVjdG9ycy5nbG9iYWxOYXZDb21wb25lbnRzLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgICAgJGdsb2JhbE5hdi53cmFwSW5uZXIoJGdsb2JhbE5hdkNvbXBvbmVudHMpO1xuICAgICAgICAkZ2xvYmFsTmF2Q29tcG9uZW50cyA9IHJlZHVjZVRvRmlyc3QoJGdsb2JhbE5hdi5jaGlsZHJlbihzZWxlY3RvcnMuZ2xvYmFsTmF2Q29tcG9uZW50cykpOyAvLyBOZWVkIHRoaXMgYmVjYXVzZSB3cmFwSW5uZXIgY3JlYXRlcyBhIG5ldyBlbGVtZW50XG5cbiAgICAgICAgLy8gQWRkIHNwYWNlciBlbGVtZW50IHRvIGNvbnRyb2wgaGVhZGVyIHNwYWNpbmdcbiAgICAgICAgJGdsb2JhbE5hdlNwYWNlciA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcbiAgICAgICAgJGdsb2JhbE5hdlNwYWNlci5hZGRDbGFzcyhzZWxlY3RvcnMuZ2xvYmFsTmF2U3BhY2VyLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgICAgJGdsb2JhbE5hdi5hcHBlbmQoJGdsb2JhbE5hdlNwYWNlcik7XG5cbiAgICAgICAgLy8gU2V0IHVwIGNsaWNrIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgIGFkZENsaWNrRXZlbnRzKCk7XG4gICAgfTtcblxuICAgIHZhciByZXNpemVOYXYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gU2F2ZSBoZWlnaHRzIG9mIGJyYW5kaW5nIGJhciBhbmQgZ2xvYmFsIG5hdlxuICAgICAgICBpZiAoaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgcHJvbW9CYW5uZXJIZWlnaHQgPSAkKFwiLmMta29oLXByb21vdGlvbi1yaWJib25cIikub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgICAgIG1lbnVCYXJIZWlnaHQgPSAkbWVudUJhck5hdkhlYWRlci5vdXRlckhlaWdodCgpO1xuICAgICAgICAgICAgbmF2TWVudUhlaWdodCA9ICQod2luZG93KS5pbm5lckhlaWdodCgpIC0gKHByb21vQmFubmVySGVpZ2h0ICsgbWVudUJhckhlaWdodCk7XG4gICAgICAgICAgICAkKCRnbG9iYWxOYXZNZW51KS5jc3MoXCJoZWlnaHRcIiwgbmF2TWVudUhlaWdodCk7XG4gICAgICAgICAgICAkKCRnbG9iYWxOYXZNZW51KS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFwiI0ZGRkZGRlwiKTtcbiAgICAgICAgICAgICQoJGdsb2JhbE5hdkNvbXBvbmVudHMpLmNzcyhcImJhY2tncm91bmRcIiwgXCJyZ2JhKDAsMCwwLDAuNSlcIik7XG4gICAgICAgICAgICBicmFuZGluZ0JhckhlaWdodCA9IDA7XG4gICAgICAgICAgICBnbG9iYWxOYXZIZWlnaHQgPSBtZW51QmFySGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9yZXNldCBuYXZpZ2F0aW9uIG1lbnUgc3R5bGUgZm9yIGRlc2t0b3BcbiAgICAgICAgICAgICQoJGdsb2JhbE5hdk1lbnUgKS5jc3MoXCJtYXgtd2lkdGhcIiwgXCIxMDAlXCIpO1xuICAgICAgICAgICAgJCgkZ2xvYmFsTmF2TWVudSkuY3NzKFwiaGVpZ2h0XCIsIFwiYXV0b1wiKTtcbiAgICAgICAgICAgICQoJGdsb2JhbE5hdkNvbXBvbmVudHMpLmNzcyhcImJhY2tncm91bmRcIiwgXCIka29oLWNvbG9yLXdoaXRlXCIpO1xuICAgICAgICAgICAgJCgkbWVudUJhclNlYXJjaCkuY3NzKFwiYm9yZGVyLWJvdHRvbVwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICBtZW51QmFySGVpZ2h0ID0gJG1lbnVCYXIub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgICAgIGJyYW5kaW5nQmFySGVpZ2h0ID0gJGJyYW5kaW5nQmFyLm91dGVySGVpZ2h0KCk7XG4gICAgICAgICAgICBnbG9iYWxOYXZIZWlnaHQgPSBtZW51QmFySGVpZ2h0ICsgYnJhbmRpbmdCYXJIZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmICgkKCcua29oLWxpbmstY29tcGFueS1icmFuZCcpLmhhc0NsYXNzKCdvcGVuJykpIHtcbiAgICAgICAgICAgICAgICAkYnJhbmRpbmdCYXIuYWRkQ2xhc3MoXCJjb2xsYXBzZWRcIik7XG4gICAgICAgICAgICAgICAgJCgnLmtvaC1saW5rLWNvbXBhbnktYnJhbmQnKS5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZU9wZW4oJGJyYW5kQ29udGVudCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICBtZW51QmFySGVpZ2h0ID0gJG1lbnVCYXIub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICBicmFuZGluZ0JhckhlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgZ2xvYmFsTmF2SGVpZ2h0ID0gbWVudUJhckhlaWdodCArIGJyYW5kaW5nQmFySGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIk5hdiBoZWlnaHQ6IFwiK2dsb2JhbE5hdkhlaWdodCtcIiA9IFwiK21lbnVCYXJIZWlnaHQrXCIgKyBcIiticmFuZGluZ0JhckhlaWdodCk7XG5cbiAgICAgICAgLy8gUmVzaXplIHRoZSBzcGFjZXJcbiAgICAgICAgc2V0TmF2U3BhY2VySGVpZ2h0KCk7XG5cbiAgICAgICAgLy8gUmVzZXQgdGhlIHNjcm9sbGluZyBpbiBjYXNlIHRoZSBtZW51IGlzIHNtYWxsZXIgdGhhbiB0aGUgd2luZG93XG4gICAgICAgIGlmIChpc01vYmlsZSgpKSB7XG4gICAgICAgICAgICByZXNldE5hdk1lbnVTY3JvbGwoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgc2Nyb2xsTmF2ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8qXG4gICAgICAgIElmIHRoZSB3aW5kb3cgdG9wIG9mZnNldCBpcyBhdCBvciBhYm92ZSB0aGUgYnJhbmRpbmcgYmFyLCB1bmZpeCB0aGUgaGVhZGVyIGFuZCBzaG93IHRoZSBicmFuZGluZyBiYXIuXG4gICAgICAgIElmIHRoZSB3aW5kb3cgdG9wIG9mZnNldCBpcyBiZWxvdyB0aGUgYnJhbmRpbmcgYmFyLCBmaXggdGhlIGhlYWRlciB0byB0aGUgdG9wIG9mIHRoZSBzY3JlZW4gYW5kIGhpZGUgdGhlIGJyYW5kaW5nIGJhci5cbiAgICAgICAgKi9cblxuICAgICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuXG4gICAgICAgIGlmIChzY3JvbGxIZWlnaHQgPiBicmFuZGluZ0JhckhlaWdodCkge1xuICAgICAgICAgICAgLy8gbWFrZSB0aGUgbmF2IGZpeGVkIGFuZCBoaWRlIHRoZSBicmFuZGluZyBiYXJcbiAgICAgICAgICAgICRnbG9iYWxOYXYuYWRkQ2xhc3MoXCJmaXhlZFwiKTtcbiAgICAgICAgICAgICRicmFuZGluZ0Jhci5hZGRDbGFzcyhcImNvbGxhcHNlZFwiKTtcbiAgICAgICAgICAgICQoJy5rb2gtbGluay1jb21wYW55LWJyYW5kJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgICAgICRicmFuZENvbnRlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKS5oaWRlKCk7XG4gICAgICAgICAgICAkYnJhbmRpbmdCYXIuaGVpZ2h0KGJyYW5kaW5nQmFySGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIG5hdiBub3QgZml4ZWQgYW5kIHNob3cgdGhlIGJyYW5kaW5nIGJhclxuICAgICAgICAgICAgJGdsb2JhbE5hdi5yZW1vdmVDbGFzcyhcImZpeGVkXCIpO1xuICAgICAgICAgICAgcmVtb3ZlSW5saW5lQ1NTKCRnbG9iYWxOYXYsIFwiZGlzcGxheVwiKTtcbiAgICAgICAgICAgICRicmFuZGluZ0Jhci5yZW1vdmVDbGFzcyhcImNvbGxhcHNlZFwiKTtcbiAgICAgICAgICAgIHJlbW92ZUlubGluZUNTUygkYnJhbmRpbmdCYXIsIFwiZGlzcGxheVwiKTtcbiAgICAgICAgICAgICRicmFuZGluZ0Jhci5oZWlnaHQoYnJhbmRpbmdCYXJIZWlnaHQpO1xuICAgICAgICAgICAgJCgnLmtvaC1saW5rLWNvbXBhbnktYnJhbmQnKS5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgICAgICAgICAgJGJyYW5kQ29udGVudC5yZW1vdmVDbGFzcygnb3BlbicpLmhpZGUoKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLyogSWYgdGhlIHVzZXIgaG92ZXJzIG92ZXIgdGhlIG1lbnUsIGRpc3BsYXkgdGhlIGJyYW5kaW5nIGJhciBieSBzbGlkaW5nIGl0IGRvd24uICovXG4gICAgICAgICRnbG9iYWxOYXYuaG92ZXIoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlmICghaXNNb2JpbGUoKSAmJiAkKHRoaXMpLmhhc0NsYXNzKFwiZml4ZWRcIikpIHtcbiAgICAgICAgICAgICAgICBpZiAoJGJyYW5kaW5nQmFyLmhhc0NsYXNzKFwiY29sbGFwc2VkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICRicmFuZGluZ0Jhci5zdG9wKCkuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICAgICAgICAgICRicmFuZGluZ0Jhci5yZW1vdmVDbGFzcyhcImNvbGxhcHNlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoIWlzTW9iaWxlKCkgJiYgJCh0aGlzKS5oYXNDbGFzcyhcImZpeGVkXCIpICYmICEkKFwiLmtvaC1icmFuZHNcIikuaGFzQ2xhc3MoJ29wZW4nKSAmJiAoYnJhbmRpbmdCYXJIZWlnaHQgPCAzMykpIHtcbiAgICAgICAgICAgICAgICBpZiAoISRicmFuZGluZ0Jhci5oYXNDbGFzcyhcImNvbGxhcHNlZFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAkYnJhbmRpbmdCYXIuc3RvcCgpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgICAgICAgICAgJGJyYW5kaW5nQmFyLmFkZENsYXNzKFwiY29sbGFwc2VkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVNb2JpbGVNZW51ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIE1vYmlsZSBtZW51IGlzIGFzc2VtYmxlZCwgaW4gb3JkZXIsIGZyb20gdGhlIGZvbGxvd2luZyBpdGVtczogU2VhcmNoLCBNZW51IEJhciwgQnJhbmRpbmcgQmFyXG4gICAgICAgICRicmFuZGluZ0Jhck1vYmlsZSA9ICRicmFuZGluZ0Jhci5jbG9uZSgpO1xuICAgICAgICAkYnJhbmRpbmdCYXJNb2JpbGUucmVtb3ZlQ2xhc3Moc2VsZWN0b3JzLmJyYW5kaW5nQmFyLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgICAgJGJyYW5kaW5nQmFyTW9iaWxlLmFkZENsYXNzKHNlbGVjdG9ycy5icmFuZGluZ0Jhci5yZXBsYWNlKFwiLmMtXCIsIFwiXCIpICsgXCItbW9iaWxlXCIpO1xuICAgICAgICAkYnJhbmRpbmdCYXJNb2JpbGUuYWRkQ2xhc3MoXCJrb2gtY2xvbmVkXCIpLmFkZENsYXNzKFwia29oLW1vYmlsZS1uYXZcIik7XG4gICAgICAgICRicmFuZGluZ0Jhci5hZGRDbGFzcyhcImtvaC1kZXNrdG9wLW5hdlwiKTtcbiAgICAgICAgJGdsb2JhbE5hdk1lbnUuYXBwZW5kKCRicmFuZGluZ0Jhck1vYmlsZSk7ICAgICAgICBcblxuICAgICAgICAkbWVudUJhclNlYXJjaE1vYmlsZSA9ICRtZW51QmFyU2VhcmNoLmNsb25lKCk7XG4gICAgICAgICRtZW51QmFyU2VhcmNoTW9iaWxlLnJlbW92ZUNsYXNzKHNlbGVjdG9ycy5tZW51QmFyU2VhcmNoLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgICAgJG1lbnVCYXJTZWFyY2hNb2JpbGUuYWRkQ2xhc3Moc2VsZWN0b3JzLm1lbnVCYXJTZWFyY2gucmVwbGFjZShcIi5jLVwiLCBcIlwiKSArIFwiLW1vYmlsZVwiKTtcbiAgICAgICAgJG1lbnVCYXJTZWFyY2hNb2JpbGUuYWRkQ2xhc3MoXCJrb2gtY2xvbmVkXCIpLmFkZENsYXNzKFwia29oLW1vYmlsZS1uYXZcIik7XG4gICAgICAgICRtZW51QmFyU2VhcmNoLmFkZENsYXNzKFwia29oLWRlc2t0b3AtbmF2XCIpO1xuICAgICAgICAkZ2xvYmFsTmF2TWVudS5wcmVwZW5kKCRtZW51QmFyU2VhcmNoTW9iaWxlKTtcblxuICAgICAgICAkKCRuYXZUb2dnbGUpLmZpbmQoXCIuaWNvblwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgICQoJG5hdlRvZ2dsZSkuZmluZChcIi5jcm9zcy1pY29uLW5hdlwiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgJCgkc2VhcmNoVG9nZ2xlKS5maW5kKFwiLmljb25cIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xuICAgICAgICAkKCRzZWFyY2hUb2dnbGUpLmZpbmQoXCIuY3Jvc3MtaWNvbi1zZWFyY2hcIikuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG5cbiAgICAgICAgJG1lbnVCYXJDYXJ0TW9iaWxlLmFkZENsYXNzKFwia29oLW1vYmlsZS1uYXZcIik7XG4gICAgICAgICRtZW51QmFyQ2FydC5hZGRDbGFzcyhcImtvaC1kZXNrdG9wLW5hdlwiKTtcbiAgICB9O1xuXG4gICAgdmFyIGFkZENsaWNrRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIE1vYmlsZSBuYXYgdG9nZ2xlXG4gICAgICAgICRuYXZUb2dnbGUuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgIC8vYWRkaW5nIHN0eWxlIHRvIG5hdiBtZW51IGZvciBuZXcgZGVzaWduXG4gICAgICAgICAgICAgICAgJCgkZ2xvYmFsTmF2TWVudSApLmNzcyhcIm1heC13aWR0aFwiLCBcIjg1JVwiKTtcbiAgICAgICAgICAgICAgICAkKFwiLmtvaC1uYXYtcGFyZW50c1wiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgICAgICAgICAgJChcIi5rb2gtYnJhbmRpbmctYmFyLW1vYmlsZVwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgICAgICAgICAgJCgkbWVudUJhclNlYXJjaE1vYmlsZSkuZmluZChcIi5rb2gtc2l0ZS1zZWFyY2gtZm9ybVwiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgICAgICAgICAkKCRzZWFyY2hUb2dnbGUpLmZpbmQoXCIuaWNvblwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgICAgICAgICAgJCgkc2VhcmNoVG9nZ2xlKS5maW5kKFwiLmNyb3NzLWljb24tc2VhcmNoXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICAgICAgICAgIGlmICghJGdsb2JhbE5hdk1lbnUuaGFzQ2xhc3MoXCJvcGVuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJG5hdlRvZ2dsZSkuZmluZChcIi5pY29uXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAkKCRuYXZUb2dnbGUpLmZpbmQoXCIuY3Jvc3MtaWNvbi1uYXZcIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiYm9keVwiKS5jc3MoXCJoZWlnaHRcIiwgXCIxMDAlXCIpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiYm9keVwiKS5jc3MoXCJvdmVyZmxvd1wiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgJCgkZ2xvYmFsTmF2Q29tcG9uZW50cykuY3NzKFwiaGVpZ2h0XCIsIFwiMTAwdmhcIik7XG4gICAgICAgICAgICAgICAgICAgICRnbG9iYWxOYXZDb21wb25lbnRzLmFkZENsYXNzKFwic2Nyb2xsYWJsZVwiKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQoJG5hdlRvZ2dsZSkuZmluZChcIi5pY29uXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICAgICAgICAgICAgICAgICAgJCgkbmF2VG9nZ2xlKS5maW5kKFwiLmNyb3NzLWljb24tbmF2XCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiYm9keVwiKS5jc3MoXCJoZWlnaHRcIiwgXCJhdXRvXCIpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiYm9keVwiKS5jc3MoXCJvdmVyZmxvd1wiLCBcInNjcm9sbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgJCgkZ2xvYmFsTmF2Q29tcG9uZW50cykuY3NzKFwiaGVpZ2h0XCIsIFwiYXV0b1wiKTtcbiAgICAgICAgICAgICAgICAgICAgJGdsb2JhbE5hdkNvbXBvbmVudHMucmVtb3ZlQ2xhc3MoXCJzY3JvbGxhYmxlXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2dnbGVPcGVuKCRnbG9iYWxOYXZNZW51LCB0cnVlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzZXROYXZNZW51U2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkbWVudUJhclNlYXJjaE1vYmlsZS5oYXNDbGFzcyhcIm9wZW5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZU9wZW4oJG1lbnVCYXJTZWFyY2hNb2JpbGUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE1vYmlsZSBzZWFyY2ggZm9ybSB0b2dnbGVcbiAgICAgICAgJHNlYXJjaFRvZ2dsZS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChpc01vYmlsZSgpKSB7XG4gICAgICAgICAgICAgICAgLy9hZGQgc3R5bGUgdG8gc2VhcmNoIG1lbnUgZm9yIG5ldyBkZXNpZ25cbiAgICAgICAgICAgICAgICAkKCRnbG9iYWxOYXZNZW51KS5jc3MoXCJtYXgtd2lkdGhcIiwgXCIxMDAlXCIpO1xuICAgICAgICAgICAgICAgICQoJG1lbnVCYXJTZWFyY2hNb2JpbGUpLmZpbmQoXCIua29oLXNpdGUtc2VhcmNoLWZvcm1cIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xuICAgICAgICAgICAgICAgICQoJG1lbnVCYXJTZWFyY2hNb2JpbGUpLmZpbmQoXCIua29oLXNpdGUtc2VhcmNoLWZvcm1cIikuY3NzKFwid2lkdGhcIiwgXCI4MCVcIik7XG4gICAgICAgICAgICAgICAgJChcIi5rb2gtbmF2LXBhcmVudHNcIikuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICAgICAgJChcIi5rb2gtYnJhbmRpbmctYmFyLW1vYmlsZVwiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgICAgICAgICAkKCRuYXZUb2dnbGUpLmZpbmQoXCIuaWNvblwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgICAgICAgICAgJCgkbmF2VG9nZ2xlKS5maW5kKFwiLmNyb3NzLWljb24tbmF2XCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICAgICAgICAgICQoJGdsb2JhbE5hdkNvbXBvbmVudHMpLmNzcyhcImhlaWdodFwiLCBcImF1dG9cIik7XG4gICAgICAgICAgICAgICAgaWYgKCEkZ2xvYmFsTmF2TWVudS5oYXNDbGFzcyhcIm9wZW5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlT3BlbigkZ2xvYmFsTmF2TWVudSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdG9nZ2xlT3BlbigkbWVudUJhclNlYXJjaE1vYmlsZSwgdHJ1ZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghJG1lbnVCYXJTZWFyY2hNb2JpbGUuaGFzQ2xhc3MoXCJvcGVuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCRzZWFyY2hUb2dnbGUpLmZpbmQoXCIuaWNvblwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCRzZWFyY2hUb2dnbGUpLmZpbmQoXCIuY3Jvc3MtaWNvbi1zZWFyY2hcIikuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiYm9keVwiKS5jc3MoXCJoZWlnaHRcIiwgXCJhdXRvXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcImJvZHlcIikuY3NzKFwib3ZlcmZsb3dcIiwgXCJzY3JvbGxcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVPcGVuKCRnbG9iYWxOYXZNZW51LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRnbG9iYWxOYXZDb21wb25lbnRzLnJlbW92ZUNsYXNzKFwic2Nyb2xsYWJsZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgkc2VhcmNoVG9nZ2xlKS5maW5kKFwiLmljb25cIikuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCRzZWFyY2hUb2dnbGUpLmZpbmQoXCIuY3Jvc3MtaWNvbi1zZWFyY2hcIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcImJvZHlcIikuY3NzKFwiaGVpZ2h0XCIsIFwiMTAwJVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCJib2R5XCIpLmNzcyhcIm92ZXJmbG93XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBCcmFuZGluZyBiYXIgdG9nZ2xlIChtb2JpbGUgYW5kIGRlc2t0b3ApXG4gICAgICAgICRicmFuZGluZ0Jhck1vYmlsZS5maW5kKFwiLmtvaC1saW5rLWNvbXBhbnktYnJhbmRcIikuY2xpY2soe1xuICAgICAgICAgICAgICAgIHRhcmdldDogJGJyYW5kaW5nQmFyTW9iaWxlLmZpbmQoXCIua29oLWJyYW5kc1wiKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGVPcGVuKCQodGhpcykpO1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGVPcGVuKGUuZGF0YS50YXJnZXQsIHRydWUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXROYXZNZW51U2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICAkYnJhbmRpbmdCYXIuZmluZChcIi5rb2gtbGluay1jb21wYW55LWJyYW5kXCIpLmNsaWNrKHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICRicmFuZGluZ0Jhci5maW5kKFwiLmtvaC1icmFuZHNcIilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc01vYmlsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZU9wZW4oZS5kYXRhLnRhcmdldCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICAkKFwiLmtvaC1icmFuZHMgLndvcmxkd2lkZS1tZW51LXRvcFwiKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcIm9wZW5cIikpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwib3BlblwiKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwib3BlblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChcIi5rb2gtc2l0ZS1zZWFyY2gtZm9ybVwiKS5zdWJtaXQoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgc2VhcmNoQm94ID0gJChcIi5rb2gtc2l0ZS1zZWFyY2gtZm9ybSAja29oLW5hdi1zZWFyY2hib3hcIiksIGlzRW1wdHkgPSAhMCwgaSA9IDA7IGkgPCBzZWFyY2hCb3gubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgc2VhcmNoQm94W2ldLnZhbHVlLmxlbmd0aCA+IDAgJiYgKGlzRW1wdHkgPSAhMSk7XG4gICAgICAgICAgICBpc0VtcHR5ICYmIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBNYWluIG5hdiBwYXJlbnQgc3ViIG1lbnUgdG9nZ2xlXG4gICAgICAgIHZhciAkZ2xvYmFsTmF2TWVudU9wZW5hYmxlcyA9ICRnbG9iYWxOYXZNZW51LmZpbmQoXCIua29oLW5hdi1wYXJlbnRzID4gbGlcIikuY2hpbGRyZW4oXCJhLHNwYW4sLmtvaC1uYXYtc3VibmF2XCIpO1xuICAgICAgICAkZ2xvYmFsTmF2TWVudS5maW5kKFwiLmtvaC1uYXYtcGFyZW50cyA+IGxpXCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJG5hdkxpc3RJdGVtID0gJCh0aGlzKTtcbiAgICAgICAgICAgIHZhciAkbmF2TGluayA9ICRuYXZMaXN0SXRlbS5jaGlsZHJlbihcImEsc3BhblwiKTtcbiAgICAgICAgICAgIHZhciAkbmF2U3VibWVudSA9ICRuYXZMaXN0SXRlbS5jaGlsZHJlbihcIi5rb2gtbmF2LXN1Ym5hdlwiKTtcblxuICAgICAgICAgICAgJG5hdkxpbmsuY2xpY2soe1xuICAgICAgICAgICAgICAgIHRhcmdldDogJG5hdlN1Ym1lbnUsXG4gICAgICAgICAgICAgICAgc2libGluZ3M6ICRnbG9iYWxOYXZNZW51T3BlbmFibGVzXG4gICAgICAgICAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkbmF2TGluay5oYXNDbGFzcyhcInNpbmdsZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCQoJy5rb2gtbGluay1jb21wYW55LWJyYW5kJykuaGFzQ2xhc3MoJ29wZW4nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGJyYW5kaW5nQmFyLmFkZENsYXNzKFwiY29sbGFwc2VkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmtvaC1saW5rLWNvbXBhbnktYnJhbmQnKS5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlT3BlbigkYnJhbmRDb250ZW50LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIGFsbCB0aGUgc2libGluZ3MgYW5kIGNsb3NlIHRoZW1cbiAgICAgICAgICAgICAgICAgICAgdmFyICRzaWJsaW5ncyA9IGUuZGF0YS5zaWJsaW5ncy5ub3QoJCh0aGlzKSkubm90KGUuZGF0YS50YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAkc2libGluZ3MucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAkc2libGluZ3MuY3NzKFwiZGlzcGxheVwiLCBcIlwiKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBPcGVuIHRoZSBjbGlja2VkIG9uZVxuICAgICAgICAgICAgICAgICAgICB0b2dnbGVPcGVuKCQodGhpcykpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZU9wZW4oZS5kYXRhLnRhcmdldCwgdHJ1ZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXROYXZNZW51U2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZU9wZW4oZS5kYXRhLnRhcmdldCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciByZXNldE5hdk1lbnVTY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHdpbmRvd0hlaWdodCA9ICQod2luZG93KS5pbm5lckhlaWdodCgpO1xuICAgICAgICB2YXIgYm9keUhlaWdodCA9ICQoXCJib2R5XCIpLmlubmVySGVpZ2h0KCk7XG4gICAgICAgIHZhciBuYXZIZWlnaHQgPSBnbG9iYWxOYXZIZWlnaHQ7XG4gICAgICAgIGlmIChpc01vYmlsZSgpKSB7XG4gICAgICAgICAgICBpZiAoJGdsb2JhbE5hdk1lbnUuaGFzQ2xhc3MoXCJvcGVuXCIpKSB7XG4gICAgICAgICAgICAgICAgbmF2SGVpZ2h0ID0gbmF2SGVpZ2h0ICsgJGdsb2JhbE5hdk1lbnUub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIG5vdCBtb2JpbGUsIG5lZWQgdG8gYWNjb3VudCBmb3IgbW9yZSB0aGluZ3Mgb3BlblxuICAgICAgICAgICAgaWYgKCRnbG9iYWxOYXZNZW51Lmhhc0NsYXNzKFwib3BlblwiKSkge1xuICAgICAgICAgICAgICAgIG5hdkhlaWdodCA9IG5hdkhlaWdodCArICRnbG9iYWxOYXZNZW51Lm91dGVySGVpZ2h0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoISRicmFuZGluZ0Jhci5oYXNDbGFzcyhcImNvbGxhcHNlZFwiKSkge1xuICAgICAgICAgICAgICAgIG5hdkhlaWdodCA9IG5hdkhlaWdodCArICRicmFuZGluZ0Jhci5vdXRlckhlaWdodCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIldpbmRvdyAoXCIrd2luZG93SGVpZ2h0K1wiKSB2cyBCb2R5IChcIitib2R5SGVpZ2h0K1wiKSB2cyBOYXYgKFwiK25hdkhlaWdodCtcIilcIik7XG5cbiAgICAgICAgaWYgKG5hdkhlaWdodCA+PSB3aW5kb3dIZWlnaHQgJiYgISQoXCJib2R5XCIpLmhhc0NsYXNzKFwidW5zY3JvbGxhYmxlXCIpKSB7XG4gICAgICAgICAgICBpZiAoYm9keUhlaWdodCA8PSB3aW5kb3dIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAkKFwiYm9keVwiKS5jc3MoXCJvdmVyZmxvd1wiLCBcInNjcm9sbFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRnbG9iYWxOYXZDb21wb25lbnRzLmFkZENsYXNzKFwic2Nyb2xsYWJsZVwiKTtcbiAgICAgICAgICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwidW5zY3JvbGxhYmxlXCIpO1xuICAgICAgICAgICAgaWYgKGJvZHlIZWlnaHQgPD0gd2luZG93SGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJChcImJvZHlcIikuY3NzKFwib3ZlcmZsb3dcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgfSwgMC41KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChuYXZIZWlnaHQgPCB3aW5kb3dIZWlnaHQgJiYgJChcImJvZHlcIikuaGFzQ2xhc3MoXCJ1bnNjcm9sbGFibGVcIikpIHtcbiAgICAgICAgICAgICRnbG9iYWxOYXZDb21wb25lbnRzLnJlbW92ZUNsYXNzKFwic2Nyb2xsYWJsZVwiKTtcbiAgICAgICAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwidW5zY3JvbGxhYmxlXCIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBzZXROYXZTcGFjZXJIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJGdsb2JhbE5hdlNwYWNlci5jc3MoJ2hlaWdodCcsIGdsb2JhbE5hdkhlaWdodCk7XG4gICAgfTtcblxuICAgIHZhciByZWR1Y2VUb0ZpcnN0ID0gZnVuY3Rpb24oJG9iamVjdCkge1xuICAgICAgICAvLyBGb3IgdGhlIGdsb2JhbCBuYXYsIGlmIHRoZXJlIGlzIGV2ZXIgbW9yZSB0aGFuIG9uZSBvZiBhbiBvYmplY3QsIGl0IHdpbGwgY2F1c2UgaXNzdWVzLlxuICAgICAgICAvLyBSZWR1Y2UgdGhlIHNldCB0byBqdXN0IHRoZSBmaXJzdCBtYXRjaCwgYW5kIGhpZGUgYW55IGV4dHJhc1xuICAgICAgICB2YXIgJGZpcnN0T2JqZWN0ID0gJG9iamVjdC5maXJzdCgpO1xuICAgICAgICBpZiAoJG9iamVjdC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAkb2JqZWN0LnNsaWNlKDEpLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJGZpcnN0T2JqZWN0O1xuICAgIH07XG5cbiAgICB2YXIgaXNNb2JpbGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gUmF0aGVyIHRoYW4gY2hlY2sgd2luZG93IHNpemUsIGxldCdzIHRha2UgYWR2YW50YWdlIG9mIHRoZSBmYWN0IHRoYXQgdGhlXG4gICAgICAgIC8vIGhhbWJ1cmdlciB0b2dnbGUgaXMgaGlkZGVuIGF0IGRlc2t0b3Agc2l6ZXMuIElmIGl0J3MgZGlzcGxheWVkLCB0aGVuIHdlJ3JlXG4gICAgICAgIC8vIGF0IG1vYmlsZS4gT3RoZXJ3aXNlIHdlJ3JlIG5vdC5cbiAgICAgICAgcmV0dXJuICgkbmF2VG9nZ2xlLmNzcyhcImRpc3BsYXlcIikgIT09IFwibm9uZVwiKTtcbiAgICB9O1xuXG4gICAgdmFyIHRvZ2dsZU9wZW4gPSBmdW5jdGlvbigkdGFyZ2V0LCBhbmltYXRlLCBjYWxsYmFja0FmdGVyKSB7XG4gICAgICAgICR0YXJnZXQuaGFzQ2xhc3MoXCJvcGVuXCIpID8gKCR0YXJnZXQuc2VsZWN0b3IgPT0gJGJyYW5kQ29udGVudC5zZWxlY3RvciAmJiAkYnJhbmRpbmdCYXIuYW5pbWF0ZSh7XG4gICAgICAgICAgICBoZWlnaHQ6IDBcbiAgICAgICAgfSwgODAwKSwgYW5pbWF0ZSAmJiAkdGFyZ2V0LnNsaWRlVXAoODAwLCBjYWxsYmFja0FmdGVyKSwgJHRhcmdldC5yZW1vdmVDbGFzcyhcIm9wZW5cIiksICQoJGdsb2JhbE5hdkNvbXBvbmVudHMpLmNzcyhcImhlaWdodFwiLCBcImF1dG9cIikpIDogKCR0YXJnZXQuc2VsZWN0b3IgPT0gJGJyYW5kQ29udGVudC5zZWxlY3RvciAmJiAkYnJhbmRpbmdCYXIuYW5pbWF0ZSh7XG4gICAgICAgICAgICBoZWlnaHQ6IDMyICsgJGJyYW5kQ29udGVudC5vdXRlckhlaWdodCgpXG4gICAgICAgIH0sIDgwMCksIGFuaW1hdGUgJiYgJHRhcmdldC5zbGlkZURvd24oODAwLCBjYWxsYmFja0FmdGVyKSwgJHRhcmdldC5hZGRDbGFzcyhcIm9wZW5cIikpXG4gICAgfTtcblxuICAgIHZhciByZW1vdmVJbmxpbmVDU1MgPSBmdW5jdGlvbigkdGFyZ2V0LCBjc3NQcm9wZXJ0eSkge1xuICAgICAgICAkdGFyZ2V0LmNzcyhjc3NQcm9wZXJ0eSwgXCJcIik7XG4gICAgICAgIGlmICgkdGFyZ2V0LmF0dHIoXCJzdHlsZVwiKSA9PT0gXCJcIikge1xuICAgICAgICAgICAgJHRhcmdldC5yZW1vdmVBdHRyKFwic3R5bGVcIik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdG9wQnV0dG9uID0gJCgnYm9keScpLmZpbmQoJy5rb2gtYmFjay10b3AgYnV0dG9uJyk7XG4gICAgc2VjdGlvblRvcCA9ICQodG9wQnV0dG9uKS5jbG9zZXN0KCdzZWN0aW9uJyk7XG5cbiAgICAvLyBCYWNrIHRvIHRvcCBidXR0b25cbiAgICB2YXIgaW5pdEJhY2tUb3BCdXR0b24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQodG9wQnV0dG9uKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciB0b3BUYXJnZXQgPSBzZWN0aW9uVG9wO1xuICAgICAgICAgICAgJCh0b3BCdXR0b24pLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0O1xuICAgICAgICAgICAgICAgIGlmICgkKHRvcFRhcmdldCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogJCh0b3BUYXJnZXQpLm9mZnNldCgpLnRvcCAtIDgwXG4gICAgICAgICAgICAgICAgICAgIH0sIDI1MCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQmFjayB0byB0b3AgZmFkZWluXG4gICAgdmFyIGluaXRCYWNrVG9wRGlzdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQodG9wQnV0dG9uKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciB0b3BEaXN0YW5jZSA9IHNlY3Rpb25Ub3Aub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgJChkb2N1bWVudCkuc2Nyb2xsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciB5ID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoeSA+IHRvcERpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICQodG9wQnV0dG9uKS5mYWRlSW4oKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKHRvcEJ1dHRvbikuZmFkZU91dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblx0XG4gICAgLypXb3JraW5nIG9mIHByb21vdGlvbiByaWJib24qL1xuICAgIHZhciBwYXVzZSA9IHRydWU7XG4gICAgdmFyIHByb21vdGlvblJpYmJvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBcdHZhciBjb3VudGVyID0gMDtcbiAgICAgICAgdmFyIHJpYmJvbkl0ZW1Db3VudCA9ICQoJyNwcm9tb3Rpb25SaWJib25JdGVtcycpLnZhbCgpO1xuICAgICAgICBpZiAocmliYm9uSXRlbUNvdW50ICE9IDApIHtcbiAgICAgICAgXHRjb3VudGVyID0gMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAocGF1c2UpIHtcbiAgICAgICAgICAgICAgICBzaG93RGl2KClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgIGZ1bmN0aW9uIHNob3dEaXYoKSB7XG4gICAgICAgICAgICAkKCcuYy1rb2gtcHJvbW90aW9uLXJpYmJvbi1pdGVtJylcbiAgICAgICAgICAgICAgICAuc3RvcCgpXG4gICAgICAgICAgICAgICAgLmhpZGUoKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pZC5tYXRjaCgnYy1rb2gtcHJvbW90aW9uLXJpYmJvbi1pdGVtJyArIGNvdW50ZXIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnNob3coKTtcbiAgICAgICAgICAgICQoJy5jLWtvaC1wcm9tb3Rpb24tcmliYm9uLWl0ZW0nKS5ob3ZlcihmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICBwYXVzZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgcGF1c2UgPSB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIChjb3VudGVyID09IHJpYmJvbkl0ZW1Db3VudCkgPyBjb3VudGVyID0gMCA6IGNvdW50ZXIrKztcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgLy9yaWJib24gdGFyZ2V0IGxpbmtcbiAgICAkKFwiLmMta29oLXByb21vdGlvbi1yaWJib24taXRlbVwiKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBnZXRSaWJib25VcmwgPSAkKHRoaXMpLmZpbmQoJy5rb2gtcmliYm9uLWxpbmsnKS5hdHRyKCdocmVmJyk7XG4gICAgICAgIGlmKGdldFJpYmJvblVybC5pbmNsdWRlcyhcImh0dHBcIikpe1xuICAgICAgICAgICAgd2luZG93Lm9wZW4oZ2V0UmliYm9uVXJsLFwiX2JsYW5rXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBnZXRSaWJib25Vcmw7XG4gICAgICAgIH1cbiAgICBcdFxuICAgIH0pO1xuXG4gICAgdmFyIGFkZFRvcE1hcmdpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgICAgIHZhciBwYXRoID0gdXJsLnBhdGhuYW1lO1xuICAgICAgICB2YXIgcmliYm9uSXRlbUNvdW50ID0gJChcIiNwcm9tb3Rpb25SaWJib25JdGVtc1wiKS52YWwoKTtcbiAgICAgICAgaWYocGF0aCA9PT0gXCIvXCIgfHwgcGF0aCA9PT0gXCIvZW5cIikge1xuICAgICAgICAgICAgaWYgKHJpYmJvbkl0ZW1Db3VudCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCBzbWFsbFNjcmVlbldpZHRoKSB7XG5cdCAgICAgICAgICAgIFx0JChcIi5rb2gtcGFnZVwiKS5jc3MoXCJtYXJnaW4tdG9wXCIsIFwiOTVweFwiKTtcblx0ICAgICAgICAgICAgfWVsc2UgaWYod2luZG93LnNjcmVlbi53aWR0aCA+PSBzbWFsbFNjcmVlbldpZHRoICYmIHdpbmRvdy5zY3JlZW4ud2lkdGggPCBtb2JpbGVTY3JlZW5XaWR0aCkge1xuXHQgICAgICAgICAgICBcdCQoXCIua29oLXBhZ2VcIikuZmlyc3QoKS5jc3MoXCJtYXJnaW4tdG9wXCIsIFwiNDBweFwiKTtcblx0ICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKFwiLmtvaC1wYWdlXCIpLmZpcnN0KCkuY3NzKFwibWFyZ2luLXRvcFwiLCBcIjBweFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCBzbWFsbFNjcmVlbldpZHRoKSB7XG5cdCAgICAgICAgICAgIFx0JChcIi5rb2gtcGFnZVwiKS5jc3MoXCJtYXJnaW4tdG9wXCIsIFwiNTVweFwiKTtcblx0ICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICBpZiAocmliYm9uSXRlbUNvdW50ID09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IHNtYWxsU2NyZWVuV2lkdGgpIHtcblx0ICAgICAgICAgICAgXHQkKFwiLmtvaC1wYWdlXCIpLmNzcyhcIm1hcmdpbi10b3BcIiwgXCI5NXB4XCIpO1xuXHQgICAgICAgICAgICB9ZWxzZSBpZih3aW5kb3cuc2NyZWVuLndpZHRoID49IHNtYWxsU2NyZWVuV2lkdGggJiYgd2luZG93LnNjcmVlbi53aWR0aCA8IG1vYmlsZVNjcmVlbldpZHRoKSB7XG5cdCAgICAgICAgICAgIFx0JChcIi5rb2gtcGFnZVwiKS5maXJzdCgpLmNzcyhcIm1hcmdpbi10b3BcIiwgXCI0MHB4XCIpO1xuXHQgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQoXCIua29oLXBhZ2VcIikuZmlyc3QoKS5jc3MoXCJtYXJnaW4tdG9wXCIsIFwiMHB4XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IHNtYWxsU2NyZWVuV2lkdGgpIHtcblx0ICAgICAgICAgICAgXHQkKFwiLmtvaC1wYWdlXCIpLmNzcyhcIm1hcmdpbi10b3BcIiwgXCI1NXB4XCIpO1xuXHQgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2l4RGVzaWduZXJVcmwgPSAkKFwiI3NpeERlc2lnbmVyVXJsSWRcIikudmFsKCk7XG4gICAgICAgICAgICBpZih3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgIT09IHNpeERlc2lnbmVyVXJsKSB7XG4gICAgICAgICAgICAgICAgJChcIi5rb2gtcGFnZVwiKS5jc3MoXCJib3JkZXItdG9wXCIsIFwiMTBweCBzb2xpZCAjRkZGRkZGXCIpO1xuICAgICAgICAgICAgICAgICQoXCIua29oLXBhZ2VcIikuY3NzKFwiYm9yZGVyLWJvdHRvbVwiLCBcIjEwcHggc29saWQgI0ZGRkZGRlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlZnJlc2hQYWdlT25SZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHdpbmRvd09sZFdpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG4gICAgICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHdpbmRvd05ld1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG4gICAgICAgICAgICBpZiAod2luZG93T2xkV2lkdGggIT0gd2luZG93TmV3V2lkdGgpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdmFyIGhpZGVGcm9tUHJpbnRJblRXID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0aGFua3lvdVBhZ2VVUkxvY2FsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0aGFua3lvdVBhZ2VVUkxcIik7XG4gICAgICAgIGlmKHRoYW5reW91UGFnZVVSTG9jYWwpIHtcbiAgICAgICAgICAgIHZhciBuZXdUaGFua3lvdVVybCA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgbmV3V2luZG93UGF0aCA9IFwiXCI7XG4gICAgICAgICAgICBpZiAodGhhbmt5b3VQYWdlVVJMb2NhbC5zdGFydHNXaXRoKFwiL2VuL1wiKSkge1xuICAgICAgICAgICAgICAgIG5ld1RoYW5reW91VXJsID0gdGhhbmt5b3VQYWdlVVJMb2NhbC5zbGljZSgzLCAtMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1RoYW5reW91VXJsID0gdGhhbmt5b3VQYWdlVVJMb2NhbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zdGFydHNXaXRoKFwiL2VuL1wiKSkge1xuICAgICAgICAgICAgICAgIG5ld1dpbmRvd1BhdGggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc2xpY2UoMylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3V2luZG93UGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHN0eWxlRWxlbWVudCA9ICAkKCc8c3R5bGU+JykudGV4dChcIlwiKS5hcHBlbmRUbygnaGVhZCcpO1xuICAgICAgICAgICAgaWYobmV3V2luZG93UGF0aC5pbmNsdWRlcyhuZXdUaGFua3lvdVVybCkpIHtcbiAgICAgICAgICAgICAgICAkKFwiLmtvaC1xdWljay1saW5rLXNob3J0Y3V0XCIpLmFkZENsYXNzKFwibm9uLXByaW50YWJsZVwiKTtcbiAgICAgICAgICAgICAgICAkKFwiLmMta29oLXByb21vdGlvbi1yaWJib24taXRlbVwiKS5hZGRDbGFzcyhcIm5vbi1wcmludGFibGVcIik7XG4gICAgICAgICAgICAgICAgdmFyIHBhZ2VTdHlsZVJ1bGUgPSBcIkBwYWdlIDpoZWFkZXJ7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30gQHBhZ2UgOmZvb3RlciB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O31cIjtcbiAgICAgICAgICAgICAgICBzdHlsZUVMZW1lbnQgPSAkKCc8c3R5bGU+JykudGV4dChwYWdlU3R5bGVSdWxlKS5hcHBlbmRUbygnaGVhZCcpO1xuICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBcblxuICAgIFxuICAgIFxuICAgIC8qIHZhciBodG1sRXNjYXBlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcbiAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCAnJiMzOTsnKVxuICAgICAgICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAgICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgICAgICAgICAgLnJlcGxhY2UoL1xcKC9nLCBcIiYjNDA7XCIpXG4gICAgICAgICAgICAgLnJlcGxhY2UoL1xcKS9nLCBcIiYjNDE7XCIpXG4gICAgICAgICAgICAgLnJlcGxhY2UoL1xcKy9nLCAnJiM0MzsnKVxuICAgICAgICAgICAgIC5yZXBsYWNlKC9cXC8vZywgJyYjeDJGOycpO1xuICAgICB9O1xuXG4gICAgICQoXCIua29oLXNpdGUtc2VhcmNoLWZvcm1cIikuc3VibWl0KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICB2YXIgc2VhcmNoQm94ID0gJChcIi5rb2gtc2l0ZS1zZWFyY2gtZm9ybSAja29oLW5hdi1zZWFyY2hib3hcIik7XG4gICAgICAgICBzZWFyY2hCb3gudmFsKGh0bWxFc2NhcGUkKHNlYXJjaEJveC52YWx1ZSkpO1xuICAgICB9KTsqL1xuXG4gICAgLyogRGVmaW5lcyBmdW5jdGlvbnMgZXhwb3NlZCB0aHJvdWdoIGZvb3Rlck1hbmFnZXIgb2JqZWN0ICovXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbml0R2xvYmFsTmF2KCk7XG4gICAgICAgICAgICAvKiBJbml0aWFsaXplIEJhY2sgdG8gVG9wIEJ1dHRvbiAqL1xuICAgICAgICAgICAgaW5pdEJhY2tUb3BCdXR0b24oKTtcbiAgICAgICAgICAgIC8qIFNob3cvSGlkZSBCYWNrIHRvIFRvcCBCdXR0b24gKi9cbiAgICAgICAgICAgIGluaXRCYWNrVG9wRGlzdGFuY2UoKTtcblx0XHRcdC8qIFRvIGRpc3BsYXkgbWFueSByaWJib24gZGVzY3JpcHRpb24gKi9cbiAgICAgICAgICAgIHByb21vdGlvblJpYmJvbigpO1xuXG4gICAgICAgICAgICBhZGRUb3BNYXJnaW4oKTtcbiAgICAgICAgICAgIC8qIFRvIHJlZnJlc2ggdGhlIHBhZ2Ugb24gdmlld3BvcnQgc2l6ZSBjaGFuZ2VzICovXG4gICAgICAgICAgICByZWZyZXNoUGFnZU9uUmVzaXplKCk7XG4gICAgICAgICAgIC8qICBUbyByZW1vdmUgaXRlbXMgZnJvbSBwcmludCBpbiB0aGFua3lvdSBwYWdlIG9mIGZvcm0gKi9cbiAgICAgICAgICAgIGhpZGVGcm9tUHJpbnRJblRXKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVzaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJlc2l6ZU5hdigpO1xuICAgICAgICB9LFxuICAgICAgICBvblNjcm9sbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY3JvbGxOYXYoKTtcbiAgICAgICAgfVxuICAgIH07XG59KCk7XG5cbiQoZnVuY3Rpb24oKSB7XG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGV4ZWN1dGVzIHdoZW4gSFRNTC1Eb2N1bWVudCBpcyBsb2FkZWQgYW5kIERPTSBpcyByZWFkeVxuICAgICAgICBheEtPSC5tYWluLmhlYWRlck1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xuICAgICAgICBheEtPSC5tYWluLmhlYWRlck1hbmFnZXIub25SZXNpemUoKTtcbiAgICB9KTtcbiAgICAkKHdpbmRvdykubG9hZChmdW5jdGlvbigpIHtcbiAgICAgICAgYXhLT0gubWFpbi5oZWFkZXJNYW5hZ2VyLm9uU2Nyb2xsKCk7XG4gICAgfSk7XG4gICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICAgICAgYXhLT0gubWFpbi5oZWFkZXJNYW5hZ2VyLm9uUmVzaXplKCk7XG4gICAgfSk7XG4gICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHtcbiAgICAgICAgYXhLT0gubWFpbi5oZWFkZXJNYW5hZ2VyLm9uU2Nyb2xsKCk7XG4gICAgfSk7XG59KTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgwqkgMjAwMC0yMDE3IEtvaGxlciBDb21wYW55LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICovXG5cbi8vIEphdmFTY3JpcHQgTmFtZXNwYWNpbmdcbnZhciBheEtPSCA9IGF4S09IIHx8IHt9O1xuYXhLT0gudXRpbHMgPSBheEtPSC51dGlscyB8fCB7fTtcblxuYXhLT0gudXRpbHMuc29jaWFsU2hhcmUgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBob3V6eklEID0gXCIyODkyNVwiO1xuXG4gICAgLy8gR2V0IGZ1bmN0aW9ucyBmb3Igc2hhcmUgbGluayBpbnNlcnRzXG4gICAgdmFyIGdldFVSTCA9IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBlbmNvZGVVUkkoJHRhcmdldC5kYXRhKFwic2hhcmUtdXJsXCIpIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldFRpdGxlID0gZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICAgICAgdmFyIHNoYXJlVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJlVGl0bGVcIik7XG4gICAgICAgIGlmKHNoYXJlVGl0bGUgIT09IG51bGwgJiYgc2hhcmVUaXRsZSAhPSAndW5kZWZpbmVkJyl7XG4gICAgXHRcdHZhciBzaGFyZVRpdGxlVmFsdWUgPSBzaGFyZVRpdGxlLnZhbHVlO1xuXHQgICAgICAgIGlmIChzaGFyZVRpdGxlVmFsdWUubGVuZ3RoICE9IDApIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHNoYXJlVGl0bGVWYWx1ZVxuXHQgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICByZXR1cm4gJHRhcmdldC5kYXRhKFwic2hhcmUtdGl0bGVcIikgfHwgXCJcIlxuICAgIFx0fSAgXG4gICAgfTtcblxuICAgIHZhciBnZXRJbWFnZSA9IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XG4gICAgXHR2YXIgc2hhcmVJbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hhcmVJbWFnZVwiKTtcbiAgICBcdGlmKHNoYXJlSW1hZ2UgIT09IG51bGwgJiYgc2hhcmVJbWFnZSAhPSAndW5kZWZpbmVkJyl7XG4gICAgXHRcdHZhciBzaGFyZUltYWdlVmFsdWUgPSBzaGFyZUltYWdlLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHNoYXJlSW1hZ2VWYWx1ZS5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaGFyZUltYWdlVmFsdWVcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgXHRyZXR1cm4gJHRhcmdldC5kYXRhKFwic2hhcmUtaW1hZ2VcIikgfHwgXCJcIlxuICAgICAgICAgICAgfVxuICAgIFx0fWVsc2V7XG4gICAgICAgICByZXR1cm4gJHRhcmdldC5kYXRhKFwic2hhcmUtaW1hZ2VcIikgfHwgXCJcIlxuICAgIFx0fVxuICAgICB9O1xuXG4gICAgdmFyIGdldERlc2NyaXB0aW9uID0gZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICAgICAgdmFyIHNoYXJlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJlRGVzY3JpcHRpb25cIik7XG4gICAgICAgIGlmKHNoYXJlRGVzY3JpcHRpb24gIT09IG51bGwgJiYgc2hhcmVEZXNjcmlwdGlvbiAhPSAndW5kZWZpbmVkJyl7XG4gICAgICAgIFx0dmFyIHNoYXJlRGVzY3JpcHRpb25WYWx1ZSA9IHNoYXJlRGVzY3JpcHRpb24udmFsdWUucmVwbGFjZSgvKDxbXj5dKz8+fDw+fDxcXC8+KS9pbWcsIFwiXCIpO1xuXHQgICAgICAgIGlmIChzaGFyZURlc2NyaXB0aW9uVmFsdWUubGVuZ3RoICE9IDApIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHNoYXJlRGVzY3JpcHRpb25WYWx1ZVxuXHQgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICByZXR1cm4gJHRhcmdldC5kYXRhKFwic2hhcmUtZGVzY3JpcHRpb25cIikgfHwgXCJcIlxuICAgIFx0fSAgICBcbiAgICB9O1xuXG4gICAgdmFyIGdldFNvdXJjZSA9IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiAkdGFyZ2V0LmRhdGEoXCJzaGFyZS1zb3VyY2VcIikgfHwgXCJLT0hMRVJcIlxuICAgIH07XG5cbiAgICB2YXIgZ2V0SGFzaHRhZ3MgPSBmdW5jdGlvbiAoJHRhcmdldCkge1xuICAgICAgICByZXR1cm4gJHRhcmdldC5kYXRhKFwic2hhcmUtaGFzaHRhZ3NcIikgfHwgXCJcIlxuICAgIH07XG5cbiAgICB2YXIgaXNWaWRlb1NoYXJlID0gZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuICR0YXJnZXQuZGF0YShcInNoYXJlLXZpZGVvXCIpIHx8IFwiZmFsc2VcIlxuICAgIH07XG5cbiAgICB2YXIgZ2V0Q2F0ZWdvcnkgPSBmdW5jdGlvbiAoJHRhcmdldCkge1xuICAgICAgICByZXR1cm4gJHRhcmdldC5kYXRhKFwic2hhcmUtY2F0ZWdvcnlcIikgfHwgXCJcIlxuICAgIH07XG5cbiAgICB2YXIgZm9ybWF0U2hhcmVMaW5rID0gZnVuY3Rpb24gKCR0YXJnZXQsIGxpbmtUZW1wbGF0ZSkge1xuICAgICAgICB2YXIgZm9ybWF0dGVkTGluayA9IGxpbmtUZW1wbGF0ZTtcblxuICAgICAgICBmb3JtYXR0ZWRMaW5rID0gZm9ybWF0dGVkTGluay5yZXBsYWNlKC97dXJsfS9nLCBnZXRVUkwoJHRhcmdldCkpO1xuICAgICAgICBmb3JtYXR0ZWRMaW5rID0gZm9ybWF0dGVkTGluay5yZXBsYWNlKC97dGl0bGV9L2csIGdldFRpdGxlKCR0YXJnZXQpKTtcbiAgICAgICAgZm9ybWF0dGVkTGluayA9IGZvcm1hdHRlZExpbmsucmVwbGFjZSgve2ltZ30vZywgZ2V0SW1hZ2UoJHRhcmdldCkpO1xuICAgICAgICBmb3JtYXR0ZWRMaW5rID0gZm9ybWF0dGVkTGluay5yZXBsYWNlKC97dmlhfS9nLCBnZXRTb3VyY2UoJHRhcmdldCkpO1xuICAgICAgICBmb3JtYXR0ZWRMaW5rID0gZm9ybWF0dGVkTGluay5yZXBsYWNlKC97aGFzaHRhZ3N9L2csIGdldEhhc2h0YWdzKCR0YXJnZXQpKTtcbiAgICAgICAgZm9ybWF0dGVkTGluayA9IGZvcm1hdHRlZExpbmsucmVwbGFjZSgve2lzX3ZpZGVvfS9nLCBpc1ZpZGVvU2hhcmUoJHRhcmdldCkpO1xuICAgICAgICBmb3JtYXR0ZWRMaW5rID0gZm9ybWF0dGVkTGluay5yZXBsYWNlKC97Y2F0ZWdvcnl9L2csIGdldENhdGVnb3J5KCR0YXJnZXQpKTtcbiAgICAgICAgZm9ybWF0dGVkTGluayA9IGZvcm1hdHRlZExpbmsucmVwbGFjZSgve2Rlc2NyaXB0aW9ufS9nLCBnZXREZXNjcmlwdGlvbigkdGFyZ2V0KSk7XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZExpbms7XG4gICAgfTtcblxuICAgIHZhciBzaG93V2luZG93ID0gZnVuY3Rpb24gKHRhcmdldFVSTCwgdGFyZ2V0UHJvcGVydGllcykge1xuICAgICAgICB2YXIgd2luZG93UHJvcHMgPSAnbWVudWJhcj1ubyxsb2NhdGlvbj15ZXMscmVzaXphYmxlPXllcyxzY3JvbGxiYXJzPXllcyxzdGF0dXM9bm8sd2lkdGg9e3dpZHRofSxoZWlnaHQ9e2hlaWdodH0sdG9wPXt0b3B9LGxlZnQ9e2xlZnR9JztcblxuICAgICAgICBpZiAodGFyZ2V0UHJvcGVydGllcyAmJiB0YXJnZXRQcm9wZXJ0aWVzLndpZHRoICYmIHRhcmdldFByb3BlcnRpZXMuaGVpZ2h0ICYmIHNjcmVlbiAmJiBzY3JlZW4uaGVpZ2h0KSB7XG4gICAgICAgICAgICB3aW5kb3dQcm9wcyA9IHdpbmRvd1Byb3BzLnJlcGxhY2UoL3t3aWR0aH0vZywgdGFyZ2V0UHJvcGVydGllcy53aWR0aCk7XG4gICAgICAgICAgICB3aW5kb3dQcm9wcyA9IHdpbmRvd1Byb3BzLnJlcGxhY2UoL3toZWlnaHR9L2csIHRhcmdldFByb3BlcnRpZXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIHdpbmRvd1Byb3BzID0gd2luZG93UHJvcHMucmVwbGFjZSgve3RvcH0vZywgKHNjcmVlbi5oZWlnaHQgLyAyKSAtICh0YXJnZXRQcm9wZXJ0aWVzLmhlaWdodCAvIDIpKTtcbiAgICAgICAgICAgIHdpbmRvd1Byb3BzID0gd2luZG93UHJvcHMucmVwbGFjZSgve2xlZnR9L2csIChzY3JlZW4ud2lkdGggLyAyKSAtICh0YXJnZXRQcm9wZXJ0aWVzLndpZHRoIC8gMikpO1xuICAgICAgICAgICAgd2luZG93Lm9wZW4odGFyZ2V0VVJMLCAnc2hhcmVXaW5kb3cnLCB3aW5kb3dQcm9wcykuZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKHRhcmdldFVSTCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gU2hhcmUgZnVuY3Rpb25zXG4gICAgdmFyIHNoYXJlT25QaW50ZXJlc3QgPSBmdW5jdGlvbiAoJHRhcmdldCkge1xuICAgICAgICB2YXIgc2hhcmVMaW5rID0gZm9ybWF0U2hhcmVMaW5rKCR0YXJnZXQsICdodHRwczovL3BpbnRlcmVzdC5jb20vcGluL2NyZWF0ZS9ib29rbWFya2xldC8/bWVkaWE9e2ltZ30mdXJsPXt1cmx9JmlzX3ZpZGVvPXtpc192aWRlb30mZGVzY3JpcHRpb249e3RpdGxlfScpO1xuICAgICAgICBzaG93V2luZG93KHNoYXJlTGluaywge1xuICAgICAgICAgICAgd2lkdGg6IDc1MCxcbiAgICAgICAgICAgIGhlaWdodDogMzMxXG4gICAgICAgIH0pO1xuICAgIH07XG5cblxuICAgIHZhciBzaGFyZU9uSG91enogPSBmdW5jdGlvbiAoJHRhcmdldCkge1xuICAgICAgICAvLyBCZWNhdXNlIEhvdXp6IHByb3ZpZGVzIGEgdmVyeSBzcGVjaWZpYyBzY3JpcHQgdGFnIGluIGFuIGlmcmFtZSBmb3IgdGhlaXIgc2hhcmUgbGluayxcbiAgICAgICAgLy8gdGhpcyBzaGFyZSBvcHRpb24gcmVxdWlyZXMgc3BlY2lhbCBoYW5kbGluZy4gV2UgcmVwbGFjZSB0aGUgZXhpc3RpbmcgYnV0dG9uIHdpdGggdGhlXG4gICAgICAgIC8vIEhvdXp6LXByb3ZpZGVkIGNvZGUgc25pcHBldCwgYW5kIHRoZW4gdGhlIHVzZXIgaGFzIHRvIG1hbnVhbGx5IGNsaWNrIHRoZSBuZXcgSG91enogYnV0dG9uXG5cbiAgICAgICAgJHRhcmdldC5hZGRDbGFzcyhcImNsaWNrZWRIb3V6elwiKTtcbiAgICAgICAgLy8gJHRhcmdldCBpcyA8YnV0dG9uIGNsYXNzPVwia29oLXNoYXJlLWhvdXp6XCI+TGFiZWw8L2J1dHRvbj5cbiAgICAgICAgdmFyICRob3V6ekJ1dHRvbiA9ICR0YXJnZXQ7XG4gICAgICAgIHZhciAkaG91enpCdXR0b25Db250YWluZXIgPSAkdGFyZ2V0LnBhcmVudCgpO1xuICAgICAgICB2YXIgJGhvdXp6RnJhbWVDb250YWluZXIgPSAkaG91enpCdXR0b25Db250YWluZXIuZmluZChcIi5rb2gtaG91enotYnV0dG9uLXRhcmdldFwiKTtcblxuICAgICAgICAvLyBJZiB0aGUgY29udGFpbmVyIGZvciB0aGUgc3BlY2lhbCBIb3V6eiBjb2RlIGRvZXNuJ3QgZXhpc3QsIGFkZCBpdFxuICAgICAgICBpZiAoJGhvdXp6RnJhbWVDb250YWluZXIubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgICRob3V6ekJ1dHRvbkNvbnRhaW5lci5hcHBlbmQoJzxzcGFuIGNsYXNzPVwia29oLWhvdXp6LWJ1dHRvbi10YXJnZXRcIj48L3NwYW4+Jyk7XG4gICAgICAgICAgICAkaG91enpGcmFtZUNvbnRhaW5lciA9ICRob3V6ekJ1dHRvbkNvbnRhaW5lci5maW5kKFwiLmtvaC1ob3V6ei1idXR0b24tdGFyZ2V0XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm93IHRoYXQgdGhlIGNvbnRhaW5lciBleGlzdHMgKGFzc3VtaW5nIG5vdGhpbmcgZmFpbGVkKVxuICAgICAgICBpZiAoJGhvdXp6RnJhbWVDb250YWluZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgJGhvdXp6RnJhbWVDb250YWluZXIuaHRtbChcIkhlbGxvIFdvcmxkXCIpO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGUgaWZyYW1lIGRvZXNuJ3QgYWxyZWFkeSBleGlzdCwgYWRkIHRoZSBzcGVjaWFsIEhvdXp6IGNvZGVcbiAgICAgICAgICAgIC8vaWYgKCAkaG91enpGcmFtZUNvbnRhaW5lci5maW5kKFwiaWZyYW1lXCIpIDw9IDAgKSB7XG5cbiAgICAgICAgICAgIC8vIEhUTUwgc25pcHBldCBmb3IgdGhpcyBpcyBwcm92aWRlZCBieSBIb3V6eiwgYW5kIG11c3QgbWF0Y2ggZXhhY3RseVxuICAgICAgICAgICAgdmFyIGh0bWxTbmlwcGV0ID0gJzxhIGNsYXNzPVwiaG91enotc2hhcmUtYnV0dG9uXCIgZGF0YS11cmw9XCJ7dXJsfVwiIGRhdGEtaHppZD1cIntob3V6eklEfVwiIGRhdGEtdGl0bGU9XCJ7dGl0bGV9XCIgZGF0YS1pbWc9XCJ7aW1nfVwiIGRhdGEtZGVzYz1cIntkZXNjcmlwdGlvbn1cIiBkYXRhLWNhdGVnb3J5PVwie2NhdGVnb3J5fVwiIGRhdGEtc2hvd2NvdW50PVwiMFwiIGhyZWY9XCJodHRwOi8vd3d3LmhvdXp6LmNvbVwiPjwvYT4nO1xuICAgICAgICAgICAgaHRtbFNuaXBwZXQgPSBmb3JtYXRTaGFyZUxpbmsoJHRhcmdldCwgaHRtbFNuaXBwZXQpO1xuICAgICAgICAgICAgaHRtbFNuaXBwZXQgPSBodG1sU25pcHBldC5yZXBsYWNlKC97aG91enpJRC9nLCBob3V6eklEKTtcbiAgICAgICAgICAgIGh0bWxTbmlwcGV0ICs9ICc8c2NyaXB0PihmdW5jdGlvbihkLHMsaWQpe2lmKCFkLmdldEVsZW1lbnRCeUlkKGlkKSl7dmFyIGpzPWQuY3JlYXRlRWxlbWVudChzKTtqcy5pZD1pZDtqcy5hc3luYz10cnVlO2pzLnNyYz1cIi8vcGxhdGZvcm0uaG91enouY29tL2pzL3dpZGdldHMuanM/XCIrKG5ldyBEYXRlKCkuZ2V0VGltZSgpKTt2YXIgc3M9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZShzKVswXTtzcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqcyxzcyk7fX0pKGRvY3VtZW50LFwic2NyaXB0XCIsXCJob3V6endpZGdldC1qc1wiKTs8L3NjcmlwdD4nO1xuXG4gICAgICAgICAgICAkaG91enpGcmFtZUNvbnRhaW5lci5odG1sKGh0bWxTbmlwcGV0KTtcbiAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgLy8gSGlkZSB0aGUgcHJldHR5IGJ1dHRvblxuICAgICAgICAgICAgJGhvdXp6QnV0dG9uLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgc2hhcmVPbkZhY2Vib29rID0gZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICBcdHZhciBpbWFnZSA9IGdldEltYWdlKCR0YXJnZXQpO1xuICAgIFx0dmFyIHNoYXJlTGluayA9ICcnO1xuICAgIFx0aWYoaW1hZ2UgPT09ICcnKXtcbiAgICBcdFx0c2hhcmVMaW5rID0gZm9ybWF0U2hhcmVMaW5rKCR0YXJnZXQsIFwiaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlci9zaGFyZXIucGhwP3U9e3VybH0mdGl0bGU9e3RpdGxlfSZkZXNjcmlwdGlvbj17ZGVzY3JpcHRpb259XCIpO1xuICAgIFx0fWVsc2V7XG4gICAgXHRcdHNoYXJlTGluayA9IGZvcm1hdFNoYXJlTGluaygkdGFyZ2V0LCBcImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9zaGFyZXIvc2hhcmVyLnBocD91PXt1cmx9JnRpdGxlPXt0aXRsZX0mZGVzY3JpcHRpb249e2Rlc2NyaXB0aW9ufSZwaWN0dXJlPXtpbWd9XCIpO1xuICAgIFx0fVxuICAgICAgICBzaG93V2luZG93KHNoYXJlTGluaywge1xuICAgICAgICAgICAgd2lkdGg6IDYwMCxcbiAgICAgICAgICAgIGhlaWdodDogMjcwXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgc2hhcmVPblR3aXR0ZXIgPSBmdW5jdGlvbiAoJHRhcmdldCkge1xuICAgICAgICB2YXIgc2hhcmVMaW5rID0gZm9ybWF0U2hhcmVMaW5rKCR0YXJnZXQsIFwiaHR0cHM6Ly90d2l0dGVyLmNvbS9zaGFyZT91cmw9e3VybH0mdGV4dD17dGl0bGV9XCIpO1xuICAgICAgICBzaG93V2luZG93KHNoYXJlTGluaywge1xuICAgICAgICAgICAgd2lkdGg6IDYwMCxcbiAgICAgICAgICAgIGhlaWdodDogNDQwXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgc2hhcmVPbkdvb2dsZSA9IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XG4gICAgICAgIHZhciBzaGFyZUxpbmsgPSBmb3JtYXRTaGFyZUxpbmsoJHRhcmdldCwgJ2h0dHBzOi8vcGx1cy5nb29nbGUuY29tL3NoYXJlP3VybD17dXJsfScpO1xuICAgICAgICBzaG93V2luZG93KHNoYXJlTGluaywge1xuICAgICAgICAgICAgd2lkdGg6IDYwMCxcbiAgICAgICAgICAgIGhlaWdodDogMjcwXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgc2hhcmVPbkVtYWlsID0gZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICAgICAgLy8gTmVlZCB0byBmaWd1cmUgb3V0IHdoYXQgdGhlIGhhbmRsaW5nIGZvciBlbWFpbCBpc1xuICAgIH07XG5cbiAgICAvLyBJbml0aWFsaXplIGVudGlyZSBwYW5lbFxuICAgIHZhciBpbml0U2hhcmVQYW5lbCA9IGZ1bmN0aW9uICgkc2hhcmVQYW5lbCkge1xuXG4gICAgICAgIC8qIEFzc3VtZXMgdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmUsIHdoZXJlIHRoZSB1bCBpcyBwYXNzZWQgaW4gYXMgJHNoYXJlUGFuZWw6XG5cbiAgICAgICAgPHVsPlxuICAgICAgICBcdDxsaT48YnV0dG9uIGNsYXNzPVwia29oLXNoYXJlLXBpbnRlcmVzdFwiPkxhYmVsPC9idXR0b24+PC9saT5cbiAgICAgICAgXHQ8bGk+PGJ1dHRvbiBjbGFzcz1cImtvaC1zaGFyZS1ob3V6elwiPkxhYmVsPC9idXR0b24+PC9saT5cbiAgICAgICAgXHQ8bGk+PGJ1dHRvbiBjbGFzcz1cImtvaC1zaGFyZS1mYWNlYm9va1wiPkxhYmVsPC9idXR0b24+PC9saT5cbiAgICAgICAgXHQ8bGk+PGJ1dHRvbiBjbGFzcz1cImtvaC1zaGFyZS10d2l0dGVyXCI+TGFiZWw8L2J1dHRvbj48L2xpPlxuICAgICAgICBcdDxsaT48YnV0dG9uIGNsYXNzPVwia29oLXNoYXJlLWdvb2dsZVwiPkxhYmVsPC9idXR0b24+PC9saT5cbiAgICAgICAgXHQ8bGk+PGJ1dHRvbiBjbGFzcz1cImtvaC1zaGFyZS1lbWFpbFwiPkxhYmVsPC9idXR0b24+PC9saT5cbiAgICAgICAgXHQ8bGk+PGJ1dHRvbiBjbGFzcz1cImtvaC1zaGFyZS1zaG93cm9vbVwiPkxhYmVsPC9idXR0b24+PC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgICAgKi9cblxuICAgICAgICB2YXIgJHNoYXJlQnV0dG9ucyA9ICRzaGFyZVBhbmVsLmZpbmQoXCJsaSA+IGJ1dHRvblwiKTtcbiAgICAgICAgJHNoYXJlQnV0dG9ucy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciAkYnV0dG9uID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgJGJ1dHRvbi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoJGJ1dHRvbi5oYXNDbGFzcyhcImtvaC1zaGFyZS1waW50ZXJlc3RcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhcmVPblBpbnRlcmVzdCgkYnV0dG9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRidXR0b24uaGFzQ2xhc3MoXCJrb2gtc2hhcmUtaG91enpcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhcmVPbkhvdXp6KCRidXR0b24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJGJ1dHRvbi5oYXNDbGFzcyhcImtvaC1zaGFyZS1mYWNlYm9va1wiKSkge1xuICAgICAgICAgICAgICAgICAgICBzaGFyZU9uRmFjZWJvb2soJGJ1dHRvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkYnV0dG9uLmhhc0NsYXNzKFwia29oLXNoYXJlLXR3aXR0ZXJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhcmVPblR3aXR0ZXIoJGJ1dHRvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkYnV0dG9uLmhhc0NsYXNzKFwia29oLXNoYXJlLWdvb2dsZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBzaGFyZU9uR29vZ2xlKCRidXR0b24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJGJ1dHRvbi5oYXNDbGFzcyhcImtvaC1zaGFyZS1lbWFpbFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBzaGFyZU9uRW1haWwoJGJ1dHRvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkYnV0dG9uLmhhc0NsYXNzKFwia29oLXNoYXJlLXNob3dyb29tXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEludGVudGlvbmFsbHkgbGVmdCBibGFuazsgc2hvd3Jvb20gZmVhdHVyZSBub3QgaW1wbGVtZW50ZWQgeWV0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIHZhciBtYWtlVG9vbHRpcCA9IGZ1bmN0aW9uICgkY29udGFpbmVyLCAkYnV0dG9uLCAkcGFuZWwsIHRvb2x0aXBJRCwgdG9vbHRpcENsYXNzKSB7XG4gICAgICAgIC8vIFByZXNlcnZlIG9yaWdpbmFsIHBhbmVsIEhUTUwgc28gd2UgY2FuIHB1dCBpdCBiYWNrIHdoZW4gdGhlIHRvb2x0aXAgY2xvc2VzXG4gICAgICAgIHZhciBwYW5lbEhUTUwgPSAkcGFuZWwuaHRtbCgpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdG9vbHRpcElEICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAkYnV0dG9uLnF0aXAoe1xuICAgICAgICAgICAgICAgIGlkOiB0b29sdGlwSUQsXG4gICAgICAgICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAkcGFuZWxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIG15OiAnYm90dG9tIHJpZ2h0JywgLy8gUG9zaXRpb24gbXkgdG9wIGxlZnQuLi5cbiAgICAgICAgICAgICAgICAgICAgYXQ6ICdjZW50ZXIgY2VudGVyJywgLy8gYXQgdGhlIGJvdHRvbSByaWdodCBvZi4uLlxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6ICRjb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0OiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzaG93OiB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnY2xpY2snXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoaWRlOiB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiAndW5mb2N1cycsXG4gICAgICAgICAgICAgICAgICAgIGZpeGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAna29oLXF0aXAtcG9wb3ZlciAnICsgdG9vbHRpcENsYXNzICsgJyBxdGlwLWxpZ2h0IHF0aXAtc2hhZG93JyxcbiAgICAgICAgICAgICAgICAgICAgdGlwOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNwZWNpYWwgY2xlYW4gdXAgb2YgSG91enogYnV0dG9uIHN0dWZmXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCgnI2hvdXp6d2lkZ2V0LWpzJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgd2luZG93LmhvdXp6O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB3aW5kb3cuaHptcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjaG91enp3aWRnZXQtanMnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgdGhlIGh0bWwgYW5kIHJlaW5pdGlhbGl6ZSBvbmNsaWNrIGhhbmRsZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGFuZWwuaHRtbChwYW5lbEhUTUwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdFNoYXJlUGFuZWwoJHBhbmVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGJ1dHRvbi5xdGlwKHtcbiAgICAgICAgICAgICAgICBpZDogdG9vbHRpcElELFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJHBhbmVsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBteTogJ3RvcCByaWdodCcsXG4gICAgICAgICAgICAgICAgICAgIGF0OiAnY2VudGVyIGNlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0OiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzaG93OiB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnY2xpY2snXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoaWRlOiB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiAndW5mb2N1cycsXG4gICAgICAgICAgICAgICAgICAgIGZpeGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAna29oLXF0aXAtcG9wb3ZlciAnICsgdG9vbHRpcENsYXNzICsgJyBxdGlwLWxpZ2h0IHF0aXAtc2hhZG93JyxcbiAgICAgICAgICAgICAgICAgICAgdGlwOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNwZWNpYWwgY2xlYW4gdXAgb2YgSG91enogYnV0dG9uIHN0dWZmXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCgnI2hvdXp6d2lkZ2V0LWpzJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgd2luZG93LmhvdXp6O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB3aW5kb3cuaHptcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjaG91enp3aWRnZXQtanMnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgdGhlIGh0bWwgYW5kIHJlaW5pdGlhbGl6ZSBvbmNsaWNrIGhhbmRsZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGFuZWwuaHRtbChwYW5lbEhUTUwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdFNoYXJlUGFuZWwoJHBhbmVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgLyogRGVmaW5lcyBmdW5jdGlvbnMgZXhwb3NlZCB0aHJvdWdoIG1hbmFnZXIgb2JqZWN0ICovXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCRwYW5lbCkge1xuICAgICAgICAgICAgaW5pdFNoYXJlUGFuZWwoJHBhbmVsKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdEFzVG9vbHRpcDogZnVuY3Rpb24gKCRjb250YWluZXIsICRidXR0b24sICRwYW5lbCwgdG9vbHRpcElELCB0b29sdGlwQ2xhc3MpIHtcbiAgICAgICAgICAgIGluaXRTaGFyZVBhbmVsKCRwYW5lbCk7XG4gICAgICAgICAgICBtYWtlVG9vbHRpcCgkY29udGFpbmVyLCAkYnV0dG9uLCAkcGFuZWwsIHRvb2x0aXBJRCwgdG9vbHRpcENsYXNzKTtcbiAgICAgICAgfSxcbiAgICAgICAgcGludGVyZXN0OiBmdW5jdGlvbiAoJHRhcmdldCkge1xuICAgICAgICAgICAgc2hhcmVPblBpbnRlcmVzdCgkdGFyZ2V0KTtcbiAgICAgICAgfSxcbiAgICAgICAgaG91eno6IGZ1bmN0aW9uICgkdGFyZ2V0KSB7XG4gICAgICAgICAgICBzaGFyZU9uSG91enooJHRhcmdldCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZhY2Vib29rOiBmdW5jdGlvbiAoJHRhcmdldCkge1xuICAgICAgICAgICAgc2hhcmVPbkZhY2Vib29rKCR0YXJnZXQpO1xuICAgICAgICB9LFxuICAgICAgICB0d2l0dGVyOiBmdW5jdGlvbiAoJHRhcmdldCkge1xuICAgICAgICAgICAgc2hhcmVPblR3aXR0ZXIoJHRhcmdldCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdvb2dsZTogZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICAgICAgICAgIHNoYXJlT25Hb29nbGUoJHRhcmdldCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsOiBmdW5jdGlvbiAoJHRhcmdldCkge1xuICAgICAgICAgICAgc2hhcmVPbkVtYWlsKCR0YXJnZXQpO1xuICAgICAgICB9XG4gICAgfTtcblxufSkoKTtcblxuXG4vKiBEZWZpbmVzIGNvbW1vbiBjb2RlIGZvciBzaGFyZSBidXR0b24gKi9cbnZhciAkc29jaWFsUGFnZVNoYXJlID0gJChcIi5rb2gtcGFnZS1zaGFyZVwiKTtcbnZhciAkc29jaWFsUGFnZVNoYXJlQnV0dG9uID0gJHNvY2lhbFBhZ2VTaGFyZS5jaGlsZHJlbihcIi5rb2gtcGFnZS1zaGFyZS1idXR0b25cIik7XG52YXIgJHNvY2lhbFBhZ2VTaGFyZVBhbmVsID0gJHNvY2lhbFBhZ2VTaGFyZS5jaGlsZHJlbihcIi5rb2gtcGFnZS1zaGFyZS1wb3BvdmVyXCIpO1xuYXhLT0ggJiYgYXhLT0gudXRpbHMgJiYgYXhLT0gudXRpbHMuc29jaWFsU2hhcmUgJiYgYXhLT0hcbiAgICAudXRpbHNcbiAgICAuc29jaWFsU2hhcmVcbiAgICAuaW5pdEFzVG9vbHRpcCgkc29jaWFsUGFnZVNoYXJlLCAkc29jaWFsUGFnZVNoYXJlQnV0dG9uLCAkc29jaWFsUGFnZVNoYXJlUGFuZWwpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
