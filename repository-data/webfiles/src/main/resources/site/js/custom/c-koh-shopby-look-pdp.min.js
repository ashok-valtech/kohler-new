/*
 * Copyright Â© 2000-2017 Kohler Company. All Rights Reserved.
 */
var axKOH=axKOH||{};axKOH.main=axKOH.main||{},axKOH.main.productDetailsManager=function(){var componentClass="c-koh-shop-by-look-pdp",productContentOrigHeight=0,initCarousels=function($components){$components&&$components.each(function(componentIndex){if($(this).hasClass("c-koh-shop-by-look-details-ap")){var zoom,$component=$(this),setZoom=function(){return $(".product-zoom img").magnify()},$carousels=$component.find(".koh-product-image-sliders");$carousels.each(function(carouselIndex){var $carousel=$(this),$carouselSlideCollection=$carousel.find(".product-images__primary"),$carouselSlideControls=$carousel.find(".product-images__navigation"),$carouselSlideControlsMobile=$carousel.find(".product-images__navigation-mobile"),imageWidth=$carouselSlideCollection.find(".koh-product-iso-image").first().width(),imageHeight=$carouselSlideCollection.find(".koh-product-iso-image").first().height();$carouselSlideCollection.each(function(){initSlides($(this),componentIndex+carouselIndex),$(this).find("iframe").width(imageWidth).height(imageHeight)}),$carouselSlideCollection.on({init:function(event){$carouselSlideCollection.find(".slick-current .product-zoom-contract img"),"none"==$carouselSlideControlsMobile.css("display")&&setTimeout(function(){zoom=$(".product-zoom img").magnify()},1e3)},afterChange:function(event){"none"==$carouselSlideControlsMobile.css("display")&&(zoom&&zoom.destroy(),zoom=setZoom())}}).slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:".product-images__navigation",respondTo:"slider"}),$carouselSlideControls.slick({slidesToShow:5,slidesToScroll:1,asNavFor:".product-images__primary",dots:!1,centerMode:!0,vertical:!0,focusOnSelect:!0,arrow:!0,respondTo:"slider"}),$carouselSlideControlsMobile.slick({slidesToShow:5,slidesToScroll:1,asNavFor:".product-images__primary",dots:!1,centerMode:!0,focusOnSelect:!0,arrows:!0,respondTo:"slider"}),$carouselSlideControls.find(".slick-next").first().text("").append('<svg version="1.1" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="4.1 -3.6 23.9 12.9" style="enable-background: new 4.1 -3.6 23.9 12.9;" xml:space="preserve" aria-label="Next"><path fill="#d1d1d1" d="M4.1-2.7L5-3.6L16,7.6L27.2-3.5L28-2.7l-12,12L4.1-2.7z"></path></svg>'),$carouselSlideControlsMobile.find(".slick-next").first().text("").append('<svg version="1.1" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="4.1 -3.6 23.9 12.9" style="enable-background: new 4.1 -3.6 23.9 12.9;" xml:space="preserve" aria-label="Next"><path fill="#d1d1d1" d="M4.1-2.7L5-3.6L16,7.6L27.2-3.5L28-2.7l-12,12L4.1-2.7z"></path></svg>'),$carouselSlideCollection.find("img").width($carouselSlideCollection.find(".product-slide").width())})}else $components.each(function(componentIndex){var $component=$(this),$carousels=$component.find(".koh-product-banner, .koh-product-collection-banner");$carousels.each(function(carouselIndex){var $carousel=$(this),$carouselControls=$('<div class="koh-carousel-controls"></div>');$carousel.prepend($carouselControls);var $movePrevious=$('<button class="koh-carousel-control previous"><span class="icon"></span><span class="label">Previous</span></button>'),$moveNext=$('<button class="koh-carousel-control next"><span class="icon"></span><span class="label">Next</span></button>');$carouselControls.append($movePrevious),$carouselControls.append($moveNext);var $carouselSlideCollection=$carousel.find(".koh-product-image-set");$carouselSlideCollection.each(function(){initSlides($(this),componentIndex+carouselIndex)}),$carouselSlideCollection.slick({autoplay:!0,autoplaySpeed:5e3,adaptiveHeight:!0,dots:!0,dotsClass:"koh-carousel-indicators",arrows:!0,appendArrows:$carouselControls,appendDots:$carouselControls,prevArrow:$movePrevious,nextArrow:$moveNext,pauseOnHover:!0,pauseOnDotsHover:!0,draggable:!1})})})})},initSlides=function($slideCollection,containerID){var $slides=$slideCollection.children(".koh-product-image");$slides.each(function(slideIndex){var $slide=$(this),$hotspotsContainer=$slide.children(".koh-banner-hotspots");if($hotspotsContainer&&$hotspotsContainer.length>0){$hotspotsContainer=$hotspotsContainer.first();var $hotspotHeader=$hotspotsContainer.children(".koh-banner-hotspots-header");$hotspotHeader.click({target:$hotspotsContainer,slideCollection:$slideCollection},function(e){toggleOpen(e.data.target);var $slideSet=e.data.slideCollection,$activeSlide=$slideSet.find(".slick-active");$slideSet.children(".slick-list").height($activeSlide.height())});var $hotspots=$hotspotsContainer.children(".koh-banner-hotspots-collection").children(".koh-banner-hotspot");$hotspots.each(function(hotspotIndex){var $hotspot=$(this),$hotspotButton=$hotspot.children(".koh-banner-hotspot-icon"),$hotspotPanel=$hotspot.children(".koh-banner-hotspot-tile"),tipID="hotspotPopover"+containerID+slideIndex+hotspotIndex;initOverlayHotspot($slide,$hotspotButton,$hotspotPanel,tipID),$(window).resize(function(){waitForFinalEvent(function(){initOverlayHotspot($slide,$hotspotButton,$hotspotPanel,tipID)},100,"carouselTimer"+tipID)})})}})},initRequiredItems=function($components){$components&&$components.each(function(componentIndex){var $component=$(this),$button=($component.find(".koh-product-required"),$(".koh-product-required-button")),$panel=$(".koh-required-products-panel"),remodalID="RequiredItems"+componentIndex;initAsModal($button,$panel,remodalID)})},initProductVideos=function($components){$components&&$components.each(function(componentIndex){var $component=$(this),$videoLinks=$component.find(".koh-product-resources-videos .v-koh-video a");$videoLinks.each(function(videoIndex){var $videoLink=$(this),videoURL=$videoLink.attr("href"),apiURL=$videoLink.data("api");if(videoURL){var $videoPanel=$('<div class="koh-video-panel"><iframe width="628" height="354" src="'+videoURL+'" frameborder="0"></iframe></div>');$videoPanel.insertAfter($videoLink);var remodalID="Video"+componentIndex+videoIndex,$videoPanel=$component.find(".koh-video-panel");initAsModal($videoLink,$videoPanel,remodalID),$videoPanel.on("opened",function(){var $embeddedVideo=$(this).find("iframe");resizeResponsiveVideo($embeddedVideo)})}else $videoLink.click(function(e){e.preventDefault(),e.stopPropagation()});apiURL&&$.get(apiURL,function(data){if(data&&data.items&&data.items[0]&&data.items[0].snippet){var videoTitle=data.items[0].snippet.title;videoTitle&&$videoLink.children(".koh-video-title").text(videoTitle)}})})})},initDropdowns=function($components){$components&&$components.each(function(){var $component=$(this),$options=$component.find(".koh-product-options");$options.each(function(){var $optionsButton=$(this).children(".koh-product-options-button"),$optionsList=$(this).children(".koh-product-options-list");$optionsButton.click({list:$optionsList},function(e){var $button=$(this),$list=e.data.list;$button.hasClass("open")?($button.removeClass("open"),$list.removeClass("open")):($button.addClass("open"),$list.addClass("open"))})})})},initTooltips=function($components){if($components){var $componentModals=$('.remodal-wrapper > div[data-koh-component="'+componentClass+'"]'),$targets=$components.add($componentModals);$targets.each(function(componentIndex){var $component=$(this),$abbreviations=$component.find("abbr[title]");$abbreviations.each(function(abbrIndex){var $abbr=$(this);$abbr.qtip({id:"abbr"+componentIndex+abbrIndex,content:{attr:"title"},position:{my:"bottom center",at:"top center"},style:{classes:"koh-qtip-tooltip koh-product-detail-tooltip qtip-bootstrap",tip:{mimic:"center",width:30,height:15}}})});var $colorSwatches=$component.find("button.koh-product-color");$colorSwatches.each(function(swatchIndex){var $colorSwatch=$(this),$colorLabel=$colorSwatch.children(".label"),iOsDevices=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;iOsDevices?$(".koh-product-variant").find("button span").css("display","none"):$colorSwatch.qtip({id:"swatch"+componentIndex+swatchIndex,content:{text:$colorLabel.clone()},position:{my:"top left",at:"bottom left",adjust:{y:6}},style:{classes:"koh-qtip-tooltip koh-product-detail-tooltip qtip-bootstrap",tip:!1}})})})}},initZoomAndExpand=function($components){$components&&$components.each(function(){var expandViewer,viewerIndex,$component=$(this),viewers=[],$expander=$component.find(".product-slide-expand--open"),$contractor=$component.find(".product-slide-expand--close"),$productImages=($component.find(".product-images__primary"),$(".koh-product-top-row"),$component.find(".koh-product-banner .koh-product-image")),colorSelectedSku="";$productImages.each(function(){var $productImage=$(this),$imageLink=$productImage.find(".koh-background");$imageLink.imagesLoaded(function(){$imageLink.zoom({on:"grab"})})}),"block"==$(".product-images__navigation-mobile").css("display")&&$(".product-images__primary .slick-slide").each(function(){var viewer=ImageViewer($(this).find("img"),{maxZoom:400,snapView:!1});$(this).find(".iv-large-image").attr("src",$(this).find(".koh-product-img").attr("data-magnify-src")),viewers.push(viewer)}),$contractor.on("click",function(){$(".koh-product-expand-container").css("display","none"),$(".koh-product-top-row").height(0),$(".koh-product-details").css("top",""),$(".koh-product-image-sliders").css("margin-top","0"),"block"===$(".product-images__navigation-mobile").css("display")?(viewerIndex=$(".product-images__primary .slick-slide").index($(".product-images__primary .slick-current")),viewers[viewerIndex].refresh(),expandViewer=expandViewer.destroy()):$("#koh-product-expand").remove(),resizeForBuyNow()}),$expander.on("click",function(){var viewerIndex=(parseInt($(".koh-product-details").height()),$(".product-images__primary .slick-slide").index($(".product-images__primary .slick-current")));if(0==viewerIndex)var kohProductTopRowWidth=$(".koh-product-top-row").width(),kohProductTopRowHeight=.75*kohProductTopRowWidth,kohProductExpand="koh-product-expand-"+viewerIndex+"-"+colorSelectedSku;else var kohProductExpand="koh-product-expand-"+viewerIndex,kohProductTopRowWidth=$(".koh-product-top-row").width(),kohProductTopRowHeight=.75*kohProductTopRowWidth;if(0==$("#"+kohProductExpand).length){$currentSlide=$(".product-images__primary .slick-slide:eq("+viewerIndex+")");var productSrc=$currentSlide.find(".product-zoom-expand").find(".koh-product-img").attr("src"),productSrcVideo=$currentSlide.find("iframe").attr("src"),zoomSrc=$currentSlide.find(".product-zoom-expand").find(".koh-product-img").attr("data-magnify-src");$currentSlide.find(".product-zoom-expand").find(".koh-product-img").length>0?($(".koh-product-expand-inner").append('<img id="'+kohProductExpand+'" class="koh-img-product-expand" src="'+productSrc+'" data-magnify-src="'+zoomSrc+'"/>').find("img.koh-img-product-expand").animate({opacity:1},500),$("#"+kohProductExpand).width($(".koh-product-top-row").width()),$(".koh-product-expand-container").css("display","block"),$(".koh-img-product-expand").css("display","block"),$(".koh-product-top-row").height(kohProductTopRowHeight),$(".koh-product-details").css("top",kohProductTopRowHeight+20),"block"===$(".product-images__navigation-mobile").css("display")?($(".koh-product-image-sliders").css("margin-top",kohProductTopRowHeight-$(".koh-product-image-sliders").height()+100),expandViewer=ImageViewer("#"+kohProductExpand,{maxZoom:400,snapView:!1}),$(".koh-product-expand-container").find(".iv-large-image").attr("src",$("#"+kohProductExpand).attr("data-magnify-src"))):$("#"+kohProductExpand).magnify()):($(".koh-product-expand-inner").append('<embed id="'+kohProductExpand+'" class="koh-img-product-expand" style="width:'+kohProductTopRowWidth+"px; height:"+kohProductTopRowHeight+'px; position:relative; z-index:99" src="'+productSrcVideo+'" />'),$(".product-images__navigation .product-slide").on("click",function(){$(this).hasClass("product-slide-video-thumb")||$(".koh-product-expand-inner").find("embed").remove()}))}else{for(var len=$(".product-images__primary .slick-slide").length,i=0;len>i;i++)0==i?$(".koh-img-product-expand").css("display","none"):$("#koh-product-expand-"+i).css("display","none");$("#"+kohProductExpand).css("display","block"),$(".koh-product-expand-container").css("display","block"),$(".koh-product-top-row").height(kohProductTopRowHeight),$(".koh-product-details").css("top",kohProductTopRowHeight+20),"block"===$(".product-images__navigation-mobile").css("display")&&($(".koh-product-image-sliders").css("margin-top",kohProductTopRowHeight-$(".koh-product-image-sliders").height()+100),expandViewer=ImageViewer("#"+kohProductExpand,{maxZoom:400,snapView:!1}),$(".koh-product-expand-container").find(".iv-large-image").attr("src",$("#"+kohProductExpand).attr("data-magnify-src")))}resizeForBuyNow()}),$(".product-images__navigation-mobile").on("click",function(){$(".koh-product-expand-container").css("display","none"),$(".koh-product-top-row").height(0),$(".koh-product-details").css("top",""),$(".koh-product-image-sliders").css("margin-top","0")}),$(".product-images__navigation").on("click",function(){var display=$(".koh-product-expand-container").css("display");"block"===display?$(".product-slide-expand--open").trigger("click"):($(".koh-product-expand-container").css("display","none"),$("#koh-product-expand").remove(),$(".koh-product-top-row").height(0),$(".koh-product-details").css("top",""),$(".koh-product-image-sliders").css("margin-top","0"))}),$(".product-images__navigation .product-slide").on("click",function(){if(!$(this).hasClass("product-slide-video-thumb")){var $vURL=$(".product-images-video-wrapper iframe").attr("src");$(".product-images-video-wrapper iframe").attr("src",$vURL)}}),$(".koh-product-color").on("click",function(e){colorSelectedSku=$(this).parent().data("koh-sku"),$(".koh-product-iso-image").siblings(".iv-image-view").find(".iv-large-image").attr("src",$(e.target).closest(".koh-product-variant").attr("data-koh-image-zoom"))})})},initDataSwitcher=function($components){$components&&$components.each(function(){var $component=$(this),isAP=$component.hasClass("c-koh-shop-by-look-details-ap"),$productDetails=$component.find(".koh-product-details").first(),$productBannerSlider=$component.children(".koh-product-banner").children(".koh-product-image-set").first(),$primaryBanner=$productBannerSlider.find(".koh-product-image.koh-primary-image").find(".koh-background"),$productSKU=$productDetails.find(".koh-product-sku.koh-sku-k"),$productPrices=($productDetails.find(".koh-product-sku.koh-sku-k").data("product-sku"),$productDetails.find(".koh-product-sku.koh-sku-k").data("default-category"),$productDetails.children(".koh-product-prices"));$productDetails.children(".koh-product-artist-editions, .koh-product-colors"),$(".koh-modal-product-colors").each(function(){var $modalColorCollection=$(this);$modalColorCollection.find(".koh-modal-product-color").click(function(){var colorText=$(this).text();$modalColorCollection.find(".koh-modal-product-color-selected").text(colorText)})}),window.history.replaceState({},$productSKU.text()),$(".koh-product-colors").each(function(){var $colorCollection=$(this),$selectedColorLabel=$colorCollection.children(".koh-product-artist-editions-selected, .koh-product-colors-selected"),$colorVariants=$colorCollection.find(".koh-product-variant");$colorVariants.each(function(){var $colorVariant=$(this),productData={imageURL:$colorVariant.data("koh-image"),imageZoomURL:$colorVariant.data("koh-image-zoom"),imageExpandURL:$colorVariant.data("koh-image-expand"),imageExpandZoomURL:$colorVariant.data("koh-image-expand-zoom"),sku:$colorVariant.data("koh-sku"),skuk:$colorVariant.data("koh-sku-k"),prices:$colorVariant.data("koh-price"),colorName:$colorVariant.data("koh-color"),countries:$colorVariant.data("koh-countries"),itemNo:$colorVariant.data("koh-itemno"),defaultCategory:$colorVariant.data("default-category"),retailer:$colorVariant.data("koh-retailer")},productFields={banner:$primaryBanner,sku:$productSKU,prices:$productPrices,color:$selectedColorLabel};$colorVariant.children(".koh-product-color").click({variantSet:$colorVariants,variant:$colorVariant,product:productData,fields:productFields},function(e){var display=$(".koh-product-expand-container").css("display"),$variant=e.data.variant,$variantSet=e.data.variantSet,productData=e.data.product,productFields=e.data.fields;productFields.sku.text(productData.skuk),isAP?($(".koh-product-iso-image").attr("src",productData.imageURL).attr("data-magnify-src",productData.imageZoomURL),$("#koh-product-expand").attr("src",productData.imageExpandURL).attr("data-magnify-src",productData.imageExpandZoomURL),"none"==$(".product-slider-mobile").css("display")&&$(".product-zoom img").magnify()):(productFields.banner.children("img").attr("src",productData.imageURL),productFields.prices.find(".koh-current-price > .value").text(productData.prices.current),productFields.prices.find(".koh-previous-price > .value").text(productData.prices.previous),productFields.prices.find(".koh-discounted-price > .value").text(productData.prices.discounted)),productFields.color.text(productData.colorName),$variantSet.removeClass("koh-selected-variant"),$variant.addClass("koh-selected-variant"),$selectedColorLabel.text($colorVariant.text()),window.history.replaceState({},productData.sku),$(".product-images__navigation .slick-slide.product-slide-first").trigger("click"),$(".product-images__navigation-mobile .slick-slide.product-slide-first").trigger("click"),"block"===display&&$(".product-slide-expand--open").trigger("click");var $kohAvailableSku=$(".koh-country-available-in .koh-available-sku");"undefined"!=typeof $kohAvailableSku&&$kohAvailableSku.remove();var $countryAvailableIn=$(".koh-country-available-in");if(void 0!=$countryAvailableIn&&void 0!=productData.countries&&""!==productData.countries&&productData.countries.split("|,").forEach(function(item){if(""!==item){var itemArray=item.split("__"),countryId=itemArray[1];itemArray[2];item=itemArray[3];var siteURL=$("#"+countryId+"_SiteUrl").val(),$countryDiv="";""===siteURL&&($countryDiv=$("<div class='koh-available-sku'>"+item+"</div>")),$countryAvailableIn.append($countryDiv)}}),void 0===productData.retailer||""===productData.retailer){var $kohRetailer=$("#exclusiveAt");"undefined"!=typeof $kohRetailer&&$kohRetailer.empty()}else{var $kohRetailer=$("#exclusiveAt");if("undefined"!=typeof $kohRetailer){$kohRetailer.empty();var featureRetailersLabel=$("#featureRetailersLabel").val();$kohRetailer.append("<span>"+featureRetailersLabel+":</span>");var retailerImgUrlBase=$("#retailerImgUrl").val(),buyNowLabel=$("#buyNowLabel").val();productData.retailer.split("|,").forEach(function(item){if(""!==item){var itemArray=item.split("__"),image=itemArray[0],retailerURL=itemArray[1],retailerImgUrl=retailerImgUrlBase.replace("{0}",image),$retailerDiv="<div class='koh-retail-buy-content sc7'><div class='koh-flex-image-button'><div class='koh-img-div-wrap-one'><img src='"+retailerImgUrl+"' class='koh-retail-logo display-none-md-only'><img src='"+retailerImgUrl+"'  class='retail-logo display-block-md-only display-none-sm'></div><a href='"+retailerURL+"' target='_blank' rel='noopener noreferrer'><div id='product-detail__retail-buy-now' class='koh-btn-buy-now-green buttonBuyNow'>"+buyNowLabel+"</div></a></div></div>";$kohRetailer.append($retailerDiv)}})}}setTimeout(function(){resizeForBuyNow()},200)})});var $bookmarkButton=$component.find(".koh-product-bookmark button");$bookmarkButton.each(function(){$(this).qtip({content:{text:$(this).next(".koh-product-popover")},position:{my:"top right",at:"center center",viewport:!0},show:{event:"click"},hide:{event:"unfocus",fixed:!0},style:{classes:"koh-qtip-popover koh-release-popover qtip-light qtip-shadow",tip:!1}})});var $productShare=$component.find(".koh-product-share"),$productShareButton=$productShare.children(".koh-product-button"),$productSharePanel=$productShare.children(".koh-product-popover");axKOH&&axKOH.utils&&axKOH.utils.socialShare&&axKOH.utils.socialShare.initAsTooltip($productShare,$productShareButton,$productSharePanel)})})},initAsModal=function($button,$panel,remodalID){$panel.data("remodal-id",remodalID),$panel.prepend('<button data-remodal-action="close" class="remodal-close"></button>'),$panel.attr("data-koh-component",componentClass),$panel.addClass(componentClass+"-modal");var $remodalPanel=$panel.remodal({hashTracking:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:""});$button.data("remodal-target",remodalID),$button.click({target:$remodalPanel},function(e){e.preventDefault(),e.stopPropagation();var $target=e.data.target;$target.open()}),$(document).on("closed",$remodalPanel,function(e){e.target&&axKOH.utils.stopVideos(e.target)})},initOverlayHotspot=function($slide,$button,$content,tooltipID){axKOH.utils.debugLog("Handling hotspots"),$(window).width()<980?(axKOH.utils.debugLog("destroyOverlayHotspot"),null!==$button.data("qtip")&&$button.qtip("destroy",!0)):(axKOH.utils.debugLog("initOverlayHotspot"),$button.qtip({id:tooltipID,content:{text:$content.clone()},position:{my:"right top",at:"left top",container:$slide,viewport:!0,adjust:{method:"flip shift"}},show:{event:"click"},hide:{event:"unfocus",fixed:!0},style:{classes:"koh-qtip-popover koh-carousel-popover qtip-light qtip-shadow",tip:{mimic:"center",offset:50,width:30,height:15}}}))},initCompare=function($components){$components&&$components.each(function(){var $component=$(this),currentCompareProducts=[],itemno=$component.find(".koh-compare-add").first().attr("data-product-itemno");$(".c-koh-compare-panel").find(".koh-compare-remove").each(function(){currentCompareProducts.push($(this).attr("data-product-itemno"))}),$.inArray(itemno,currentCompareProducts)>-1&&$(".koh-product-tools").addClass("product-added")})},toggleOpen=function($target){$target.hasClass("open")?$target.removeClass("open"):$target.addClass("open")},makeVideoResponsive=function($videoElement){var aspectRatio=$videoElement.data("aspectratio"),maxWidth=$videoElement.data("maxwidth");if(!aspectRatio||!maxWidth){var width=$videoElement.width(),height=$videoElement.height(),aspectRatio=height/width;$videoElement.data("aspectratio",aspectRatio),$videoElement.data("maxwidth",width),$videoElement.removeAttr("width"),$videoElement.removeAttr("height")}},resizeResponsiveVideo=function($videoElement){var embedTags="iframe, object, embed",aspectRatio=$videoElement.data("aspectratio"),maxWidth=$videoElement.data("maxwidth");aspectRatio&&maxWidth||(makeVideoResponsive($videoElement),aspectRatio=$videoElement.data("aspectratio"),maxWidth=$videoElement.data("maxwidth"));var $parent=$videoElement.closest(":not("+embedTags+")"),responsiveWidth=320;$parent&&(responsiveWidth=$parent.width()),responsiveWidth=Math.min(responsiveWidth,maxWidth),$videoElement.width(responsiveWidth),$videoElement.height(responsiveWidth*aspectRatio)},timers={},waitForFinalEvent=function(callback,ms,uniqueId){uniqueId||(uniqueId="UNIQUEID"),timers[uniqueId]&&clearTimeout(timers[uniqueId]),timers[uniqueId]=setTimeout(callback,ms)},resizeCarouselVideos=function(){var isoImage=$(".koh-product-iso-image").first();$(".product-images__primary").find("embed").width(isoImage.width()).height(isoImage.height())},initBackToResult=function(){$(".koh-back-to-results a").on("click",function(e){e.preventDefault(),history.length>=2&&window.history.back(-1)})},setProductContentOrigHeight=function(){productContentOrigHeight=$(".koh-product-content").outerHeight(!0)},resizeForBuyNow=function(){var sectionHeight=0;if($(window).width()>767){var kohProductTopRow=$(".koh-product-top-row").outerHeight(!0);0===kohProductTopRow&&(kohProductTopRow=$(".koh-product-image-sliders").outerHeight(!0)),sectionHeight=kohProductTopRow;var kohProductContent=$(".koh-product-content");sectionHeight+=productContentOrigHeight;var kohProductDetails=$(".koh-product-details"),productDetailsHeight=kohProductDetails.outerHeight(!0),productBreadcrumbHeight=$(".koh-product-breadcrumb").outerHeight(!0),productDetailsHeight=productDetailsHeight+kohProductDetails.position().top,pairsWithHeight=0;$(".koh-product-pairs-with").each(function(){pairsWithHeight+=$(this).outerHeight(!0)});var productDetailsHeightForContent=productDetailsHeight-kohProductTopRow;productDetailsHeightForContent>productContentOrigHeight?kohProductContent.outerHeight(productDetailsHeightForContent):kohProductContent.outerHeight(productContentOrigHeight),productDetailsHeight>=sectionHeight?$(".c-koh-shop-by-look-pdp").height(productDetailsHeight+productBreadcrumbHeight+pairsWithHeight):$(".c-koh-shop-by-look-pdp").height(sectionHeight+productBreadcrumbHeight+pairsWithHeight)}};return{initialize:function(){initBackToResult();var $components=$("."+componentClass);initCarousels($components),initRequiredItems($components),initProductVideos($components),initDropdowns($components),initCompare($components),initTooltips($components),initZoomAndExpand($components),initDataSwitcher($components)},onLoad:function(){resizeCarouselVideos(),setProductContentOrigHeight(),resizeForBuyNow()}}}(),$(function(){$(document).ready(function(){axKOH.main.productDetailsManager.initialize(),$(document).on("click",".koh-share-email",function(e){$(".koh-qtip-popover").hide(),emailSharePopUp()}),$(document).on("click","#koh-share-email-btn",function(){validateShareEmailForm()})}),$(window).on("load",function(){if(1===window.performance.navigation.type&&void 0!==typeof Storage){var lastVisitedPageTrackRefresh=sessionStorage.getItem("prodListClickTrackRefresh");void 0!==lastVisitedPageTrackRefresh&&null!==lastVisitedPageTrackRefresh&&sessionStorage.setItem("prodListClickTrack",!0)}if(void 0!==typeof Storage){var lastVisitedPageTrack=sessionStorage.getItem("prodListClickTrack");if(("Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/rv:11/)||"undefined"!=typeof $.browser&&1==$.browser.msie)&&1===history.length){var getClass=$(".koh-product-breadcrumb").find(".koh-back-to-results");getClass.hasClass("koh-back-to-results")?getClass.removeClass("koh-back-to-results").addClass("koh-back-to-results-default"):getClass.addClass("koh-back-to-results-default")}else if(void 0!==lastVisitedPageTrack&&null!==lastVisitedPageTrack){sessionStorage.removeItem("prodListClickTrack");var getClass=$(".koh-product-breadcrumb").find(".koh-back-to-results-default");getClass.hasClass("koh-back-to-results-default")?getClass.removeClass("koh-back-to-results-default").addClass("koh-back-to-results"):getClass.addClass("koh-back-to-results"),sessionStorage.setItem("prodListClickTrackRefresh",!0)}else{var lastVisitedPageTrackRefresh=sessionStorage.getItem("prodListClickTrackRefresh");void 0!==lastVisitedPageTrackRefresh&&null!==lastVisitedPageTrackRefresh&&sessionStorage.removeItem("prodListClickTrackRefresh");var getClass=$(".koh-product-breadcrumb").find(".koh-back-to-results");getClass.hasClass("koh-back-to-results")?getClass.removeClass("koh-back-to-results").addClass("koh-back-to-results-default"):getClass.addClass("koh-back-to-results-default")}}axKOH.main.productDetailsManager.onLoad()})}),$(document).on("click",".koh-back-to-results-default a",function(e){e.preventDefault();var listPageUrl=$(".koh-product-breadcrumb ul > li:last-child a").attr("href");document.location.href=listPageUrl});var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},iOS:function(){return navigator.userAgent.match(/iPad/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.iOS()||isMobile.Windows()}};isMobile.any()&&$("button.product-slide-expand--open").css("display","none");var windowOldWidth=$(window).width();$(window).resize(function(){var windowNewWidth=$(window).width();windowOldWidth!=windowNewWidth&&(window.location.href=window.location.href)});