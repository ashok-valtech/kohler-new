/*
 * Copyright Â© 2000-2018 Kohler Company. All Rights Reserved.
 */
function isMobBrowser(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?!0:!1}function getIP(){$.ajax({url:"https://ipinfo.io",type:"GET",dataType:"jsonp",success:function(response){var ip=response.ip;getData(ip)},error:function(jqXHR,textStatus,errorThrown){console.log("error: "+errorThrown+" || status: "+textStatus+" || data: "+jqXHR)}})}function getData(ip){var url=base_url+"/api/storeservice/getBingResponse/"+ip;$.ajax({url:url,type:"POST",success:function(response){currentLat=response.data.Lt,currentLong=response.data.Lg,GetMap(currentLat,currentLong)},error:function(jqXHR,textStatus,errorThrown){console.log("error: "+errorThrown+" || status: "+textStatus+" || data: "+jqXHR),currentLat=defaultStorelocatorLatId,currentLong=defaultStorelocatorLongId,GetMap(currentLat,currentLong)}})}function GetMap(lat,long){map=new Microsoft.Maps.Map("#koh-map",{credentials:bingMapKey,disableScrollWheelZoom:!0,center:new Microsoft.Maps.Location(lat,long)});var center=map.getCenter();infobox=new Microsoft.Maps.Infobox(center,{visible:!1}),infobox.setMap(map);var currentLocLatLong=lat+" "+long;$("#defaultLatLong").val(currentLocLatLong),$(".koh-store-search-btn").trigger("click")}function GetEntityByProperty(collection,propertyName,propertyValue){for(var entity,len=collection.getLength(),i=0;len>i;i++){if(entity=collection.get(i),entity[propertyName]&&entity[propertyName]==propertyValue)return entity;if(entity.getLength){var layer=GetEntityByProperty(entity,propertyName,propertyValue);if(null!=layer)return layer}}return null}function mapSeachModule(value,kec,distributor,startDealer,dealer,searchFlag){Microsoft.Maps.loadModule("Microsoft.Maps.Search",function(){searchFlag&&(map=new Microsoft.Maps.Map("#koh-map",{credentials:bingMapKey,disableScrollWheelZoom:!0,center:new Microsoft.Maps.Location(defaultStorelocatorLatId,defaultStorelocatorLongId)})),searchManager=new Microsoft.Maps.Search.SearchManager(map);var requestOptions={bounds:map.getBounds(),where:value,callback:function(answer){loadSpatialDataServices(answer.results[0].location,kec,distributor,startDealer,dealer)},errorCallback:function(){map.entities.clear(),forNoResults()}};searchManager.geocode(requestOptions)})}function loadSpatialDataServices(center,kec,distributor,startDealer,dealer){Microsoft.Maps.loadModule("Microsoft.Maps.SpatialDataService",function(){queryOptions={queryUrl:dataSource,top:searchResultLimitId,inlineCount:!0,spatialFilter:{spatialFilterType:"nearby",location:center,radius:kmDigitId}},getNearByLocations(kec,distributor,startDealer,dealer)})}function getNearByLocations(kec,distributor,startDealer,dealer){map.entities.clear(),map.entities.data=[],queryOptions.filter="",Microsoft.Maps.SpatialDataService.QueryAPIManager.search(queryOptions,map,function(data){if(data.length>0){var center=map.getCenter();infobox=new Microsoft.Maps.Infobox(center,{visible:!1}),dataLayer=new Microsoft.Maps.EntityCollection,map.entities.push(dataLayer);var infoboxLayer=new Microsoft.Maps.EntityCollection;map.entities.push(infoboxLayer),infobox.setMap(map),$("#koh-store-locator-results ul").html("");var screenWidth=$(window).outerWidth();768>screenWidth?($("#koh-response-tab").show(),$("#koh-map-container").hide(),$("html, body").animate({scrollTop:$("#koh-response-tab").offset().top},1e3)):($("#koh-response-tab").hide(),$("#koh-map-container").show()),appendPinsToMap(data,kec,distributor,startDealer,dealer)}else forNoResults()})}function appendPinsToMap(jsonData,kec,distributor,startDealer,dealer){var pin,leftContent="",locations=[],locationCount=0,kecArray=[],distributorArray=[],dealerArray=[],startDealerArray=[];$.each(jsonData,function(ind1,val1){var currentMeta1=val1.metadata;switch(currentMeta1.ContactClassification.toLowerCase()){case kecstorecontactclassification:kecArray.push(val1);break;case"distributor":distributorArray.push(val1);break;case"star dealer":startDealerArray.push(val1);break;case"dealer":dealerArray.push(val1)}});var finalArray=kecArray.concat(distributorArray,startDealerArray,dealerArray);$.each(finalArray,function(ind,val){var currentMeta=val.metadata,count=ind+1;if(kec&&currentMeta.ContactClassification.toLowerCase()==kecstorecontactclassification){++locationCount;var pushpinOptions={icon:'<svg xmlns="https://www.w3.org/2000/svg" width="25" height="25"><rect width="25" height="25" style="fill:rgb(132, 166, 72);"></rect><text font-family="HelveticaBold, Helvetica, sans-serif" font-weight="700" x="50%" y="18" text-anchor="middle" fill="white" font-size="14">'+count+"</text></svg>",anchor:new Microsoft.Maps.Point(12,12)};pin=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(currentMeta.Latitude,currentMeta.Longitude),pushpinOptions),pin=createHtmlToPin(pin,currentMeta,"expCenter",count),isMobBrowser()?Microsoft.Maps.Events.addHandler(pin,"click",displayInfobox):Microsoft.Maps.Events.addHandler(pin,"mouseover",displayInfobox),dataLayer.push(pin),leftContent=createLeftHtmlContent(currentMeta,leftContent,"expCenter",count),locations.push(val.getLocation()),map.entities.push(val)}if(distributor&&"distributor"==currentMeta.ContactClassification.toLowerCase()){++locationCount;var pushpinOptions={icon:'<svg xmlns="https://www.w3.org/2000/svg" width="25" height="25"><rect width="25" height="25" style="fill:rgb(0,167,206);"></rect><text font-family="HelveticaBold, Helvetica, sans-serif" font-weight="700" x="50%" y="18" text-anchor="middle" fill="white" font-size="14">'+count+"</text></svg>",anchor:new Microsoft.Maps.Point(12,12)};pin=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(currentMeta.Latitude,currentMeta.Longitude),pushpinOptions),pin=createHtmlToPin(pin,currentMeta,"distributor",count),isMobBrowser()?Microsoft.Maps.Events.addHandler(pin,"click",displayInfobox):Microsoft.Maps.Events.addHandler(pin,"mouseover",displayInfobox),dataLayer.push(pin),leftContent=createLeftHtmlContent(currentMeta,leftContent,"distributor",count),locations.push(val.getLocation()),map.entities.push(val)}if(startDealer&&"star dealer"==currentMeta.ContactClassification.toLowerCase()){++locationCount;var pushpinOptions={icon:'<svg xmlns="https://www.w3.org/2000/svg" width="25" height="25"><rect width="25" height="25" style="fill:rgb(0,0,0);"></rect><text font-family="HelveticaBold, Helvetica, sans-serif" font-weight="700" x="50%" y="18" text-anchor="middle" fill="white" font-size="14">'+count+"</text></svg>",anchor:new Microsoft.Maps.Point(12,12)};pin=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(currentMeta.Latitude,currentMeta.Longitude),pushpinOptions),pin=createHtmlToPin(pin,currentMeta,"starDealer",count),isMobBrowser()?Microsoft.Maps.Events.addHandler(pin,"click",displayInfobox):Microsoft.Maps.Events.addHandler(pin,"mouseover",displayInfobox),dataLayer.push(pin),leftContent=createLeftHtmlContent(currentMeta,leftContent,"starDealer",count),locations.push(val.getLocation()),map.entities.push(val)}if(dealer&&"dealer"==currentMeta.ContactClassification.toLowerCase()){++locationCount;var pushpinOptions={icon:'<svg xmlns="https://www.w3.org/2000/svg" width="25" height="25"><rect width="25" height="25" style="fill:rgb(157, 157, 157);"></rect><text font-family="HelveticaBold, Helvetica, sans-serif" font-weight="700" x="50%" y="18" text-anchor="middle" fill="white" font-size="14">'+count+"</text></svg>",anchor:new Microsoft.Maps.Point(12,12)};pin=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(currentMeta.Latitude,currentMeta.Longitude),pushpinOptions),pin=createHtmlToPin(pin,currentMeta,"dealer",count),isMobBrowser()?Microsoft.Maps.Events.addHandler(pin,"click",displayInfobox):Microsoft.Maps.Events.addHandler(pin,"mouseover",displayInfobox),dataLayer.push(pin),leftContent=createLeftHtmlContent(currentMeta,leftContent,"dealer",count),locations.push(val.getLocation()),map.entities.push(val)}}),$("#koh-store-locator-results ul").append(leftContent),locationCount>0?(forResults(locationCount),map.setView({bounds:Microsoft.Maps.LocationRect.fromLocations(locations),padding:80})):forNoResults()}function createHtmlToPin(pin,currentMeta,filterType,count){var storeDisplayName=currentMeta.LocationName?currentMeta.LocationName:"",storeDisplayNameAlternate=currentMeta.LocationNameAlternate?currentMeta.LocationNameAlternate:"",storeAddress=currentMeta.AddressLine?currentMeta.AddressLine:"",storeAddressAlternate=currentMeta.AddressLineAlternate?currentMeta.AddressLineAlternate:"",storeLocality=currentMeta.Locality?currentMeta.Locality:"",storeLocalityAlternate=currentMeta.LocalityAlternate?currentMeta.LocalityAlternate:"",storeDistrict=currentMeta.AdminDistrict?currentMeta.AdminDistrict:"",storeDistrictAlternate=currentMeta.AdminDistrictAlternate?currentMeta.AdminDistrictAlternate:"",storePostalCode=currentMeta.PostalCode?currentMeta.PostalCode:"",storePhone=currentMeta.Phone?currentMeta.Phone:"",storeViewDetails=currentMeta.WebURL?currentMeta.WebURL:"",storeOpeningHours=currentMeta.OpeningHours?currentMeta.OpeningHours:"";return pin.title="",pin.title+='<div class="koh-store-icon-wrapper">',"expCenter"==filterType&&(pin.title+='<svg xmlns="https://www.w3.org/2000/svg" width="25" height="25"><rect width="25" height="25" style="fill:rgb(132, 166, 72);"></rect><text x="50%" y="18" text-anchor="middle" fill="white" font-size="14">'+count+"</text></svg>"),"distributor"==filterType&&(pin.title+='<svg xmlns="https://www.w3.org/2000/svg" width="25" height="25"><rect width="25" height="25" style="fill:rgb(0,167,206);"></rect><text x="50%" y="18" text-anchor="middle" fill="white" font-size="14">'+count+"</text></svg>"),"starDealer"==filterType&&(pin.title+='<svg xmlns="https://www.w3.org/2000/svg" width="25" height="25"><rect width="25" height="25" style="fill:rgb(0,0,0);"></rect><text x="50%" y="18" text-anchor="middle" fill="white" font-size="14">'+count+"</text></svg>"),"dealer"==filterType&&(pin.title+='<svg xmlns="https://www.w3.org/2000/svg" width="25" height="25"><rect width="25" height="25" style="fill:rgb(157, 157, 157);"></rect><text x="50%" y="18" text-anchor="middle" fill="white" font-size="14">'+count+"</text></svg>"),"en"==languageCode?(pin.title+='</div><span class="koh-store-name">'+storeDisplayName+"</span > ",pin.description='<div class="koh-map-details">',pin.description+='<div class="koh-store-locator-result-address">'+storeAddress+"</div>",pin.description+='<div class="koh-store-locator-result-city">'+storeLocality+", "+storeDistrict+" "+storePostalCode+"</div><br>"):(pin.title+='</div><span class="koh-store-name">'+storeDisplayNameAlternate+"</span > ",pin.description='<div class="koh-map-details">',pin.description+='<div class="koh-store-locator-result-address">'+storeAddressAlternate+"</div>",pin.description+='<div class="koh-store-locator-result-city">'+storeLocalityAlternate+", "+storeDistrictAlternate+" "+storePostalCode+"</div><br>"),pin.description+='<div class="koh-store-locator-result-phone-num">'+storePhone+"</div>",storeViewDetails&&(pin.description+='<div class="koh-store-locator-result-view-details"><a href="'+storeViewDetails+'" target="_blank">'+viewDetailsLabelId+"</a></div>"),pin.description+='<div class="koh-store-locator-result-opening-hours">'+storeOpeningHours+"</div></div>",pin.id=count,pin}function createLeftHtmlContent(currentMeta,leftContent,filterType,count){var kecBackgroundClass="expCenter"==filterType?"koh-kec-background":"",storeLogo=currentMeta.StoreLogo?currentMeta.StoreLogo:"",storeLat=currentMeta.Latitude?currentMeta.Latitude:"",storeLong=currentMeta.Longitude?currentMeta.Longitude:"",storePrimaryEmail=currentMeta.PrimaryContactEmail?currentMeta.PrimaryContactEmail:"",storeDisplayName=currentMeta.LocationName?currentMeta.LocationName:"",storeDisplayNameAlternate=currentMeta.LocationNameAlternate?currentMeta.LocationNameAlternate:"",storeAddress=currentMeta.AddressLine?currentMeta.AddressLine:"",storeAddressAlternate=currentMeta.AddressLineAlternate?currentMeta.AddressLineAlternate:"",storeLocality=currentMeta.Locality?currentMeta.Locality:"",storeLocalityAlternate=currentMeta.LocalityAlternate?currentMeta.LocalityAlternate:"",storeDistrict=currentMeta.AdminDistrict?currentMeta.AdminDistrict:"",storeDistrictAlternate=currentMeta.AdminDistrictAlternate?currentMeta.AdminDistrictAlternate:"",storePostalCode=currentMeta.PostalCode?currentMeta.PostalCode:"",storePhone=currentMeta.Phone?currentMeta.Phone:"",storeViewDetails=currentMeta.WebURL?currentMeta.WebURL:"",storeOpeningHours=currentMeta.OpeningHours?currentMeta.OpeningHours:"";leftContent+='<li class="koh-store-locator-result row '+kecBackgroundClass+'"><input class="bingPinId" type="hidden" value="'+count+'"/>',storeLogo&&(leftContent+='<img class="koh-store-locator-img" src="'+currentMeta.StoreLogo+'" alt="KohlerExperienceCenter">'),leftContent+='<input id="currentLatLong" type="hidden" value="'+storeLat+","+storeLong+'"/>',leftContent+='<input id="currentPhone" type="hidden" value="'+storePhone+'"/>',leftContent+='<input id="currentPrimaryEmail" type="hidden" value="'+storePrimaryEmail+'"/>',leftContent+='<h3 class="koh-store-name"><div style="display: inline-block; vertical-align: middle">',"expCenter"==filterType&&(leftContent+='<svg xmlns="https://www.w3.org/2000/svg" width="25" height="25"><rect width="25" height="25" style="fill:rgb(132, 166, 72);"></rect><text x="50%" y="18" text-anchor="middle" fill="white" font-size="14">'+count+"</text></svg>"),"distributor"==filterType&&(leftContent+='<svg xmlns="https://www.w3.org/2000/svg" width="25" height="25"><rect width="25" height="25" style="fill:rgb(0,167,206);"></rect><text x="50%" y="18" text-anchor="middle" fill="white" font-size="14">'+count+"</text></svg>"),"starDealer"==filterType&&(leftContent+='<svg xmlns="https://www.w3.org/2000/svg" width="25" height="25"><rect width="25" height="25" style="fill:rgb(0,0,0);"></rect><text x="50%" y="18" text-anchor="middle" fill="white" font-size="14">'+count+"</text></svg>"),"dealer"==filterType&&(leftContent+='<svg xmlns="https://www.w3.org/2000/svg" width="25" height="25"><rect width="25" height="25" style="fill:rgb(157,157,157);"></rect><text x="50%" y="18" text-anchor="middle" fill="white" font-size="14">'+count+"</text></svg>"),"en"==languageCode?(leftContent+="</div><span>"+storeDisplayName+"</span></h3>",leftContent+='<div class="koh-map-details">',leftContent+='<div class="koh-store-locator-result-address">'+storeAddress+"</div>",leftContent+='<div class="koh-store-locator-result-city">'+storeLocality+", "+storeDistrict+" "+storePostalCode+"</div><br>"):(leftContent+="</div><span>"+storeDisplayNameAlternate+"</span></h3>",leftContent+='<div class="koh-map-details">',leftContent+='<div class="koh-store-locator-result-address">'+storeAddressAlternate+"</div>",leftContent+='<div class="koh-store-locator-result-city">'+storeLocalityAlternate+", "+storeDistrictAlternate+" "+currentMeta.PostalCode+"</div><br>"),leftContent+='<div class="koh-store-locator-result-phone-num"><span>'+storePhone+"</span></div>",storeViewDetails&&(leftContent+='<div class="koh-store-locator-result-view-details"><a href="'+storeViewDetails+'" target="_blank">'+viewDetailsLabelId+"</a></div>"),leftContent+='<div class="koh-store-locator-result-opening-hours"><span>'+storeOpeningHours+"</span></div></div>";var currentMiles=currentMeta.__Distance.toFixed(2);return leftContent+='<div class="koh-store-locator-result-distance">'+currentMiles+" KM</div>"}function displayInfobox(e){if("pushpin"==e.targetType){var infoDetails=e.target;infobox.setLocation(e.target.getLocation());var infoTitle="<div class='infobox_title'>"+infoDetails.title+"</div>",infoDescription=infoDetails.description;infobox.setOptions({visible:!0,offset:new Microsoft.Maps.Point(-102,15),htmlContent:infoboxTemplate.replace("{title}",infoTitle).replace("{description}",infoDescription)}),map.setView({center:e.target.getLocation(),animate:!0})}}function closeInfobox(){infobox.setOptions({visible:!1})}function forResults(locationCount){$("#koh-map-container").prepend($("#koh-map").detach()),$("#koh-no-result h3").empty();var searchText=$("#koh-search-text").val();if(""!=searchText){var resultMessage=locationCount+" "+searchSuccessMessageId+" "+searchText+".";$("#koh-no-result h3").html(resultMessage)}$("#koh-no-result, #koh-legend").show(),$("#koh-store-locator-results").removeClass("hide"),$("#koh-map-container").removeClass("col-sm-12").addClass("col-sm-8 pad-left-0")}function forNoResults(){jQuery("#koh-map").detach().appendTo(".c-koh-store-locator"),$("#koh-initial-map").show(),$("").hide(),$("#koh-no-result h3").empty();var resultMessage=searchErrorMessageId;$("#koh-no-result h3").html(resultMessage),$("#koh-no-result").show(),$("#koh-store-locator-results").hasClass("hide")||$("#koh-store-locator-results").addClass("hide"),$("#koh-map-container").hasClass("col-sm-8")&&$("#koh-map-container").removeClass("col-sm-8 pad-left-0").addClass("col-sm-12"),$("#koh-legend").hide(),$("#koh-store-locator-results").addClass("hide")}function showToolTip(currentTip){$(currentTip).find("span").css({visibility:"visible",opacity:"1"})}function hideToolTip(){$(".koh-tooltip span").css({visibility:"hidden",opacity:"0"})}function switchToolTip(currentTip){var currentOffset=$(currentTip).offset(),toptipHeight=$(currentTip).find("span").outerHeight(),xAxis=currentOffset.top,windowTop=$(window).scrollTop()+toptipHeight+100;windowTop>xAxis?$(currentTip).find("span").removeClass("koh-tooltiptop").addClass("koh-tooltipbottom"):$(currentTip).find("span").removeClass("koh-tooltipbottom").addClass("koh-tooltiptop")}var closeBtnImg='<img class="infobox-close-img" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjE0cHgiIHdpZHRoPSIxNHB4IiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiPjxwYXRoIGQ9Ik03LDBDMy4xMzQsMCwwLDMuMTM0LDAsN2MwLDMuODY3LDMuMTM0LDcsNyw3YzMuODY3LDAsNy0zLjEzMyw3LTdDMTQsMy4xMzQsMTAuODY3LDAsNywweiBNMTAuNSw5LjVsLTEsMUw3LDhsLTIuNSwyLjVsLTEtMUw2LDdMMy41LDQuNWwxLTFMNyw2bDIuNS0yLjVsMSwxTDgsN0wxMC41LDkuNXoiLz48L3N2Zz4=" alt="close infobox">',closeBtn='<a class="infobox-close" href="javascript:closeInfobox()" data-tag="SDK.Infobox.CloseBtn">'+closeBtnImg+"</a>",infoboxTemplate='<div class="customInfobox"><div class="title">{title}</div>{description}</div>'+closeBtn+"</div>",defaultStorelocatorLatId=$("#defaultLatId").val(),defaultStorelocatorLongId=$("#defaultLongId").val(),searchErrorMessageId=$("#searchErrorMessageId").val(),searchSuccessMessageId=$("#searchSuccessMessageId").val(),bingMapCurrentLocationKeyId=$("#bingMapCurrentLocationKeyId").val(),searchResultLimitId=$("#searchResultLimitId").val(),viewDetailsLabelId=$("#viewDetailsLabelId").val(),kmDigitId=$("#kmDigitId").val(),dataSource=$(".koh-bingdatasource").data("bingdatasource"),map,bingMapKey=$(".koh-bingdatasourcekeys").data("bingdatasourcekeys"),languageCode=$(".koh-bingdatasourcelanguage").data("bingdatasourcelanguage"),currentLat,currentLong,currentPhone,currentEmail,currentLat,currentLat,base_url=window.location.origin,searchFlag=!0,kecstorecontactclassification=$("#koh-exp-center").val();$(document).ready(function(){}),$(window).on("load",function(){getIP()}),$(document).on("click",".koh-store-locator-result",function(e){var currentPinId=$(this).closest("li").find(".bingPinId").val(),pin=GetEntityByProperty(dataLayer,"id",currentPinId),infoTitle="<div class='infobox_title'>"+pin.title+"</div>",infoDescription=pin.description;pin&&(map.setView({center:pin.getLocation(),animate:!0}),setTimeout(function(){infobox.setOptions({visible:!0,offset:new Microsoft.Maps.Point(-102,15),htmlContent:infoboxTemplate.replace("{title}",infoTitle).replace("{description}",infoDescription)}),infobox.setLocation(pin.getLocation())},1e3))}),$(".koh-store-search-btn").click(function(){$("#koh-exp-center").prop("checked",!0),$("#koh-distributor").prop("checked",!0),$("#koh-star-dealer").prop("checked",!0),$("#koh-dealer").prop("checked",!0);var searchText=$("#koh-search-text").val();""==searchText?(searchText=$("#defaultLatLong").val(),searchFlag=!1):searchFlag=!0,mapSeachModule(searchText,$("#koh-exp-center").is(":checked"),$("#koh-distributor").is(":checked"),$("#koh-star-dealer").is(":checked"),$("#koh-dealer").is(":checked"),searchFlag)}),$("#koh-map-check :checkbox").change(function(){var searchText=$("#koh-search-text").val();""==searchText?(searchText=$("#defaultLatLong").val(),searchFlag=!1):searchFlag=!0,searchText&&mapSeachModule(searchText,$("#koh-exp-center").is(":checked"),$("#koh-distributor").is(":checked"),$("#koh-star-dealer").is(":checked"),$("#koh-dealer").is(":checked"),searchFlag)}),$(document).on("keyup","#koh-search-text",function(e){e.preventDefault(),13===e.keyCode&&$(".koh-store-search-btn").click()});var callFunctionFromScript=function(inst){inst.open(),scaleCaptcha()},scaleCaptcha=function(){var reCaptchaWidth=304,containerWidth=$(".captcha-container").width(),captchaElements=$(".g-recaptcha");if(reCaptchaWidth>=containerWidth){var scale=.82;captchaElements.css("transform","scale("+scale+")").css("-webkit-transform","scale("+scale+")").css("-ms-transform","scale("+scale+")").css("-o-transform","scale("+scale+")").css("transform-origin","0 0").css("-webkit-transform-origin","0 0").css("-ms-transform-origin","0 0").css("-o-transform-origin","0 0"),$(".captcha-container").height(68)}};$(window).on("resize",function(){var listContent=$("#koh-store-locator-results ul").html().trim();if(listContent.length>0){var screenWidth=$(window).width();if(768>screenWidth){$("#koh-response-tab").show();var getActiveTab=$("#koh-response-tab").find(".active");"koh-list-map-tab"==$(getActiveTab).attr("id")?($("#koh-store-locator-results").show(),$("#koh-map-container").hide()):($("#koh-store-locator-results").hide(),$("#koh-map-container").show())}else $("#koh-response-tab").hide(),$("#koh-map-container").show(),$("#koh-store-locator-results").show()}}),$("#koh-response-tab li").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("#koh-response-tab li").removeClass("active"),$(this).addClass("active");var clickedId=$(this).attr("id");"koh-map-tab"==clickedId?($("#koh-store-locator-results").hide(),$("#koh-map-container").show()):($("#koh-store-locator-results").show(),$("#koh-map-container").hide())}),$(".koh-dotted-span").on("mouseover",function(e){var currentTip=$(this).closest(".koh-tooltip");showToolTip(currentTip),switchToolTip(currentTip)}),$(".koh-dotted-span").on("mouseout",function(e){var currentTip=$(this).closest(".koh-tooltip");hideToolTip(currentTip)}),$(window).on("scroll",function(){var currentTipText=$(".koh-tooltip span");$(currentTipText).each(function(index){if("visible"===$(this).css("visibility")){var currentTip=$(this).closest(".koh-tooltip");switchToolTip(currentTip)}})}),$(document).on("keyup",".number-input",function(){var start=this.selectionStart-1,end=this.selectionEnd-1;$(this).val().match(/[^0-9]/gi)&&($(this).val($(this).val().replace(/[^0-9]/gi,"")),this.setSelectionRange(start,end))}),$(document).on("blur","#koh-search-text",function(e){return e.preventDefault(),$("#as_container").css("visibility","hidden"),$(".asOuterContainer ul").empty(),e.stopImmediatePropagation(),!1});