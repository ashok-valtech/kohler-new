/*
 * Copyright Â© 2000-2017 Kohler Company. All Rights Reserved.
 */
var axKOH=axKOH||{};axKOH.main=axKOH.main||{};var noUiSlider=noUiSlider||null;axKOH.main.isLazyLoader=!0,axKOH.main.quickViewLastIndex=-1;var localeValue=$("#localeValue").val(),priceVat=$("#price-vat").val(),multipleValue=$("#multiply-value").val();axKOH.main.productFacetedSearch=function(){var componentClass="c-koh-product-faceted-search",initSearchNav=function(){var $searchControls=$(".koh-search-controls").first(),$searchSet=$searchControls.children(".koh-search-set").first(),$menuButton=$searchControls.children(".koh-search-select").first();$menuButton.click({list:$searchSet},function(e){var $button=$(this),$list=e.data.list;$button.hasClass("open")?($button.removeClass("open"),$list.removeClass("open")):($button.addClass("open"),$list.addClass("open"))}),$(document).click({target:$menuButton,list:$searchSet},function(e){var $button=e.data.target,$list=e.data.list;$(e.target).closest($button).length||$(e.target).is($button)||$button.hasClass("open")&&($button.removeClass("open"),$list.removeClass("open"))})},initPLPProductClick=function($components){if($components){var $productTiles=$components.find(".koh-product-tile");$productTiles.each(function(){var $productLink=$(this).find(".koh-product-tile-content > a");$productLink.on("click",function(){sessionStorage.setItem("prodListClickTrack",!0)})}),$(".remodal-wrapper").each(function(){var $productLink=$(this).find("a");$productLink.each(function(){$(this).on("click",function(){sessionStorage.setItem("prodListClickTrack",!0)})})})}},initMarketAvailabilityTop=function($components){if($components){var marketListClass=".market-list",$marketList=$components.find(marketListClass);$marketList&&$marketList.find("a").each(function(e){$(this).click({target:$components},function(e){e.preventDefault();var $variable=$(this).text();$(".koh-market-values label").text($variable);var $components=e.data.target,$hiddenCountryFilter=".koh-filter-type-hidden",$filter=$components.find($hiddenCountryFilter);if($filter.length){var facetName=$(this).data("facet-name"),facetValue=$(this).data("facet-value"),facetCount=$(this).data("facet-count"),facetLabel=$(this).data("facet-label"),reMarketElement=$("#cookie-info-re-market");if("undefined"!==reMarketElement){var cookieName=reMarketElement.data("cookie-name"),durationMinutes=reMarketElement.data("cookie-duration");createCookie(cookieName,"/"+facetName+"/"+facetValue,durationMinutes)}var $filterContent=$filter.find(".koh-filter-content");if($filterContent.length){var $selectedFilters=$filterContent.find(".koh-selected-filters");$selectedFilters.length&&($selectedFilters.empty(),$filter.append("<ul class='koh-available-filters'></ul>"))}addActiveFilter($filter,facetName,facetValue,facetLabel,facetCount)}displayNewResults($components)})}),$(".koh-market-values-click").click(function(){$(".market-list").toggle(),$(".koh-market-availability").addClass("koh-market-availabiltiy-mobile-wrap")}),$("#koh-allproduct-values").click(function(){$(".market-list").hide(),localStorage.setItem("allProdClickedMa",!0)}),$('input[name="market"]').change({target:$components},function(e){if($("#koh-allproduct-values").prop("checked")){var $variable=$("#select-market-label").val();$(".koh-market-values label").text($variable);var $components=e.data.target,$hiddenCountryFilter=".koh-filter-type-hidden",$filter=$components.find($hiddenCountryFilter);if($filter.length){var $filterContent=$filter.find(".koh-filter-content");if($filterContent.length){var $selectedFilters=$filterContent.find(".koh-selected-filters");if($selectedFilters.length){$selectedFilters.empty(),$filter.append("<ul class='koh-available-filters'></ul>");var reMarketElement=$("#cookie-info-re-market"),cookieName="";"undefined"!==reMarketElement&&(cookieName=reMarketElement.data("cookie-name")),deleteCookie(cookieName),displayNewResults($components)}}}}else $("#koh-market-values").prop("checked")&&$(".market-list").show()}),$(".koh-market-list-close-button").click(function(){$(".market-list").hide(),$("#koh-market-values").prop("checked",!1),$("#koh-allproduct-values").prop("checked",!0)})}},deleteCookie=function(name){document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"},initFilterExpandCollapse=function($components){$components&&$components.each(function(){var $component=$(this),filterGroupClass=".koh-filter-group.koh-filters",filterClass=".koh-filter",$filters=$component.find(filterGroupClass).children(filterClass);$filters.each(function(){var $filterName=$(this).children(".koh-filter-name").first(),$filterContent=$(this).children(".koh-filter-content").first();$filterName.click({target:$filterContent},function(e){var $target=e.data.target;$target.hasClass("open")?($(this).removeClass("open"),$target.removeClass("open")):($(this).addClass("open"),$target.addClass("open"))})});var $filterButton=$component.find(".koh-search-filters-title"),$filterContent=$component.find(".koh-search-filters-content");$filterButton.click({target:$filterContent},function(e){var $target=e.data.target;$target.hasClass("open")?$target.removeClass("open"):$target.addClass("open")})})},initRangeSliders=function($components){$components&&$components.each(function(){var $component=$(this),$rangeFilters=$component.find(".koh-filter.koh-filter-type-range");$rangeFilters.each(function(){var $rangeFilter=$(this),$sliderContainer=$rangeFilter.find(".koh-range-filter").first(),$rangeLabels=$sliderContainer.find(".koh-range-slider-labels"),$rangeMinLabel=$sliderContainer.find(".koh-range-slider-labels > .koh-range-slider-min"),$rangeMaxLabel=$sliderContainer.find(".koh-range-slider-labels > .koh-range-slider-max"),$slider=$sliderContainer.find(".koh-range-slider").first(),sliderElement=$slider[0],rangeLabelPrefix=$rangeLabels.data("label-prefix"),rangeLabelSuffix=$rangeLabels.data("label-suffix"),rangeCurrentMin=$rangeMinLabel.data("min-value"),rangeCurrentMax=$rangeMaxLabel.data("max-value"),rangeMin=$slider.data("range-min"),rangeMax=$slider.data("range-max");noUiSlider&&!isNaN(rangeMin)&&!isNaN(rangeMax)&&rangeMax>rangeMin?(noUiSlider.create(sliderElement,{start:[rangeCurrentMin,rangeCurrentMax],connect:!0,range:{min:rangeMin,max:rangeMax},format:{to:function(value){return Math.round(value)},from:function(value){return value}}}),sliderElement.noUiSlider.on("update",function(values,handleIndex){0===handleIndex?($rangeMinLabel.data("min-value",values[handleIndex]),$rangeMinLabel.text(rangeLabelPrefix+values[handleIndex]+rangeLabelSuffix)):1===handleIndex&&($rangeMaxLabel.data("max-value",values[handleIndex]),$rangeMaxLabel.text(rangeLabelPrefix+values[handleIndex]+rangeLabelSuffix))})):sliderElement.hide()})})},initCompareButtons=function($components){$components&&$components.each(function(componentIndex){var $component=$(this),$tiles=$component.find(".koh-product-tile"),compareIds=[];$(".c-koh-compare-panel").find(".koh-compare-remove").each(function(){compareIds.push($(this).attr("data-product-itemno"))}),$tiles.each(function(){var $tile=$(this),itemno=$tile.find(".koh-compare-add").first().attr("data-product-itemno");$.inArray(itemno,compareIds)>-1&&$tile.addClass("product-added")})})},initQuickView=function($components){$components&&$components.each(function(componentIndex){var $component=$(this),$quickViewContainers=$component.find(".koh-product-quick-view");$quickViewContainers.each(function(quickViewIndex){if(quickViewIndex>axKOH.main.quickViewLastIndex){var $button=$(this).children(".koh-product-quick-view-button"),$panel=$(this).children(".koh-product-quick-view-panel"),sku=$(this).attr("data-sku"),remodalID="QuickView"+sku,currentCompareProducts=[];$(".c-koh-compare-panel").find(".koh-compare-remove").each(function(){currentCompareProducts.push($(this).attr("data-product-itemno")),$(".add_"+$(this).attr("data-product-itemno")).closest(".koh-product-tools").addClass("product-added")}),$(this).closest(".koh-product-tile").attr("data-modal-link",remodalID),initAsModal($button,$panel,remodalID),$panel.each(function(){initQuickViewData($(this),currentCompareProducts)}),axKOH.main.quickViewLastIndex=quickViewIndex}})})},initTooltips=function($components){if($components){var $componentModals=$('.remodal-wrapper > div[data-koh-component="'+componentClass+'"]'),$targets=$components.add($componentModals);$targets.each(function(componentIndex){var $component=$(this),$abbreviations=$component.find("abbr[title]");$abbreviations.each(function(abbrIndex){var $abbr=$(this);$abbr.qtip({id:"abbr"+componentIndex+abbrIndex,content:{attr:"title"},position:{my:"bottom center",at:"top center"},style:{classes:"koh-qtip-tooltip koh-product-search-tooltip qtip-bootstrap",tip:{mimic:"center",width:30,height:15}}})});var $colorSwatches=$component.find("button.koh-product-color, .koh-available-filters.v-koh-colors > li > a");$colorSwatches.each(function(swatchIndex){var $colorSwatch=$(this),$colorLabel=$colorSwatch.children(".label");$colorSwatch.qtip({id:"swatch"+componentIndex+swatchIndex,content:{text:$colorLabel.clone()},position:{my:"top left",at:"bottom left",adjust:{y:6}},style:{classes:"koh-qtip-tooltip koh-product-search-tooltip qtip-bootstrap",tip:!1}})});var $facetsWithTooltips=$component.find(".koh-filter").has(".koh-filter-tooltips");$facetsWithTooltips.each(function(facetIndex){var $facet=$(this),$facetName=$facet.find(".koh-filter-name"),$facetTooltip=$facet.find(".koh-filter-tooltips");$facetName.append('<span class="koh-tooltip"></span>');var $tooltipIcon=$facetName.children(".koh-tooltip");$tooltipIcon.qtip({id:"facetTooltip"+componentIndex+facetIndex,content:{text:$facetTooltip},show:"click",hide:{event:"click unfocus"},position:{my:"center left",at:"center right",adjust:{x:6}},style:{classes:"koh-qtip-tooltip koh-product-search-facet-tooltip qtip-bootstrap",tip:{mimic:"center",width:30,height:15}}}),$tooltipIcon.click(function(e){e.stopPropagation(),e.preventDefault()})})})}},initDropdowns=function($components){$components&&$components.each(function(){var $component=$(this),$options=$component.find(".koh-search-sorting");$options.each(function(){var $optionsButton=$(this).children(".koh-sort-by"),$optionsList=$(this).children(".koh-sort-options");$optionsButton.click({list:$optionsList},function(e){var $button=$(this),$list=e.data.list;$button.hasClass("open")?($button.removeClass("open"),$list.removeClass("open")):($button.addClass("open"),$list.addClass("open"))})})})},initSpecToggle=function(){var specToggle=$(".koh-spec-toggle");$(specToggle).length&&specToggle.each(function(){$(this).click(function(e){return e.preventDefault,$(this).next().toggle(),$(this).toggleClass("active"),!1})})},initSearchFacets=function($components){$components.each(function(){var $component=$(this),$sortButton=$component.find(".koh-search-sorting > .koh-sort-by"),$sortOptions=$component.find(".koh-search-sorting > .koh-sort-options"),$sortOptionItems=$sortOptions.children("li");$sortOptionItems.each(function(){var $sortOptionItem=$(this);$sortOptionItem.click({button:$sortButton,collection:$sortOptions,choices:$sortOptionItems},function(e){setActiveSorting(e.data.button,e.data.choices,$(this)),e.data.button.removeClass("open"),e.data.collection.removeClass("open"),displayNewResults($component)})});var $categories=$component.find(".koh-search-filters .koh-filter-group.koh-category");$categories.each(function(){var $availableFilters=$categories.find(".koh-available-filters > li > a"),$selectedFilters=$categories.find(".koh-selected-filters");$availableFilters.each(function(){var $filterLink=$(this);$filterLink.click(function(e){e.stopPropagation(),e.preventDefault();var facetName=$filterLink.data("facet-name"),facetValue=$filterLink.data("facet-value"),facetLabel=$filterLink.children("span.name").first().text(),facetCount=$filterLink.data("facet-count");addActiveCategory($categories,facetName,facetValue,facetLabel,facetCount),displayNewResults($component)})});var $selectedFilterItems=$selectedFilters.children("li");$selectedFilterItems.each(function(){var $filterItem=$(this),$filterItemButton=$filterItem.children("button.koh-selected-filter");$filterItemButton.click({filterCount:$selectedFilterItems.length,filterSet:$selectedFilters,filterItem:$filterItem},function(e){e.data.filterCount<=1?e.data.filterSet.remove():e.data.filterItem.remove(),"SearchPage"===getActiveSection($component)?displayNewResults($component,!0,!1):displayNewResults($component,!0,!0)})})});var $pagination=$component.find(".pagination"),$paginationChild=$pagination.children("li");$paginationChild.each(function(){var $paginationChildLi=$(this);$paginationChildLi.click({component:$component},function(e){e.stopPropagation(),e.preventDefault(),$(window).scrollTop(0);var page=$(this).find("a:first").data("page");$component.find(".koh-facet-data-attributes").data("koh-currentpage")||"";$component.find(".koh-facet-data-attributes").data("koh-currentpage",page),displayNewResults($component,"paging")})});var $showAllCats=$component.find(".koh-search-filters .koh-filter-group.koh-category .koh-filter-group-all-link");$showAllCats.click(function(e){e.stopPropagation(),e.preventDefault(),"SearchPage"===getActiveSection($component)?displayNewResults($component,!0,!1):displayNewResults($component,!0,!0)});var $filters=$component.find(".koh-search-filters .koh-filter-group.koh-filters .koh-filter");$filters.each(function(){var $filter=$(this),$selectedFilters=null,$selectedFilterItems=null,$availableFilters=null;if($filter.hasClass("koh-filter-type-checkbox")){var $checkbox=$filter.find(".koh-checkbox-filter > a");$checkbox.click(function(e){e.stopPropagation(),e.preventDefault(),$(this).hasClass("koh-checkbox-checked")?$(this).removeClass("koh-checkbox-checked").addClass("koh-checkbox-unchecked"):$(this).removeClass("koh-checkbox-unchecked").addClass("koh-checkbox-checked"),displayNewResults($component)})}else if($filter.hasClass("koh-filter-type-range")){var $sliderContainer=$filter.find(".koh-range-filter").first(),$rangeMinLabel=$sliderContainer.find(".koh-range-slider-labels > .koh-range-slider-min"),$rangeMaxLabel=$sliderContainer.find(".koh-range-slider-labels > .koh-range-slider-max"),$slider=$sliderContainer.find(".koh-range-slider"),sliderElement=$slider[0],suffix=$sliderContainer.find(".koh-range-slider-labels").data("label-suffix");sliderElement.noUiSlider&&sliderElement.noUiSlider.on("change",function(){var facetName=$sliderContainer.data("facet-name"),minValue=$rangeMinLabel.data("min-value"),maxValue=$rangeMaxLabel.data("max-value"),facetNameLabel=minValue&&maxValue?minValue+suffix+" - "+maxValue+suffix:"",facetValue=minValue&&maxValue?minValue+"-"+maxValue:"",$sliderSelectedFilter=$filter.find(".koh-selected-filters");$sliderSelectedFilter.length>0?($selectedFilterItems=$selectedFilters.children("li"),$selectedFilterItems.each(function(){var $filterItem=$(this);$filterItemButton=$filterItem.find("button.koh-selected-filter"),$filterItemButton.data("facet-value",facetValue),$filterItemButtonName=$filterItemButton.find(".name"),$filterItemButtonName.html(facetNameLabel),displayNewResults($component)}),$sliderSelectedFilter.children("button.koh-selected-filter")):(addActiveFilter($filter,facetName,facetValue,facetNameLabel,""),displayNewResults($component))}),$selectedFilters=$filter.find(".koh-selected-filters"),$selectedFilterItems=$selectedFilters.children("li"),$selectedFilterItems.each(function(){var $filterItem=$(this),$filterItemButton=$filterItem.children("button.koh-selected-filter");$filterItemButton.click({filterCount:$selectedFilterItems.length,filterSet:$selectedFilters,filterItem:$filterItem},function(e){e.data.filterCount<=1?e.data.filterSet.remove():e.data.filterItem.remove(),displayNewResults($component)})})}else $filter.hasClass("koh-filter-type-colors")?($availableFilters=$filter.find(".koh-available-filters > li > a"),$selectedFilters=$filter.find(".koh-selected-filters"),$availableFilters.each(function(){var $filterLink=$(this);$($filterLink).on("click touchend",function(e){e.stopPropagation(),e.preventDefault();var selectedFiltersNow=$filter.find(".koh-selected-filters"),selectedFlag=!1;for(i=0;i<selectedFiltersNow.length&&(selectedFlag=selectedFiltersNow[i].hasClass("koh-filter-type-colors")?!0:!1,1!=selectedFlag);++i);if(0==selectedFlag){var facetName=$filterLink.data("facet-name"),facetValue=$filterLink.data("facet-value"),facetLabel=$filterLink.children("span.label").text(),facetCount=$filterLink.data("facet-count");addActiveFilter($filter,facetName,facetValue,facetLabel,facetCount),displayNewResults($component)}})}),$selectedFilters=$filter.find(".koh-selected-filters"),$selectedFilterItems=$selectedFilters.children("li"),$selectedFilterItems.each(function(){var $filterItem=$(this),$filterItemButton=$filterItem.children("button.koh-selected-filter");$filterItemButton.click({filterCount:$selectedFilterItems.length,filterSet:$selectedFilters,filterItem:$filterItem},function(e){e.data.filterCount<=1?e.data.filterSet.remove():e.data.filterItem.remove(),displayNewResults($component)})})):($availableFilters=$filter.find(".koh-available-filters > li > a"),$selectedFilters=$filter.find(".koh-selected-filters"),$availableFilters.each(function(){var $filterLink=$(this);$filterLink.click(function(e){e.stopPropagation(),e.preventDefault();var facetName=$filterLink.data("facet-name"),facetValue=$filterLink.data("facet-value"),facetLabel=$filterLink.children("span.name").first().text(),facetCount=$filterLink.data("facet-count"),selectedFiltersNow=$filter.find(".koh-selected-filters"),selectedFlag=!1;for(i=0;i<selectedFiltersNow.length;++i){var facetValueSelected=selectedFiltersNow[i].data("facet-value");if(facetValue==facetValueSelected)break}0==selectedFlag&&(addActiveFilter($filter,facetName,facetValue,facetLabel,facetCount),displayNewResults($component))})}),$selectedFilterItems=$selectedFilters.children("li"),$selectedFilterItems.each(function(){var $filterItem=$(this),$filterItemButton=$filterItem.children("button.koh-selected-filter");$filterItemButton.click({filterCount:$selectedFilterItems.length,filterSet:$selectedFilters,filterItem:$filterItem},function(e){e.data.filterCount<=1?e.data.filterSet.remove():e.data.filterItem.remove(),displayNewResults($component)})}))});var $clearAllFilters=$component.find(".koh-search-filters .koh-filter-group.koh-filters .koh-filter-group-all-link");$clearAllFilters.click(function(e){e.stopPropagation(),e.preventDefault(),displayNewResults($component,!1,!0)})})},getActiveSection=function($component){var sectionName="";return sectionName=$component.find(".koh-data-attributes").data("koh-section")||""},getActiveCategory=function($component){var categoryName="",$activeCategory=$component.find(".koh-search-filters .koh-filter-group.koh-category .koh-selected-filter").first();return categoryName=$activeCategory.data("facet-value")||""},getActiveFilters=function($component){var facetNameField="facet-name",facetValueField="facet-value",activeFilters={},$filters=$component.find(".koh-search-filters .koh-filter-group.koh-filters .koh-filter");return $filters.each(function(){var $filter=$(this),$selectedFilters=null,facetName="",facetValue="";if($filter.hasClass("koh-filter-type-checkbox")){var $checkbox=$filter.find(".koh-checkbox-filter > a");$checkbox.hasClass("koh-checkbox-checked")&&(facetName=$checkbox.data(facetNameField),facetValue=$checkbox.data(facetValueField),facetName&&facetValue&&(activeFilters[facetName]=facetValue))}else $filter.hasClass("koh-filter-type-range")?($selectedFilters=$filter.find(".koh-selected-filter"),$selectedFilters.each(function(){if(facetName=$(this).data(facetNameField),facetValue=$(this).data(facetValueField),facetName&&facetValue){var values=facetValue.split(/-/);activeFilters[facetName]=activeFilters[facetName]||{},activeFilters[facetName].Min=values[0],activeFilters[facetName].Max=values[1]}})):$filter.hasClass("koh-filter-type-colors")?($selectedFilters=$filter.find(".koh-selected-filter"),$selectedFilters.each(function(index){facetName=$(this).data(facetNameField),facetValue=$(this).data(facetValueField),facetName&&facetValue&&(activeFilters[facetName]=activeFilters[facetName]||{},activeFilters[facetName][index]=facetValue)})):($selectedFilters=$filter.find(".koh-selected-filter"),$selectedFilters.each(function(index){facetName=$(this).data(facetNameField),facetValue=$(this).data(facetValueField),facetName&&void 0!=facetValue&&""!==facetValue&&(activeFilters[facetName]=activeFilters[facetName]||{},activeFilters[facetName][index]=facetValue)}))}),activeFilters},getActiveSorting=function($component){var sortOptions={orderBy:"",direction:"",labels:{orderBy:"orderBy",direction:"sort"}},$sortOptions=$component.find(".koh-search-sorting > .koh-sort-options");sortOptions.labels.orderBy=$sortOptions.data("sort-orderby-label")||sortOptions.labels.orderBy,sortOptions.labels.direction=$sortOptions.data("sort-direction-label")||sortOptions.labels.direction;var $activeSort=$sortOptions.find(".koh-sort-selected > span").first();return sortOptions.orderBy=$activeSort.data("sort-orderby"),sortOptions.direction=$activeSort.data("sort-direction"),sortOptions},setActiveSorting=function($sortButton,$sortOptions,$targetOption){$sortButton.text($targetOption.children("span").text()),$sortOptions.removeClass("koh-sort-selected"),$targetOption.addClass("koh-sort-selected")},addActiveCategory=function($filter,facetName,facetValue,facetLabel,facetCount){var $filterList=$filter.children(".koh-selected-filters");$filterList&&$filterList.length?$filterList.empty():($filterList=$('<ul class="koh-selected-filters"></ul>'),$filterList.insertBefore($filter.children(".koh-available-filters")));var $filterItemButton=$('<button class="koh-selected-filter"></button>');$filterItemButton.data("facet-name",facetName),$filterItemButton.data("facet-value",facetValue),$filterItemButton.append($('<span class="remove">Remove Filter</span>')),$filterItemButton.append($('<span class="name">'+facetLabel+"</span>")),$filterItemButton.append($('<span class="count"> ('+facetCount+")</span>")),$filterList.append($("<li></li>").wrapInner($filterItemButton))},addActiveFilter=function($filter,facetName,facetValue,facetLabel,facetCount){var $filterList=$filter.children(".koh-selected-filters"),$filterItemButton=$('<button class="koh-selected-filter"></button>');$filter.hasClass("koh-filter-type-checkbox")?$(this).removeClass("koh-checkbox-unchecked").addClass("koh-checkbox-checked"):$filter.hasClass("koh-filter-type-range")?($filterList&&$filterList.length||($filterList=$('<ul class="koh-selected-filters"></ul>'),$filterList.insertBefore($filter.find(".koh-range-filter"))),$filterItemButton.data("facet-name",facetName),$filterItemButton.data("facet-value",facetValue),$filterItemButton.append($('<span class="remove">Remove Filter</span>')),$filterItemButton.append($('<span class="name">'+facetLabel+"</span>")),$filterItemButton.append($('<span class="count">'+facetCount+"</span>")),$filterList.append($("<li></li>").wrapInner($filterItemButton))):$filter.hasClass("koh-filter-type-colors")?($filterList&&$filterList.length||($filterList=$('<ul class="koh-selected-filters"></ul>'),$filterList.insertBefore($filter.find(".koh-available-filters"))),$filterItemButton.data("facet-name",facetName),$filterItemButton.data("facet-value",facetValue),$filterItemButton.append($('<span class="remove">Remove Filter</span>')),$filterItemButton.append($('<span class="name">'+facetLabel+"</span>")),$filterList.append($("<li></li>").wrapInner($filterItemButton))):($filterList&&$filterList.length||($filterList=$('<ul class="koh-selected-filters"></ul>'),$filterList.insertBefore($filter.find(".koh-available-filters"))),$filterItemButton.data("facet-name",facetName),$filterItemButton.data("facet-value",facetValue),$filterItemButton.append($('<span class="remove">Remove Filter</span>')),$filterItemButton.append($('<span class="name">'+facetLabel+"</span>")),$filterItemButton.append($('<span class="count">('+facetCount+")</span>")),$filterList.append($("<li></li>").wrapInner($filterItemButton)))},getType=function($component){var type="";return type=$component.find(".koh-facet-data-attributes").data("koh-type")||""},getSearchTerm=function($component){var searchTerm=$component.find(".koh-facet-data-attributes").data("koh-searchterm");return void 0!==searchTerm?searchTerm:searchTerm=""},getCurrentPage=function($component){var currentPage="";return currentPage=$component.find(".koh-facet-data-attributes").data("koh-currentpage")||""},getSortBy=function($component){var sortBy="";return sortBy=$component.find(".koh-facet-data-attributes").data("koh-sortby")||""},getOrderBy=function($component){var orderBy="";return orderBy=$component.find(".koh-facet-data-attributes").data("koh-orderby")||""},getURL=function($component,excludeCategory,excludeFilters){var url="",queryParams={},queryParamCount=0,urlRoot=window.location.href,isSearch=!1,urlSearch=$component.find(".koh-data-attributes").data("koh-search-url"),resIndex=urlRoot.indexOf("/"+urlSearch),urlCollections=$component.find(".koh-data-attributes").data("koh-collections-url"),collectionsIndex=urlRoot.indexOf("/"+urlCollections);if(resIndex&&resIndex>0)isSearch=!0,url=urlRoot.substring(0,resIndex),url=url+"/"+urlSearch;else if(collectionsIndex&&collectionsIndex>0)isSearch=!0,url=urlRoot.substring(0,collectionsIndex),url=url+"/"+urlCollections;else{var urlRootComponent=$component.find(".koh-data-attributes").data("koh-url-root"),urlRoot=decodeURIComponent(urlRoot),catIndex=urlRoot.indexOf("/"+urlRootComponent);url=catIndex&&catIndex>0?urlRoot.substring(0,catIndex):urlRoot}getActiveSection($component);if(isSearch){if(!excludeCategory||"paging"==excludeCategory){var categoryName=getActiveCategory($component);categoryName&&(url=url+"/"+categoryName)}if(!excludeFilters){var activeFilters=getActiveFilters($component);$.each(activeFilters,function(facetName,facetValues){facetName&&facetValues&&("object"==typeof facetValues?$.each(facetValues,function(index,facetValue){if("Min"===index||"Max"===index){var paramName=facetName+index;queryParams[paramName]=facetValue,queryParamCount+=1}else url=url+"/"+facetName+"/"+facetValue}):url=url+"/"+facetName+"/"+facetValues)})}var sortOptions=getActiveSorting($component);sortOptions&&sortOptions.orderBy&&sortOptions.direction&&(queryParams[sortOptions.labels.orderBy]=sortOptions.orderBy,queryParamCount+=1,queryParams[sortOptions.labels.direction]=sortOptions.direction,queryParamCount+=1)}else if(!excludeCategory){var categoryName=getActiveCategory($component);if(categoryName&&(url=url+"/"+categoryName),!excludeFilters){var activeFilters=getActiveFilters($component);$.each(activeFilters,function(facetName,facetValues){facetName&&facetValues&&("object"==typeof facetValues?$.each(facetValues,function(index,facetValue){if("Min"===index||"Max"===index){var paramName=facetName+index;queryParams[paramName]=facetValue,queryParamCount+=1}else url=url+"/"+facetName+"/"+facetValue}):url=url+"/"+facetName+"/"+facetValues)})}var sortOptions=getActiveSorting($component);sortOptions&&sortOptions.orderBy&&sortOptions.direction&&(queryParams[sortOptions.labels.orderBy]=sortOptions.orderBy,queryParamCount+=1,queryParams[sortOptions.labels.direction]=sortOptions.direction,queryParamCount+=1)}var searchTerm=getSearchTerm($component);""!==searchTerm&&(queryParams.search=searchTerm,queryParamCount+=1);var type=getType($component);if(""!==type&&(queryParams.type=type,queryParamCount+=1),"paging"==excludeCategory){var currentPage=getCurrentPage($component);""!==currentPage&&(queryParams.currentpage=currentPage,queryParamCount+=1);var orderBy=getOrderBy($component);""!==orderBy&&(queryParams.orderBy=orderBy,queryParamCount+=1);var sortBy=getSortBy($component);""!==sortBy&&(queryParams.sort=sortBy,queryParamCount+=1)}return queryParamCount>0&&(url+="?",$.each(queryParams,function(key,value){url=url+key+"="+value+"&"}),url=url.replace(/&$/,"")),url},displayNewResults=function($component,excludeCategory,excludeFilters){var currentUrl=window.location.href,targetUrl=getURL($component,excludeCategory,excludeFilters);targetUrl!==currentUrl&&(saveScrollPosition(),window.location.href=targetUrl)},initAsModal=function($button,$panel,remodalID){$panel.data("remodal-id",remodalID),$panel.prepend('<button data-remodal-action="close" class="remodal-close"></button>'),$panel.attr("data-koh-component",componentClass),$panel.addClass(componentClass+"-modal"),$panel.attr("id",remodalID);var $remodalPanel=$panel.remodal({hashTracking:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:""});$button.data("remodal-target",remodalID),$button.click({target:$remodalPanel},function(e){e.preventDefault(),e.stopPropagation();var $target=e.data.target;$target.open()})},initQuickViewData=function($panel,compareIds){var $primaryBanner=$panel.children(".koh-product-image"),$productContent=$panel.children(".koh-product-content"),$productSKU=$productContent.children(".koh-product-sku"),$colorCollections=$productContent.children(".koh-product-colors"),$productInriverPrice=$productContent.find(".koh-product-price");$colorCollections.each(function(){var $colorCollection=$(this),$selectedColorLabel=$colorCollection.children(".koh-selected-color").find(".value"),itemno=$colorCollection.find(".koh-compare-add").first().attr("data-product-itemno");$.inArray(itemno,compareIds)>-1&&$panel.addClass("product-added");var $colorVariants=$colorCollection.find(".koh-product-variant");$colorVariants.each(function(){var $colorVariant=$(this),productData={imageURL:$colorVariant.data("koh-image"),sku:$colorVariant.data("koh-sku"),skuk:$colorVariant.data("koh-sku-k"),prices:$colorVariant.data("koh-price"),colorName:$colorVariant.data("koh-color"),defaultCategory:$colorVariant.data("default-category")},productFields={banner:$primaryBanner,sku:$productSKU,prices:$productInriverPrice,color:$selectedColorLabel};$colorVariant.children(".koh-product-color").click({variantSet:$colorVariants,variant:$colorVariant,product:productData,fields:productFields},function(e){var $variant=e.data.variant,$variantSet=e.data.variantSet,productData=e.data.product,productFields=e.data.fields,allOpened=$(".remodal-wrapper.remodal-is-opened");$.each(allOpened,function(){$(this).find("a").each(function(){var href=$(this).attr("href");if(void 0!==href){var index=href.indexOf("?skuid=");if(index>0){var defaultCategoryURL="";""!==productData.defaultCategory&&(defaultCategoryURL="&defaultCategory="+productData.defaultCategory),href=$(this).attr("href").substr(0,index)+"?skuid="+productData.sku+defaultCategoryURL,$(this).attr("href",href)}}})}),productFields.banner.find("img").attr("src",productData.imageURL),productFields.sku.text(productData.skuk),productFields.prices.find(".koh-current-price > .value").text(productData.prices.current),productFields.prices.find(".koh-previous-price > .value").text(productData.prices.previous),productFields.prices.find(".koh-discounted-price > .value").text(productData.prices.discounted),productFields.color.text(productData.colorName),productFields.prices.text(productData.prices),$variantSet.removeClass("koh-selected-variant"),$variant.addClass("koh-selected-variant")})})});var $productShare=$productContent.find(".koh-product-share");$productShare.addClass("test");var $productShareButton=$productShare.children(".koh-product-button"),$productSharePanel=$productShare.children(".koh-product-popover");axKOH&&axKOH.utils&&axKOH.utils.socialShare&&axKOH.utils.socialShare.initAsTooltip($productShare,$productShareButton,$productSharePanel)},saveScrollPosition=function(){var scrollPosition=$(window).scrollTop();sessionStorage.setItem("kohPageScroll",scrollPosition)},initProductVideos=function($components){$components&&$components.each(function(componentIndex){var $component=$(this),$videoLinks=$component.find(".koh-article-video a");$videoLinks.each(function(videoIndex){var $videoLink=$(this),videoURL=$videoLink.attr("href"),apiURL=$videoLink.data("api");if(videoURL){var $videoPanel=$('<div class="koh-video-panel"><iframe width="630" height="354" src="'+videoURL+'" frameborder="0" allowfullscreen></iframe></div>');
$videoPanel.insertAfter($videoLink);var remodalID="Video"+componentIndex+videoIndex,$videoPanel=$component.find(".koh-video-panel");initAsModal($videoLink,$videoPanel,remodalID),$videoPanel.on("opened",function(){var $embeddedVideo=$(this).find("iframe");resizeResponsiveVideo($embeddedVideo)})}else $videoLink.click(function(e){e.preventDefault(),e.stopPropagation()});apiURL&&$.get(apiURL,function(data){if(data&&data.items&&data.items[0]&&data.items[0].snippet){var videoTitle=data.items[0].snippet.title;videoTitle&&$videoLink.children(".koh-video-title").text(videoTitle)}})})})},makeVideoResponsive=function($videoElement){var aspectRatio=$videoElement.data("aspectratio"),maxWidth=$videoElement.data("maxwidth");if(!aspectRatio||!maxWidth){var width=$videoElement.width(),height=$videoElement.height(),aspectRatio=height/width;$videoElement.data("aspectratio",aspectRatio),$videoElement.data("maxwidth",width),$videoElement.removeAttr("width"),$videoElement.removeAttr("height")}},resizeResponsiveVideo=function($videoElement){var embedTags="iframe, object, embed",aspectRatio=$videoElement.data("aspectratio"),maxWidth=$videoElement.data("maxwidth");aspectRatio&&maxWidth||(makeVideoResponsive($videoElement),aspectRatio=$videoElement.data("aspectratio"),maxWidth=$videoElement.data("maxwidth"));var $parent=$videoElement.closest(":not("+embedTags+")"),responsiveWidth=320;$parent&&(responsiveWidth=$parent.width()),responsiveWidth=Math.min(responsiveWidth,maxWidth),$videoElement.width(responsiveWidth),$videoElement.height(responsiveWidth*aspectRatio)},changeUrlDam=function(domainUrl,lastSlashIndex,imageUrl,damName){var defImgDomainWithoutDam=domainUrl.slice(0,lastSlashIndex),newDomainUrl=defImgDomainWithoutDam+"/"+damName;return imageUrl=imageUrl.replace("{domain}",newDomainUrl),imageUrl=imageUrl.replaceAll("{dam}",damName),imageUrl=imageUrl.replace("product_src=is{PAWEB","product_src=is{kohlerchina")},doLazyLoading=function($components){try{var sortBy=getSortBy($components),orderBy=getOrderBy($components),activeFilters=getActiveFilters($components),queryParams={},queryParamCount=0;$.each(activeFilters,function(facetName,facetValues){facetName&&facetValues&&("object"==typeof facetValues?$.each(facetValues,function(index,facetValue){if("Min"===index||"Max"===index){var paramName=facetName+index;queryParams[paramName]=facetValue,queryParamCount+=1}}):"")});var url="";$.each(queryParams,function(key,value){url+=key+":"+value+","}),""!==url&&(url=url.substring(0,url.length-1));var productListLazyLink=$("#productListLazyLink").val(),totalProducts=$("#totalProducts").val(),pageSize=$("#pageSize").val(),currentPage=$("#currentPage").val(),currentSwatch=$("#currentSwatch").val(),addToCompareLink=$("#addToCompareLink").val(),gridImageProductUrl=($("#compare-cookie-info").data("cookie-name"),$("#gridImageProductUrl").val()),gridImageNewProductUrl=$("#gridImageNewProductUrl").val(),common_galleryNewProductUrl=$("#common_galleryNewProductUrl").val(),common_gridImageUrl=$("#common_gridImageUrl").val(),common_galleryQuickViewNewProductUrl=$("#common_galleryQuickViewNewProductUrl").val(),common_productListQuickViewUrl=$("#common_productListQuickViewUrl").val(),productDetailslinkMain=$("#productDetailslink").val(),productListQuickViewUrl=$("#productListQuickViewUrl").val(),quickViewImageNewProductUrl=$("#quickViewImageNewProductUrl").val(),quickview=$("#quickview").val(),selectColor=$("#selectColor").val(),imgswatch=$("#imgswatch").val(),compareButtonLable=$("#compareButtonLable").val(),removeProduct=$("#removeProduct").val(),addCompare=$("#addCompare").val(),relativeContentPath=$("#relativeContentPath").val(),bannerFlag=$("#bannerFlag").val(),bannerProductCount=$("#bannerProductCount").val(),discontinuedDateLabel=$("#discontinuedLableWithSku").val(),defaultCategoryKey=$("#defaultCategoryKey").val(),lastVisitedPage=0,windowScrollTop=0;void 0!==typeof Storage&&(lastVisitedPage=localStorage.getItem("lastVisitedPage"),windowScrollTop=localStorage.getItem("facetPageLastScroll")),$.ajax({url:productListLazyLink,cache:!1,data:{relativeContentPath:relativeContentPath,totalProducts:totalProducts,pageSize:pageSize,currentPage:currentPage,lastVisitedPage:lastVisitedPage,sort:sortBy,orderBy:orderBy,url:url},success:function(data){if(1==data.success){currentPage=data.currentPage;var currentPageClone=$("#currentPage").val();$("#currentPage").val(currentPage),void 0!==typeof Storage&&localStorage.setItem("lastVisitedPage",currentPage),(currentPage*pageSize>=totalProducts||""===data.items)&&$("#koh-load-more").val(!1);for(var mainList=$(".koh-search-results"),i=0;i<data.items.length;i++){bannerProductCount++;var defaultSkuId=data.items[i].DEFAULT_SKU,defaultImage=data.items[i].IMG_ISO,defaultSkuColorFinishName=data.items[i].COLOR_FINISH_NAME,defaultSwatch=data.items[i].IMG_SWATCH,productPrice=data.items[i].PRODUCT_PRICE;if(void 0===defaultSkuId)for(var j=0;j<data.items[i].SKUS.length;j++)if(void 0!==data.items[i].SKUS[j].sku){defaultImage=data.items[i].SKUS[j].IMG_ITEM_ISO,defaultSkuId=data.items[i].SKUS[j].sku,defaultSkuColorFinishName=data.items[i].SKUS[j].COLOR_FINISH_NAME,defaultSwatch=data.items[i].SKUS[j].IMG_SWATCH;break}if(""!==currentSwatch)for(var j=0;j<data.items[i].SKUS.length;j++)currentSwatch===data.items[i].SKUS[j].IMG_SWATCH&&(defaultImage=data.items[i].SKUS[j].IMG_ITEM_ISO,defaultSkuId=data.items[i].SKUS[j].sku,defaultSkuColorFinishName=data.items[i].SKUS[j].COLOR_FINISH_NAME,defaultSwatch=data.items[i].SKUS[j].IMG_SWATCH);var imageURL="",quickViewImg="";if(void 0===defaultImage)if(void 0===defaultSkuId)defaultImage="blank";else for(var j=0;j<data.items[i].SKUS.length;j++)if(data.items[i].SKUS[j].sku===defaultSkuId){defaultImage=data.items[i].SKUS[j].IMG_ITEM_ISO||"blank";break}if(void 0===productPrice)for(var j=0;j<data.items[i].SKUS.length;j++)if(data.items[i].SKUS[j].sku===defaultSkuId){productPrice=data.items[i].SKUS[j].PRODUCT_PRICE;break}var roundPrice=Math.round(productPrice*priceVat);if(productPrice=(roundPrice*multipleValue).toLocaleString("en-US"),void 0!==defaultImage&&defaultImage.startsWith("http")){var lastSlashIndex=defaultImage.lastIndexOf("/");const defImgFromUrl=defaultImage.slice(lastSlashIndex+1),domainStartIndex=defaultImage.indexOf("//")+2,defImgDomainFromUrl=defaultImage.slice(domainStartIndex,lastSlashIndex);lastSlashIndex=defImgDomainFromUrl.lastIndexOf("/");const defImgDamNameFromUrl=defImgDomainFromUrl.slice(lastSlashIndex+1);1==data.items[i].isNew?(imageURL=common_galleryNewProductUrl.replace("{0}",defImgFromUrl),"kohlerchina"===defImgDamNameFromUrl?imageURL=changeUrlDam(defImgDomainFromUrl,lastSlashIndex,imageURL,"PAWEB"):(imageURL=imageURL.replace("{domain}",defImgDomainFromUrl),imageURL=imageURL.replaceAll("{dam}",defImgDamNameFromUrl)),quickViewImg=common_galleryQuickViewNewProductUrl.replace("{0}",defImgFromUrl),"kohlerchina"===defImgDamNameFromUrl?quickViewImg=changeUrlDam(defImgDomainFromUrl,lastSlashIndex,quickViewImg,"PAWEB"):(quickViewImg=quickViewImg.replace("{domain}",defImgDomainFromUrl),quickViewImg=quickViewImg.replaceAll("{dam}",defImgDamNameFromUrl))):(imageURL=common_gridImageUrl.replace("{0}",defImgFromUrl),"kohlerchina"===defImgDamNameFromUrl?imageURL=changeUrlDam(defImgDomainFromUrl,lastSlashIndex,imageURL,"PAWEB"):(imageURL=imageURL.replace("{domain}",defImgDomainFromUrl),imageURL=imageURL.replaceAll("{dam}",defImgDamNameFromUrl)),quickViewImg=common_productListQuickViewUrl.replace("{0}",defImgFromUrl),"kohlerchina"===defImgDamNameFromUrl?quickViewImg=changeUrlDam(defImgDomainFromUrl,lastSlashIndex,quickViewImg,"PAWEB"):(quickViewImg=quickViewImg.replace("{domain}",defImgDomainFromUrl),quickViewImg=quickViewImg.replaceAll("{dam}",defImgDamNameFromUrl)))}else 1==data.items[i].isNew?(imageURL=gridImageNewProductUrl.replace("{0}",defaultImage),quickViewImg=quickViewImageNewProductUrl.replace("{0}",defaultImage)):(imageURL=gridImageProductUrl.replace("{0}",defaultImage),quickViewImg=productListQuickViewUrl.replace("{0}",defaultImage));var productDetailLink="",multiAncestorefaultCategoryData="",defaultCategoryIfMultiple="",productCategoryKey=defaultCategoryKey;""===defaultCategoryKey&&(productCategoryKey=data.items[i].category),1==data.items[i].isMultipleAncestor?(productDetailLink=productDetailslinkMain+"/"+data.items[i].itemNo+"?skuid="+defaultSkuId+"&defaultCategory="+productCategoryKey,multiAncestorefaultCategoryData=' data-product-itemno-multianscestors="'+data.items[i].itemNo+"!_"+productCategoryKey+'"',defaultCategoryIfMultiple=productCategoryKey):(productDetailLink=productDetailslinkMain+"/"+data.items[i].itemNo+"?skuid="+defaultSkuId,multiAncestorefaultCategoryData=' data-product-itemno-multianscestors="'+data.items[i].itemNo+'"');var descriptionShort=data.items[i].DESCRIPTION_PRODUCT_SHORT,brandName=data.items[i].BRAND_NAME;void 0===descriptionShort&&(descriptionShort=""),void 0===brandName&&(brandName="");var currencyCode="",productPriceSpan="";if(void 0===productPrice||isNaN(roundPrice)||(currencyCode=$("#currencyCode").val(),currencyCode&&(productPriceSpan='<span class="koh-product-price" data-koh-price=\''+productPrice+"'>"+currencyCode+" "+productPrice+"</span>")),"TH"===localeValue)var html='<div class="koh-product-tile"><div class="koh-product-tile-inner"><div class="koh-product-tile-content"><a href=\''+productDetailLink+"' data-id='"+data.items[i].itemNo+"' data-default-category='"+defaultCategoryIfMultiple+"' data-productlink='"+productDetailslinkMain+"' data-skuid='"+defaultSkuId+"'><div class=\"koh-product-image\">	<img src='"+imageURL+'\' width="300" height="232" alt=\''+brandName+descriptionShort+'\'></div><span class="koh-product-description"><span class="koh-product-family">'+brandName+"</span>&nbsp"+descriptionShort+'&nbsp </span><span class="koh-product-sku" data-product-sku=\''+defaultSkuId+"'>K-"+defaultSkuId+"</span>"+productPriceSpan+'</a></div><div class="koh-product-tile-actions"><div class="koh-product-quick-view" data-sku="'+data.items[i].itemNo+'"><button class="koh-product-quick-view-button"><span class="label">'+quickview+'</span></button><div class="koh-product-quick-view-panel"><div class="koh-product-image"><a href=\''+productDetailLink+"' id='"+data.items[i].itemNo+"' data-id='"+data.items[i].itemNo+"' data-default-category='"+defaultCategoryIfMultiple+"' data-productlink='"+productDetailslinkMain+"' data-skuid='"+defaultSkuId+"'><img src='"+quickViewImg+'\' width="570" height="413" alt=\''+defaultSkuId+'\'></a></div><div class="koh-product-content"><span class="koh-product-description"><a href=\''+productDetailLink+"' id='"+data.items[i].itemNo+"' data-id='"+data.items[i].itemNo+"'  data-default-category='"+defaultCategoryIfMultiple+"' data-productlink='"+productDetailslinkMain+"' data-skuid='"+defaultSkuId+'\'><span class="koh-product-family">'+brandName+"</span>"+descriptionShort+'</a></span><span class="koh-product-sku" data-product-sku=\''+defaultSkuId+"'>K-"+defaultSkuId+"</span>"+productPriceSpan+'<div class="koh-product-colors"><span class="koh-selected-color"><span class="label">'+selectColor+'</span><span class="value">'+defaultSkuColorFinishName+"</span><ul>";else var html='<div class="koh-product-tile"><div class="koh-product-tile-inner"><div class="koh-product-tile-content"><a href=\''+productDetailLink+"' data-id='"+data.items[i].itemNo+"' data-default-category='"+defaultCategoryIfMultiple+"' data-productlink='"+productDetailslinkMain+"' data-skuid='"+defaultSkuId+"'><div class=\"koh-product-image\">	<img src='"+imageURL+'\' width="300" height="232" alt=\''+defaultSkuId+'\'></div><span class="koh-product-description"><span class="koh-product-family">'+brandName+"</span>&nbsp"+descriptionShort+'&nbsp </span><span class="koh-product-sku" data-product-sku=\''+defaultSkuId+"'>K-"+defaultSkuId+"</span>"+productPriceSpan+'</a></div><div class="koh-product-tile-actions"><div class="koh-product-quick-view" data-sku="'+data.items[i].itemNo+'"><button class="koh-product-quick-view-button"><span class="label">'+quickview+'</span></button><div class="koh-product-quick-view-panel"><div class="koh-product-image"><a href=\''+productDetailLink+"' id='"+data.items[i].itemNo+"' data-id='"+data.items[i].itemNo+"' data-default-category='"+defaultCategoryIfMultiple+"' data-productlink='"+productDetailslinkMain+"' data-skuid='"+defaultSkuId+"'><img src='"+quickViewImg+'\' width="570" height="413" alt=\''+defaultSkuId+'\'></a></div><div class="koh-product-content"><span class="koh-product-description"><a href=\''+productDetailLink+"' id='"+data.items[i].itemNo+"' data-id='"+data.items[i].itemNo+"'  data-default-category='"+defaultCategoryIfMultiple+"' data-productlink='"+productDetailslinkMain+"' data-skuid='"+defaultSkuId+'\'><span class="koh-product-family">'+brandName+"</span>"+descriptionShort+'</a></span><span class="koh-product-sku" data-product-sku=\''+defaultSkuId+"'>K-"+defaultSkuId+"</span>"+productPriceSpan+'<div class="koh-product-colors"><span class="koh-selected-color"><span class="label">'+selectColor+'</span><span class="value">'+defaultSkuColorFinishName+"</span><ul>";for(var htmlSub="",j=0;j<data.items[i].SKUS.length;j++){var image=data.items[i].SKUS[j].IMG_ITEM_ISO,skuId=data.items[i].SKUS[j].sku,skuColorFinishName=data.items[i].SKUS[j].COLOR_FINISH_NAME,skuImgSwatch=data.items[i].SKUS[j].IMG_SWATCH,discontinuedDate="",discontinuedDateClass="",skuItemPrice=data.items[i].SKUS[j].PRODUCT_PRICE;try{discontinuedDate=data.items[i].SKUS[j].DISCONTINUED_DATE,void 0!=discontinuedDate&&""!==discontinuedDate&&(skuColorFinishName=skuColorFinishName+" ("+discontinuedDateLabel+")",discontinuedDateClass="koh-discontinued")}catch(ex){}void 0===image&&(image="blank"),void 0===skuId&&(skuId=""),void 0===skuColorFinishName&&(skuColorFinishName=""),void 0===skuImgSwatch&&(skuImgSwatch="");var selectedSwatchClass="";defaultSwatch===data.items[i].SKUS[j].IMG_SWATCH&&(selectedSwatchClass="koh-selected-variant");var quickViewImgSub="";if(image.startsWith("http")){var lastSlashIndex=image.lastIndexOf("/");const defImgFromUrl=image.slice(lastSlashIndex+1),domainStartIndex=image.indexOf("//")+2,defImgDomainFromUrl=image.slice(domainStartIndex,lastSlashIndex);lastSlashIndex=defImgDomainFromUrl.lastIndexOf("/");const defImgDamNameFromUrl=defImgDomainFromUrl.slice(lastSlashIndex+1);1==data.items[i].isNew?(quickViewImgSub=common_galleryQuickViewNewProductUrl.replace("{0}",defImgFromUrl),"kohlerchina"===defImgDamNameFromUrl?quickViewImgSub=changeUrlDam(defImgDomainFromUrl,lastSlashIndex,quickViewImgSub,"PAWEB"):(quickViewImgSub=quickViewImgSub.replace("{domain}",defImgDomainFromUrl),quickViewImgSub=quickViewImgSub.replaceAll("{dam}",defImgDamNameFromUrl))):(quickViewImgSub=common_productListQuickViewUrl.replace("{0}",defImgFromUrl),"kohlerchina"===defImgDamNameFromUrl?quickViewImgSub=changeUrlDam(defImgDomainFromUrl,lastSlashIndex,quickViewImgSub,"PAWEB"):(quickViewImgSub=quickViewImgSub.replace("{domain}",defImgDomainFromUrl),quickViewImgSub=quickViewImgSub.replaceAll("{dam}",defImgDamNameFromUrl)))}else quickViewImgSub=1==data.items[i].isNew?quickViewImageNewProductUrl.replace("{0}",image):productListQuickViewUrl.replace("{0}",image);var roundPrice=Math.round(skuItemPrice*priceVat);skuItemPrice=(roundPrice*multipleValue).toLocaleString("en-US");var swatchImageURL=imgswatch.replace("{0}",skuImgSwatch);htmlSub+='<li><span class="koh-product-variant '+selectedSwatchClass+discontinuedDateClass+'" data-koh-image="'+quickViewImgSub+'" data-koh-sku="'+skuId+'" data-koh-sku-k="K-'+skuId+'" data-koh-color="'+skuColorFinishName+'" + data-koh-price="'+currencyCode+" "+skuItemPrice+'" + data-default-category="'+defaultCategoryIfMultiple+'"><button class="koh-product-color" data-hasqtip="'+skuImgSwatch+'"><img src="'+swatchImageURL+'" width="28" height="28" alt="'+skuId+'"> <span class="label">'+skuColorFinishName+"</span></button></span></li>"}if(html+=htmlSub+'</ul></div><div class="koh-product-tools"><a data-href="'+addToCompareLink+'" class="koh-compare-add koh-compare-button-tile add_'+data.items[i].itemNo+'" data-product-itemno="'+data.items[i].itemNo+'" data-category="'+productCategoryKey+'"'+multiAncestorefaultCategoryData+">"+compareButtonLable+'</a><a data-href="'+addToCompareLink+'" class="koh-compare-removes koh-compare-button-tile remove_'+data.items[i].itemNo+'" data-product-itemno="'+data.items[i].itemNo+'" data-category="'+productCategoryKey+'"'+multiAncestorefaultCategoryData+">"+compareButtonLable+"</a></div></div></div></div><a data-href='"+addToCompareLink+"' class=\"koh-compare-add koh-compare-button-tile add_"+data.items[i].itemNo+"\" data-product-itemno='"+data.items[i].itemNo+"'  data-category='"+productCategoryKey+"'"+multiAncestorefaultCategoryData+">"+addCompare+"</a><a data-href='"+addToCompareLink+"' class=\"koh-compare-removes koh-compare-button-tile remove_"+data.items[i].itemNo+"\" data-product-itemno='"+data.items[i].itemNo+"'  data-category='"+productCategoryKey+"'"+multiAncestorefaultCategoryData+">"+removeProduct+"</a> </div></div></div>",mainList.append(html),bannerProductCount%11==0&&"true"===bannerFlag){var promoBanner=$(".koh-product-tile.koh-grid-promo-banner").eq(0).clone();mainList.append(promoBanner),bannerProductCount++}}try{currentPage-currentPageClone>1&&void 0!==typeof Storage&&$("html, body").animate({scrollTop:windowScrollTop},1e3,function(){})}catch(ex){}axKOH.main.productFacetedSearch.initializeLazy(),axKOH.main.isLazyLoader=!0,$("#bannerProductCount").val(bannerProductCount)}}}).done(function(){}).fail(function(){})}catch(ex){}},showHideFilters=function($components){if($components){var $lessFilterButton=$components.find(".categories-and-filters__less-filters-link"),$moreFilterButton=$components.find(".categories-and-filters__more-filters-link");if($lessFilterButton&&$moreFilterButton){var $showMoreDropDown=$components.find(".showMoreDropdowns");$showMoreDropDown&&($lessFilterButton.on("click",function(e){e.preventDefault(),$lessFilterButton.toggle();var length=$showMoreDropDown.length;$showMoreDropDown.each(function(index){$(this).slideUp("slow","swing",function(){index===length-1&&$moreFilterButton.toggle()})})}),$moreFilterButton.on("click",function(e){e.preventDefault(),$moreFilterButton.toggle();var length=$showMoreDropDown.length;$showMoreDropDown.each(function(index){$(this).slideDown("slow","swing",function(){index===length-1&&$lessFilterButton.toggle()})})}))}}};return{initialize:function(){var $components=$("."+componentClass);initSearchNav($components),initFilterExpandCollapse($components),initRangeSliders($components),initCompareButtons($components),initQuickView($components),initTooltips($components),initDropdowns($components),initSearchFacets($components),initSpecToggle(),initProductVideos($components),initMarketAvailabilityTop($components),initPLPProductClick($components),showHideFilters($components)},onLoad:function(){},initializeLazy:function(){var $components=$("."+componentClass);initCompareButtons($components),initQuickView($components),initTooltips($components),initSpecToggle(),initPLPProductClick($components)},scrollPage:function(windowLastScroll){"undefined"!==windowLastScroll&&windowLastScroll>0?localStorage.setItem("facetPageLastScroll",windowLastScroll):void 0!==typeof Storage&&localStorage.setItem("facetPageLastScroll",$(window).scrollTop());var $components=$("."+componentClass),$lastElement=$(".koh-product-tile").last();if(0!==$lastElement.length){var $lastElementHeight=$lastElement.height(),lastElementTop=($(window).height(),$lastElement.offset().top),isLoadMore=$("#koh-load-more").val(),lastVisitedPage=$("#currentPage").val(),currentPageVal=lastVisitedPage;void 0!==typeof Storage&&(lastVisitedPage=localStorage.getItem("lastVisitedPage")),(lastElementTop-$(window).height()+$lastElementHeight+$lastElementHeight/4<=$(window).scrollTop()||void 0!==currentPageVal&&currentPageVal!==lastVisitedPage)&&"true"==isLoadMore&&axKOH.main.isLazyLoader&&(doLazyLoading($components),axKOH.main.isLazyLoader=!1)}}}}(),$(function(){var lastVisitedPage=0,productDetailPage=!1;$(document).ready(function(){if(void 0!==typeof Storage){lastVisitedPage=localStorage.getItem("lastVisitedPage");var currentPageVal=$("#currentPage").val();void 0!==currentPageVal&&localStorage.setItem("lastVisitedPage",currentPageVal),productDetailPage=localStorage.getItem("productDetailPage"),"true"===productDetailPage&&$("#backFromProductDetailPage").length&&$("#backFromProductDetailPage").val(productDetailPage);var productDetailPageVal=$("#productDetailPage").val();void 0!==productDetailPageVal?localStorage.setItem("productDetailPage",productDetailPageVal):localStorage.setItem("productDetailPage",!1)}axKOH.main.productFacetedSearch.initialize()}),$(window).on("load",function(){axKOH.main.productFacetedSearch.onLoad(),$(".koh-video-panel .remodal-close, div:not(.koh-video-panel)").on("click",function(){var $vURL=$(".remodal-is-opened .koh-video-panel iframe").attr("src");$(".remodal-is-opened .koh-video-panel iframe").attr("src",$vURL)});var allProdClickedMa=localStorage.getItem("allProdClickedMa");if(allProdClickedMa){var windowScrollTop=localStorage.getItem("facetPageLastScroll");void 0!=windowScrollTop&&$("html, body").animate({scrollTop:windowScrollTop},1e3,function(){localStorage.removeItem("allProdClickedMa")})}}),$(window).on("scroll",axKOH.main.productFacetedSearch.scrollPage),$(window).unload(function(){}),window.addEventListener("pageshow",function(event){try{if(event.persisted||"undefined"!=typeof window.performance&&2===window.performance.navigation.type){var windowLastScroll="undefined";void 0!==typeof Storage&&(localStorage.setItem("lastVisitedPage",lastVisitedPage),windowLastScroll=localStorage.getItem("facetPageLastScroll")),"false"===productDetailPage?window.location.reload():axKOH.main.productFacetedSearch.scrollPage(windowLastScroll)}}catch(ex){}})}),$(window).on("resize",function(){$(window).width()<768&&($(".koh-market-values-click").click(function(){$(".koh-market-availability").addClass("koh-market-availabiltiy-mobile-wrap"),$(".koh-market-list-close-button").show(),$(".market-list").css("height",$(window).height())}),$("a.koh-country-name").click(function(event){$(".koh-market-availability").removeClass("koh-market-availabiltiy-mobile-wrap")}),$(".koh-market-list-close-button").click(function(){$(".koh-market-availability").removeClass("koh-market-availabiltiy-mobile-wrap"),$(".koh-market-list-close-button").hide()}))}).resize();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImMta29oLXByb2R1Y3QtZmFjZXRlZC1zZWFyY2guanMiXSwibmFtZXMiOlsiYXhLT0giLCJtYWluIiwibm9VaVNsaWRlciIsImlzTGF6eUxvYWRlciIsInF1aWNrVmlld0xhc3RJbmRleCIsImxvY2FsZVZhbHVlIiwiJCIsInZhbCIsInByaWNlVmF0IiwibXVsdGlwbGVWYWx1ZSIsInByb2R1Y3RGYWNldGVkU2VhcmNoIiwiY29tcG9uZW50Q2xhc3MiLCJpbml0U2VhcmNoTmF2IiwiJHNlYXJjaENvbnRyb2xzIiwiZmlyc3QiLCIkc2VhcmNoU2V0IiwiY2hpbGRyZW4iLCIkbWVudUJ1dHRvbiIsImNsaWNrIiwibGlzdCIsImUiLCIkYnV0dG9uIiwidGhpcyIsIiRsaXN0IiwiZGF0YSIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImRvY3VtZW50IiwidGFyZ2V0IiwiY2xvc2VzdCIsImxlbmd0aCIsImlzIiwiaW5pdFBMUFByb2R1Y3RDbGljayIsIiRjb21wb25lbnRzIiwiJHByb2R1Y3RUaWxlcyIsImZpbmQiLCJlYWNoIiwiJHByb2R1Y3RMaW5rIiwib24iLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJpbml0TWFya2V0QXZhaWxhYmlsaXR5VG9wIiwibWFya2V0TGlzdENsYXNzIiwiJG1hcmtldExpc3QiLCJwcmV2ZW50RGVmYXVsdCIsIiR2YXJpYWJsZSIsInRleHQiLCIkaGlkZGVuQ291bnRyeUZpbHRlciIsIiRmaWx0ZXIiLCJmYWNldE5hbWUiLCJmYWNldFZhbHVlIiwiZmFjZXRDb3VudCIsImZhY2V0TGFiZWwiLCJyZU1hcmtldEVsZW1lbnQiLCJjb29raWVOYW1lIiwiZHVyYXRpb25NaW51dGVzIiwiY3JlYXRlQ29va2llIiwiJGZpbHRlckNvbnRlbnQiLCIkc2VsZWN0ZWRGaWx0ZXJzIiwiZW1wdHkiLCJhcHBlbmQiLCJhZGRBY3RpdmVGaWx0ZXIiLCJkaXNwbGF5TmV3UmVzdWx0cyIsInRvZ2dsZSIsImhpZGUiLCJsb2NhbFN0b3JhZ2UiLCJjaGFuZ2UiLCJwcm9wIiwiZGVsZXRlQ29va2llIiwic2hvdyIsIm5hbWUiLCJjb29raWUiLCJpbml0RmlsdGVyRXhwYW5kQ29sbGFwc2UiLCIkY29tcG9uZW50IiwiZmlsdGVyR3JvdXBDbGFzcyIsImZpbHRlckNsYXNzIiwiJGZpbHRlcnMiLCIkZmlsdGVyTmFtZSIsIiR0YXJnZXQiLCIkZmlsdGVyQnV0dG9uIiwiaW5pdFJhbmdlU2xpZGVycyIsIiRyYW5nZUZpbHRlcnMiLCIkcmFuZ2VGaWx0ZXIiLCIkc2xpZGVyQ29udGFpbmVyIiwiJHJhbmdlTGFiZWxzIiwiJHJhbmdlTWluTGFiZWwiLCIkcmFuZ2VNYXhMYWJlbCIsIiRzbGlkZXIiLCJzbGlkZXJFbGVtZW50IiwicmFuZ2VMYWJlbFByZWZpeCIsInJhbmdlTGFiZWxTdWZmaXgiLCJyYW5nZUN1cnJlbnRNaW4iLCJyYW5nZUN1cnJlbnRNYXgiLCJyYW5nZU1pbiIsInJhbmdlTWF4IiwiaXNOYU4iLCJjcmVhdGUiLCJzdGFydCIsImNvbm5lY3QiLCJyYW5nZSIsIm1pbiIsIm1heCIsImZvcm1hdCIsInRvIiwidmFsdWUiLCJNYXRoIiwicm91bmQiLCJmcm9tIiwidmFsdWVzIiwiaGFuZGxlSW5kZXgiLCJpbml0Q29tcGFyZUJ1dHRvbnMiLCJjb21wb25lbnRJbmRleCIsIiR0aWxlcyIsImNvbXBhcmVJZHMiLCJwdXNoIiwiYXR0ciIsIiR0aWxlIiwiaXRlbW5vIiwiaW5BcnJheSIsImluaXRRdWlja1ZpZXciLCIkcXVpY2tWaWV3Q29udGFpbmVycyIsInF1aWNrVmlld0luZGV4IiwiJHBhbmVsIiwic2t1IiwicmVtb2RhbElEIiwiY3VycmVudENvbXBhcmVQcm9kdWN0cyIsImluaXRBc01vZGFsIiwiaW5pdFF1aWNrVmlld0RhdGEiLCJpbml0VG9vbHRpcHMiLCIkY29tcG9uZW50TW9kYWxzIiwiJHRhcmdldHMiLCJhZGQiLCIkYWJicmV2aWF0aW9ucyIsImFiYnJJbmRleCIsIiRhYmJyIiwicXRpcCIsImlkIiwiY29udGVudCIsInBvc2l0aW9uIiwibXkiLCJhdCIsInN0eWxlIiwiY2xhc3NlcyIsInRpcCIsIm1pbWljIiwid2lkdGgiLCJoZWlnaHQiLCIkY29sb3JTd2F0Y2hlcyIsInN3YXRjaEluZGV4IiwiJGNvbG9yU3dhdGNoIiwiJGNvbG9yTGFiZWwiLCJjbG9uZSIsImFkanVzdCIsInkiLCIkZmFjZXRzV2l0aFRvb2x0aXBzIiwiaGFzIiwiZmFjZXRJbmRleCIsIiRmYWNldCIsIiRmYWNldE5hbWUiLCIkZmFjZXRUb29sdGlwIiwiJHRvb2x0aXBJY29uIiwiZXZlbnQiLCJ4Iiwic3RvcFByb3BhZ2F0aW9uIiwiaW5pdERyb3Bkb3ducyIsIiRvcHRpb25zIiwiJG9wdGlvbnNCdXR0b24iLCIkb3B0aW9uc0xpc3QiLCJpbml0U3BlY1RvZ2dsZSIsInNwZWNUb2dnbGUiLCJuZXh0IiwidG9nZ2xlQ2xhc3MiLCJpbml0U2VhcmNoRmFjZXRzIiwiJHNvcnRCdXR0b24iLCIkc29ydE9wdGlvbnMiLCIkc29ydE9wdGlvbkl0ZW1zIiwiJHNvcnRPcHRpb25JdGVtIiwiYnV0dG9uIiwiY29sbGVjdGlvbiIsImNob2ljZXMiLCJzZXRBY3RpdmVTb3J0aW5nIiwiJGNhdGVnb3JpZXMiLCIkYXZhaWxhYmxlRmlsdGVycyIsIiRmaWx0ZXJMaW5rIiwiYWRkQWN0aXZlQ2F0ZWdvcnkiLCIkc2VsZWN0ZWRGaWx0ZXJJdGVtcyIsIiRmaWx0ZXJJdGVtIiwiJGZpbHRlckl0ZW1CdXR0b24iLCJmaWx0ZXJDb3VudCIsImZpbHRlclNldCIsImZpbHRlckl0ZW0iLCJyZW1vdmUiLCJnZXRBY3RpdmVTZWN0aW9uIiwiJHBhZ2luYXRpb24iLCIkcGFnaW5hdGlvbkNoaWxkIiwiJHBhZ2luYXRpb25DaGlsZExpIiwiY29tcG9uZW50Iiwid2luZG93Iiwic2Nyb2xsVG9wIiwicGFnZSIsIiRzaG93QWxsQ2F0cyIsIiRjaGVja2JveCIsInN1ZmZpeCIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJmYWNldE5hbWVMYWJlbCIsIiRzbGlkZXJTZWxlY3RlZEZpbHRlciIsIiRmaWx0ZXJJdGVtQnV0dG9uTmFtZSIsImh0bWwiLCJzZWxlY3RlZEZpbHRlcnNOb3ciLCJzZWxlY3RlZEZsYWciLCJpIiwiZmFjZXRWYWx1ZVNlbGVjdGVkIiwiJGNsZWFyQWxsRmlsdGVycyIsInNlY3Rpb25OYW1lIiwiZ2V0QWN0aXZlQ2F0ZWdvcnkiLCJjYXRlZ29yeU5hbWUiLCIkYWN0aXZlQ2F0ZWdvcnkiLCJnZXRBY3RpdmVGaWx0ZXJzIiwiZmFjZXROYW1lRmllbGQiLCJmYWNldFZhbHVlRmllbGQiLCJhY3RpdmVGaWx0ZXJzIiwic3BsaXQiLCJNaW4iLCJNYXgiLCJpbmRleCIsInVuZGVmaW5lZCIsImdldEFjdGl2ZVNvcnRpbmciLCJzb3J0T3B0aW9ucyIsIm9yZGVyQnkiLCJkaXJlY3Rpb24iLCJsYWJlbHMiLCIkYWN0aXZlU29ydCIsIiR0YXJnZXRPcHRpb24iLCIkZmlsdGVyTGlzdCIsImluc2VydEJlZm9yZSIsIndyYXBJbm5lciIsImdldFR5cGUiLCJ0eXBlIiwiZ2V0U2VhcmNoVGVybSIsInNlYXJjaFRlcm0iLCJnZXRDdXJyZW50UGFnZSIsImN1cnJlbnRQYWdlIiwiZ2V0U29ydEJ5Iiwic29ydEJ5IiwiZ2V0T3JkZXJCeSIsImdldFVSTCIsImV4Y2x1ZGVDYXRlZ29yeSIsImV4Y2x1ZGVGaWx0ZXJzIiwidXJsIiwicXVlcnlQYXJhbXMiLCJxdWVyeVBhcmFtQ291bnQiLCJ1cmxSb290IiwibG9jYXRpb24iLCJocmVmIiwiaXNTZWFyY2giLCJ1cmxTZWFyY2giLCJyZXNJbmRleCIsImluZGV4T2YiLCJ1cmxDb2xsZWN0aW9ucyIsImNvbGxlY3Rpb25zSW5kZXgiLCJzdWJzdHJpbmciLCJ1cmxSb290Q29tcG9uZW50IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiY2F0SW5kZXgiLCJmYWNldFZhbHVlcyIsInBhcmFtTmFtZSIsImtleSIsInJlcGxhY2UiLCJjdXJyZW50VXJsIiwidGFyZ2V0VXJsIiwic2F2ZVNjcm9sbFBvc2l0aW9uIiwicHJlcGVuZCIsIiRyZW1vZGFsUGFuZWwiLCJyZW1vZGFsIiwiaGFzaFRyYWNraW5nIiwiY2xvc2VPbkNhbmNlbCIsImNsb3NlT25Fc2NhcGUiLCJjbG9zZU9uT3V0c2lkZUNsaWNrIiwibW9kaWZpZXIiLCJvcGVuIiwiJHByaW1hcnlCYW5uZXIiLCIkcHJvZHVjdENvbnRlbnQiLCIkcHJvZHVjdFNLVSIsIiRjb2xvckNvbGxlY3Rpb25zIiwiJHByb2R1Y3RJbnJpdmVyUHJpY2UiLCIkY29sb3JDb2xsZWN0aW9uIiwiJHNlbGVjdGVkQ29sb3JMYWJlbCIsIiRjb2xvclZhcmlhbnRzIiwiJGNvbG9yVmFyaWFudCIsInByb2R1Y3REYXRhIiwiaW1hZ2VVUkwiLCJza3VrIiwicHJpY2VzIiwiY29sb3JOYW1lIiwiZGVmYXVsdENhdGVnb3J5IiwicHJvZHVjdEZpZWxkcyIsImJhbm5lciIsImNvbG9yIiwidmFyaWFudFNldCIsInZhcmlhbnQiLCJwcm9kdWN0IiwiZmllbGRzIiwiJHZhcmlhbnQiLCIkdmFyaWFudFNldCIsImFsbE9wZW5lZCIsImRlZmF1bHRDYXRlZ29yeVVSTCIsInN1YnN0ciIsImN1cnJlbnQiLCJwcmV2aW91cyIsImRpc2NvdW50ZWQiLCIkcHJvZHVjdFNoYXJlIiwiJHByb2R1Y3RTaGFyZUJ1dHRvbiIsIiRwcm9kdWN0U2hhcmVQYW5lbCIsInV0aWxzIiwic29jaWFsU2hhcmUiLCJpbml0QXNUb29sdGlwIiwic2Nyb2xsUG9zaXRpb24iLCJpbml0UHJvZHVjdFZpZGVvcyIsIiR2aWRlb0xpbmtzIiwidmlkZW9JbmRleCIsIiR2aWRlb0xpbmsiLCJ2aWRlb1VSTCIsImFwaVVSTCIsIiR2aWRlb1BhbmVsIiwiaW5zZXJ0QWZ0ZXIiLCIkZW1iZWRkZWRWaWRlbyIsInJlc2l6ZVJlc3BvbnNpdmVWaWRlbyIsImdldCIsIml0ZW1zIiwic25pcHBldCIsInZpZGVvVGl0bGUiLCJ0aXRsZSIsIm1ha2VWaWRlb1Jlc3BvbnNpdmUiLCIkdmlkZW9FbGVtZW50IiwiYXNwZWN0UmF0aW8iLCJtYXhXaWR0aCIsInJlbW92ZUF0dHIiLCJlbWJlZFRhZ3MiLCIkcGFyZW50IiwicmVzcG9uc2l2ZVdpZHRoIiwiY2hhbmdlVXJsRGFtIiwiZG9tYWluVXJsIiwibGFzdFNsYXNoSW5kZXgiLCJpbWFnZVVybCIsImRhbU5hbWUiLCJkZWZJbWdEb21haW5XaXRob3V0RGFtIiwic2xpY2UiLCJuZXdEb21haW5VcmwiLCJyZXBsYWNlQWxsIiwiZG9MYXp5TG9hZGluZyIsInByb2R1Y3RMaXN0TGF6eUxpbmsiLCJ0b3RhbFByb2R1Y3RzIiwicGFnZVNpemUiLCJjdXJyZW50U3dhdGNoIiwiYWRkVG9Db21wYXJlTGluayIsImdyaWRJbWFnZVByb2R1Y3RVcmwiLCJncmlkSW1hZ2VOZXdQcm9kdWN0VXJsIiwiY29tbW9uX2dhbGxlcnlOZXdQcm9kdWN0VXJsIiwiY29tbW9uX2dyaWRJbWFnZVVybCIsImNvbW1vbl9nYWxsZXJ5UXVpY2tWaWV3TmV3UHJvZHVjdFVybCIsImNvbW1vbl9wcm9kdWN0TGlzdFF1aWNrVmlld1VybCIsInByb2R1Y3REZXRhaWxzbGlua01haW4iLCJwcm9kdWN0TGlzdFF1aWNrVmlld1VybCIsInF1aWNrVmlld0ltYWdlTmV3UHJvZHVjdFVybCIsInF1aWNrdmlldyIsInNlbGVjdENvbG9yIiwiaW1nc3dhdGNoIiwiY29tcGFyZUJ1dHRvbkxhYmxlIiwicmVtb3ZlUHJvZHVjdCIsImFkZENvbXBhcmUiLCJyZWxhdGl2ZUNvbnRlbnRQYXRoIiwiYmFubmVyRmxhZyIsImJhbm5lclByb2R1Y3RDb3VudCIsImRpc2NvbnRpbnVlZERhdGVMYWJlbCIsImRlZmF1bHRDYXRlZ29yeUtleSIsImxhc3RWaXNpdGVkUGFnZSIsIndpbmRvd1Njcm9sbFRvcCIsImdldEl0ZW0iLCJhamF4IiwiY2FjaGUiLCJzb3J0Iiwic3VjY2VzcyIsImN1cnJlbnRQYWdlQ2xvbmUiLCJtYWluTGlzdCIsImRlZmF1bHRTa3VJZCIsIkRFRkFVTFRfU0tVIiwiZGVmYXVsdEltYWdlIiwiSU1HX0lTTyIsImRlZmF1bHRTa3VDb2xvckZpbmlzaE5hbWUiLCJDT0xPUl9GSU5JU0hfTkFNRSIsImRlZmF1bHRTd2F0Y2giLCJJTUdfU1dBVENIIiwicHJvZHVjdFByaWNlIiwiUFJPRFVDVF9QUklDRSIsImoiLCJTS1VTIiwiSU1HX0lURU1fSVNPIiwicXVpY2tWaWV3SW1nIiwicm91bmRQcmljZSIsInRvTG9jYWxlU3RyaW5nIiwic3RhcnRzV2l0aCIsImxhc3RJbmRleE9mIiwiZGVmSW1nRnJvbVVybCIsImRvbWFpblN0YXJ0SW5kZXgiLCJkZWZJbWdEb21haW5Gcm9tVXJsIiwiZGVmSW1nRGFtTmFtZUZyb21VcmwiLCJpc05ldyIsInByb2R1Y3REZXRhaWxMaW5rIiwibXVsdGlBbmNlc3RvcmVmYXVsdENhdGVnb3J5RGF0YSIsImRlZmF1bHRDYXRlZ29yeUlmTXVsdGlwbGUiLCJwcm9kdWN0Q2F0ZWdvcnlLZXkiLCJjYXRlZ29yeSIsImlzTXVsdGlwbGVBbmNlc3RvciIsIml0ZW1ObyIsImRlc2NyaXB0aW9uU2hvcnQiLCJERVNDUklQVElPTl9QUk9EVUNUX1NIT1JUIiwiYnJhbmROYW1lIiwiQlJBTkRfTkFNRSIsImN1cnJlbmN5Q29kZSIsInByb2R1Y3RQcmljZVNwYW4iLCJodG1sU3ViIiwiaW1hZ2UiLCJza3VJZCIsInNrdUNvbG9yRmluaXNoTmFtZSIsInNrdUltZ1N3YXRjaCIsImRpc2NvbnRpbnVlZERhdGUiLCJkaXNjb250aW51ZWREYXRlQ2xhc3MiLCJza3VJdGVtUHJpY2UiLCJESVNDT05USU5VRURfREFURSIsImV4Iiwic2VsZWN0ZWRTd2F0Y2hDbGFzcyIsInF1aWNrVmlld0ltZ1N1YiIsInN3YXRjaEltYWdlVVJMIiwicHJvbW9CYW5uZXIiLCJlcSIsImFuaW1hdGUiLCJpbml0aWFsaXplTGF6eSIsImRvbmUiLCJmYWlsIiwic2hvd0hpZGVGaWx0ZXJzIiwiJGxlc3NGaWx0ZXJCdXR0b24iLCIkbW9yZUZpbHRlckJ1dHRvbiIsIiRzaG93TW9yZURyb3BEb3duIiwic2xpZGVVcCIsInNsaWRlRG93biIsImluaXRpYWxpemUiLCJvbkxvYWQiLCJzY3JvbGxQYWdlIiwid2luZG93TGFzdFNjcm9sbCIsIiRsYXN0RWxlbWVudCIsImxhc3QiLCIkbGFzdEVsZW1lbnRIZWlnaHQiLCJsYXN0RWxlbWVudFRvcCIsIm9mZnNldCIsImlzTG9hZE1vcmUiLCJjdXJyZW50UGFnZVZhbCIsInByb2R1Y3REZXRhaWxQYWdlIiwicmVhZHkiLCJwcm9kdWN0RGV0YWlsUGFnZVZhbCIsIiR2VVJMIiwiYWxsUHJvZENsaWNrZWRNYSIsInJlbW92ZUl0ZW0iLCJ1bmxvYWQiLCJhZGRFdmVudExpc3RlbmVyIiwicGVyc2lzdGVkIiwicGVyZm9ybWFuY2UiLCJuYXZpZ2F0aW9uIiwicmVsb2FkIiwiY3NzIiwicmVzaXplIl0sIm1hcHBpbmdzIjoiOzs7QUFJQSxHQUFJQSxPQUFRQSxTQUNaQSxPQUFNQyxLQUFPRCxNQUFNQyxRQUVuQixJQUFJQyxZQUFhQSxZQUFjLElBQy9CRixPQUFNQyxLQUFLRSxjQUFlLEVBQzFCSCxNQUFNQyxLQUFLRyxtQkFBcUIsRUFDaEMsSUFBSUMsYUFBY0MsRUFBRSxnQkFBZ0JDLE1BQ2hDQyxTQUFXRixFQUFFLGNBQWNDLE1BQzNCRSxjQUFnQkgsRUFBRSxtQkFBbUJDLEtBQ3pDUCxPQUFNQyxLQUFLUyxxQkFBdUIsV0FDOUIsR0FBSUMsZ0JBQWlCLCtCQUdqQkMsY0FBZ0IsV0FFaEIsR0FBSUMsaUJBQWtCUCxFQUFFLHdCQUF3QlEsUUFDNUNDLFdBQWFGLGdCQUFnQkcsU0FBUyxtQkFBbUJGLFFBRXpERyxZQUFjSixnQkFBZ0JHLFNBQVMsc0JBQXNCRixPQUNqRUcsYUFBWUMsT0FDUkMsS0FBTUosWUFDUCxTQUFTSyxHQUNSLEdBQUlDLFNBQVVmLEVBQUVnQixNQUNaQyxNQUFRSCxFQUFFSSxLQUFLTCxJQUVmRSxTQUFRSSxTQUFTLFNBQ2pCSixRQUFRSyxZQUFZLFFBQ3BCSCxNQUFNRyxZQUFZLFVBRWxCTCxRQUFRTSxTQUFTLFFBQ2pCSixNQUFNSSxTQUFTLFdBSXZCckIsRUFBRXNCLFVBQVVWLE9BQ1JXLE9BQVFaLFlBQ1JF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ckJ4SixTQUFuQnVKLGlCQUNDcFgsRUFBRSxjQUFjK2EsU0FBVTlPLFVBQVdtTCxpQkFBa0IsSUFBTSxXQUN6RHhULGFBQWE2WSxXQUFXLHlCQUt4Q3pjLEVBQUVnTSxRQUFRL0osR0FBRyxTQUFTdkMsTUFBTUMsS0FBS1MscUJBQXFCdWIsWUFDdEQzYixFQUFFZ00sUUFBUTBRLE9BQU8sY0FJakIxUSxPQUFPMlEsaUJBQWlCLFdBQVksU0FBVS9TLE9BQzdDLElBQ0MsR0FBSUEsTUFBTWdULFdBQTRDLG1CQUF0QjVRLFFBQU82USxhQUFxRSxJQUF2QzdRLE9BQU82USxZQUFZQyxXQUFXck8sS0FBYyxDQUNoSCxHQUFJbU4sa0JBQW1CLFdBQ0EvTixnQkFBZCxXQUNSakssYUFBYXpCLFFBQVEsa0JBQW1CZ1YsaUJBQ3hDeUUsaUJBQW1CaFksYUFBYXlULFFBQVEsd0JBRWYsVUFBdEIrRSxrQkFDSHBRLE9BQU93RCxTQUFTdU4sU0FFaEJyZCxNQUFNQyxLQUFLUyxxQkFBcUJ1YixXQUFXQyxtQkFHN0MsTUFBT25CLFVBS2J6YSxFQUFFZ00sUUFBUS9KLEdBQUcsU0FBVSxXQUVmakMsRUFBRWdNLFFBQVFwRCxRQUFVLE1BQ3BCNUksRUFBRSw0QkFBNEJZLE1BQU0sV0FDaENaLEVBQUUsNEJBQTRCcUIsU0FBUyx1Q0FDdkNyQixFQUFFLGlDQUFpQ2dFLE9BRW5DaEUsRUFBRSxnQkFBZ0JnZCxJQUFJLFNBQVVoZCxFQUFFZ00sUUFBUW5ELFlBRTlDN0ksRUFBRSxzQkFBc0JZLE1BQU0sU0FBVWdKLE9BQ3BDNUosRUFBRSw0QkFBNEJvQixZQUFZLHlDQUU5Q3BCLEVBQUUsaUNBQWlDWSxNQUFNLFdBQ3JDWixFQUFFLDRCQUE0Qm9CLFlBQVksdUNBQzFDcEIsRUFBRSxpQ0FBaUMyRCxZQUc1Q3NaIiwiZmlsZSI6ImMta29oLXByb2R1Y3QtZmFjZXRlZC1zZWFyY2gubWluLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCDCqSAyMDAwLTIwMTcgS29obGVyIENvbXBhbnkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKi9cblxudmFyIGF4S09IID0gYXhLT0ggfHwge307XG5heEtPSC5tYWluID0gYXhLT0gubWFpbiB8fCB7fTtcblxudmFyIG5vVWlTbGlkZXIgPSBub1VpU2xpZGVyIHx8IG51bGw7XG5heEtPSC5tYWluLmlzTGF6eUxvYWRlciA9IHRydWU7XG5heEtPSC5tYWluLnF1aWNrVmlld0xhc3RJbmRleCA9IC0xO1xudmFyIGxvY2FsZVZhbHVlID0gJCgnI2xvY2FsZVZhbHVlJykudmFsKCk7XG52YXIgcHJpY2VWYXQgPSAkKCcjcHJpY2UtdmF0JykudmFsKCk7XG52YXIgbXVsdGlwbGVWYWx1ZSA9ICQoJyNtdWx0aXBseS12YWx1ZScpLnZhbCgpO1xuYXhLT0gubWFpbi5wcm9kdWN0RmFjZXRlZFNlYXJjaCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb21wb25lbnRDbGFzcyA9IFwiYy1rb2gtcHJvZHVjdC1mYWNldGVkLXNlYXJjaFwiO1xuXG4gICAgLy8gT3B0aW9uYWwgc2VhcmNoIG5hdmlnYXRpb25cbiAgICB2YXIgaW5pdFNlYXJjaE5hdiA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciAkc2VhcmNoQ29udHJvbHMgPSAkKFwiLmtvaC1zZWFyY2gtY29udHJvbHNcIikuZmlyc3QoKTtcbiAgICAgICAgdmFyICRzZWFyY2hTZXQgPSAkc2VhcmNoQ29udHJvbHMuY2hpbGRyZW4oXCIua29oLXNlYXJjaC1zZXRcIikuZmlyc3QoKTtcblxuICAgICAgICB2YXIgJG1lbnVCdXR0b24gPSAkc2VhcmNoQ29udHJvbHMuY2hpbGRyZW4oXCIua29oLXNlYXJjaC1zZWxlY3RcIikuZmlyc3QoKTtcbiAgICAgICAgJG1lbnVCdXR0b24uY2xpY2soe1xuICAgICAgICAgICAgbGlzdDogJHNlYXJjaFNldFxuICAgICAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgJGJ1dHRvbiA9ICQodGhpcyk7XG4gICAgICAgICAgICB2YXIgJGxpc3QgPSBlLmRhdGEubGlzdDtcblxuICAgICAgICAgICAgaWYgKCRidXR0b24uaGFzQ2xhc3MoXCJvcGVuXCIpKSB7XG4gICAgICAgICAgICAgICAgJGJ1dHRvbi5yZW1vdmVDbGFzcyhcIm9wZW5cIik7XG4gICAgICAgICAgICAgICAgJGxpc3QucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkYnV0dG9uLmFkZENsYXNzKFwib3BlblwiKTtcbiAgICAgICAgICAgICAgICAkbGlzdC5hZGRDbGFzcyhcIm9wZW5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoZG9jdW1lbnQpLmNsaWNrKHtcbiAgICAgICAgICAgIHRhcmdldDogJG1lbnVCdXR0b24sXG4gICAgICAgICAgICBsaXN0OiAkc2VhcmNoU2V0XG4gICAgICAgIH0sIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciAkYnV0dG9uID0gZS5kYXRhLnRhcmdldDtcbiAgICAgICAgICAgIHZhciAkbGlzdCA9IGUuZGF0YS5saXN0O1xuXG4gICAgICAgICAgICBpZiAoISQoZS50YXJnZXQpLmNsb3Nlc3QoJGJ1dHRvbikubGVuZ3RoICYmICEkKGUudGFyZ2V0KS5pcygkYnV0dG9uKSkge1xuICAgICAgICAgICAgICAgIGlmICgkYnV0dG9uLmhhc0NsYXNzKFwib3BlblwiKSkge1xuICAgICAgICAgICAgICAgICAgICAkYnV0dG9uLnJlbW92ZUNsYXNzKFwib3BlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgJGxpc3QucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9O1xuICAvL0luaXQgY2xpY2sgZXZlbnQgb24gUERGIGxpbmtcbiAgICB2YXIgaW5pdFBMUFByb2R1Y3RDbGljayA9IGZ1bmN0aW9uKCRjb21wb25lbnRzKSB7XG4gICAgXHRpZiAoJGNvbXBvbmVudHMpIHtcbiAgICBcdFx0dmFyICRwcm9kdWN0VGlsZXMgPSAkY29tcG9uZW50cy5maW5kKFwiLmtvaC1wcm9kdWN0LXRpbGVcIik7XG4gICAgICAgICAgICAkcHJvZHVjdFRpbGVzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyICRwcm9kdWN0TGluayA9ICQodGhpcykuZmluZChcIi5rb2gtcHJvZHVjdC10aWxlLWNvbnRlbnQgPiBhXCIpO1xuICAgICAgICAgICAgICAgICRwcm9kdWN0TGluay5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXNzaW9uIHN0b3JhZ2UgZm9yIHRyYWNraW5nIFByb2R1Y3QgbGlzdGluZyBwYWdlIGNsaWNrXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJwcm9kTGlzdENsaWNrVHJhY2tcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoXCIucmVtb2RhbC13cmFwcGVyXCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyICRwcm9kdWN0TGluayA9ICQodGhpcykuZmluZChcImFcIik7XG4gICAgICAgICAgICAgICAgJHByb2R1Y3RMaW5rLmVhY2ggKGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgICAgIFx0JCh0aGlzKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2Vzc2lvbiBzdG9yYWdlIGZvciB0cmFja2luZyBQcm9kdWN0IGxpc3RpbmcgcGFnZSBjbGlja1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcInByb2RMaXN0Q2xpY2tUcmFja1wiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgIFx0fVxuICAgIH0gXG4gICAgXG4gIC8vSW5pdCBNYXJrZXQgYXZhaWxhYmlsdHkgdG9wXG4gICAgdmFyIGluaXRNYXJrZXRBdmFpbGFiaWxpdHlUb3AgPSBmdW5jdGlvbigkY29tcG9uZW50cykgeyBcbiAgICBcdGlmICgkY29tcG9uZW50cykge1xuICAgIFx0XHR2YXIgbWFya2V0TGlzdENsYXNzID0gXCIubWFya2V0LWxpc3RcIjtcbiAgICBcdFx0dmFyICRtYXJrZXRMaXN0ID0gJGNvbXBvbmVudHMuZmluZChtYXJrZXRMaXN0Q2xhc3MpO1xuICAgIFx0XHRpZiAoJG1hcmtldExpc3QpIHtcbiAgICBcdFx0XHQkbWFya2V0TGlzdC5maW5kKCdhJykuZWFjaChmdW5jdGlvbihlKSB7XG4gICAgXHRcdFx0XHQkKHRoaXMpLmNsaWNrKHtcbiAgICBcdFx0XHRcdFx0dGFyZ2V0OiAkY29tcG9uZW50c1xuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIFx0ZS5wcmV2ZW50RGVmYXVsdCAoKTtcbiAgICAgICAgICAgICAgICAgICAgXHR2YXIgJHZhcmlhYmxlID0gJCh0aGlzKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmtvaC1tYXJrZXQtdmFsdWVzIGxhYmVsXCIpLnRleHQoJHZhcmlhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkY29tcG9uZW50cyA9IGUuZGF0YS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIFx0dmFyICRoaWRkZW5Db3VudHJ5RmlsdGVyID0gJy5rb2gtZmlsdGVyLXR5cGUtaGlkZGVuJztcbiAgICAgICAgICAgICAgICAgICAgXHR2YXIgJGZpbHRlciA9ICRjb21wb25lbnRzLmZpbmQoJGhpZGRlbkNvdW50cnlGaWx0ZXIpO1xuICAgICAgICAgICAgICAgICAgICBcdGlmICgkZmlsdGVyLmxlbmd0aCkge1xuXHQgICAgICAgICAgICAgICAgICAgIFx0dmFyIGZhY2V0TmFtZSA9ICQodGhpcykuZGF0YShcImZhY2V0LW5hbWVcIiksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZhY2V0VmFsdWUgPSAkKHRoaXMpLmRhdGEoXCJmYWNldC12YWx1ZVwiKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZmFjZXRDb3VudCA9ICQodGhpcykuZGF0YShcImZhY2V0LWNvdW50XCIpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBmYWNldExhYmVsID0gJCh0aGlzKS5kYXRhKFwiZmFjZXQtbGFiZWxcIik7XG5cdCAgICAgICAgICAgICAgICAgICAgXHR2YXIgcmVNYXJrZXRFbGVtZW50ID0gJCgnI2Nvb2tpZS1pbmZvLXJlLW1hcmtldCcpO1xuXHQgICAgICAgICAgICAgICAgICAgIFx0aWYgKHJlTWFya2V0RWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICAgICAgICAgICAgICBcdFx0dmFyIGNvb2tpZU5hbWUgPSByZU1hcmtldEVsZW1lbnQuZGF0YShcImNvb2tpZS1uYW1lXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgIFx0XHR2YXIgZHVyYXRpb25NaW51dGVzID0gcmVNYXJrZXRFbGVtZW50LmRhdGEoXCJjb29raWUtZHVyYXRpb25cIik7XG5cdCAgICAgICAgICAgICAgICAgICAgXHRcdGNyZWF0ZUNvb2tpZSAoY29va2llTmFtZSwgXCIvXCIgK2ZhY2V0TmFtZStcIi9cIiArIGZhY2V0VmFsdWUsIGR1cmF0aW9uTWludXRlcyk7XG5cdCAgICAgICAgICAgICAgICAgICAgXHR9XG5cdCAgICAgICAgICAgICAgICAgICAgXHR2YXIgJGZpbHRlckNvbnRlbnQgPSAkZmlsdGVyLmZpbmQoXCIua29oLWZpbHRlci1jb250ZW50XCIpO1xuXHQgICAgICAgICAgICAgICAgICAgIFx0aWYgKCRmaWx0ZXJDb250ZW50Lmxlbmd0aCkge1xuXHRcdCAgICAgICAgICAgICAgICAgICAgXHR2YXIgJHNlbGVjdGVkRmlsdGVycyA9ICRmaWx0ZXJDb250ZW50LmZpbmQoXCIua29oLXNlbGVjdGVkLWZpbHRlcnNcIik7XG5cdFx0ICAgICAgICAgICAgICAgICAgICBcdGlmICgkc2VsZWN0ZWRGaWx0ZXJzLmxlbmd0aCkge1xuXHRcdCAgICAgICAgICAgICAgICAgICAgXHRcdCRzZWxlY3RlZEZpbHRlcnMuZW1wdHkoKTtcblx0XHQgICAgICAgICAgICAgICAgICAgIFx0XHQkZmlsdGVyLmFwcGVuZCAoXCI8dWwgY2xhc3M9J2tvaC1hdmFpbGFibGUtZmlsdGVycyc+PC91bD5cIik7XG5cdFx0ICAgICAgICAgICAgICAgICAgICBcdH0gXG5cdCAgICAgICAgICAgICAgICAgICAgXHR9XG5cdCAgICAgICAgICAgICAgICAgICAgXHRhZGRBY3RpdmVGaWx0ZXIoJGZpbHRlciwgZmFjZXROYW1lLCBmYWNldFZhbHVlLCBmYWNldExhYmVsLCBmYWNldENvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgXHR9XG4gICAgICAgICAgICAgICAgICAgIFx0ZGlzcGxheU5ld1Jlc3VsdHMoJGNvbXBvbmVudHMpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICBcdFx0XHR9KTtcbiAgICBcdFx0fVxuICAgIFx0XHRcbiAgICBcdFx0JChcIi5rb2gtbWFya2V0LXZhbHVlcy1jbGlja1wiKS5jbGljayhmdW5jdGlvbigpe1xuICAgIFx0XHRcdCQoJy5tYXJrZXQtbGlzdCcpLnRvZ2dsZSgpO1xuICAgIFx0XHRcdCQoJy5rb2gtbWFya2V0LWF2YWlsYWJpbGl0eScpLmFkZENsYXNzKCdrb2gtbWFya2V0LWF2YWlsYWJpbHRpeS1tb2JpbGUtd3JhcCcpXG4gICAgXHRcdH0pO1xuXG4gICAgXHRcdCQoXCIja29oLWFsbHByb2R1Y3QtdmFsdWVzXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgXHRcdFx0JCgnLm1hcmtldC1saXN0JykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiYWxsUHJvZENsaWNrZWRNYVwiLCB0cnVlKTtcbiAgICBcdFx0fSk7XG5cbiAgICBcdFx0JCgnaW5wdXRbbmFtZT1cIm1hcmtldFwiXScpLmNoYW5nZSh7XG5cdFx0XHRcdFx0dGFyZ2V0OiAkY29tcG9uZW50c1xuXHQgICAgICAgICAgICB9LCBmdW5jdGlvbihlKXtcblx0ICAgIFx0XHQgICAgaWYoJCgnI2tvaC1hbGxwcm9kdWN0LXZhbHVlcycpLnByb3AoJ2NoZWNrZWQnKSl7XG5cdCAgICBcdFx0ICAgIFx0dmFyICR2YXJpYWJsZSA9ICQoJyNzZWxlY3QtbWFya2V0LWxhYmVsJykudmFsKCk7XG5cdCAgICBcdFx0ICAgICAgICAkKFwiLmtvaC1tYXJrZXQtdmFsdWVzIGxhYmVsXCIpLnRleHQoJHZhcmlhYmxlKTtcblx0ICAgIFx0XHQgICAgICAgIHZhciAkY29tcG9uZW50cyA9IGUuZGF0YS50YXJnZXQ7XG5cdCAgICBcdFx0ICAgICAgICB2YXIgJGhpZGRlbkNvdW50cnlGaWx0ZXIgPSAnLmtvaC1maWx0ZXItdHlwZS1oaWRkZW4nO1xuICAgICAgICAgICAgICAgICAgICBcdHZhciAkZmlsdGVyID0gJGNvbXBvbmVudHMuZmluZCgkaGlkZGVuQ291bnRyeUZpbHRlcik7XG4gICAgICAgICAgICAgICAgICAgIFx0aWYgKCRmaWx0ZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIFx0XHR2YXIgJGZpbHRlckNvbnRlbnQgPSAkZmlsdGVyLmZpbmQoXCIua29oLWZpbHRlci1jb250ZW50XCIpO1xuICAgICAgICAgICAgICAgICAgICBcdFx0aWYgKCRmaWx0ZXJDb250ZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBcdFx0XHR2YXIgJHNlbGVjdGVkRmlsdGVycyA9ICRmaWx0ZXJDb250ZW50LmZpbmQoXCIua29oLXNlbGVjdGVkLWZpbHRlcnNcIik7XG4gICAgICAgICAgICAgICAgICAgIFx0XHRcdGlmICgkc2VsZWN0ZWRGaWx0ZXJzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICAgICAgICAgIFx0XHRcdCRzZWxlY3RlZEZpbHRlcnMuZW1wdHkoKTtcblx0ICAgICAgICAgICAgICAgICAgICBcdFx0XHQkZmlsdGVyLmFwcGVuZCAoXCI8dWwgY2xhc3M9J2tvaC1hdmFpbGFibGUtZmlsdGVycyc+PC91bD5cIik7XG5cdCAgICAgICAgICAgICAgICAgICAgXHRcdFx0dmFyIHJlTWFya2V0RWxlbWVudCA9ICQoJyNjb29raWUtaW5mby1yZS1tYXJrZXQnKTtcblx0ICAgICAgICAgICAgICAgICAgICBcdFx0XHR2YXIgY29va2llTmFtZSA9ICcnO1xuXHQgICAgXHQgICAgICAgICAgICAgICAgICAgIFx0aWYgKHJlTWFya2V0RWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgIFx0ICAgICAgICAgICAgICAgICAgICBcdFx0Y29va2llTmFtZSA9IHJlTWFya2V0RWxlbWVudC5kYXRhKFwiY29va2llLW5hbWVcIik7XG5cdCAgICBcdCAgICAgICAgICAgICAgICAgICAgXHR9XG5cdCAgICAgICAgICAgICAgICAgICAgXHRcdFx0ZGVsZXRlQ29va2llIChjb29raWVOYW1lKTtcblx0ICAgICAgICAgICAgICAgICAgICBcdFx0XHRkaXNwbGF5TmV3UmVzdWx0cygkY29tcG9uZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIFx0XHRcdH1cbiAgICAgICAgICAgICAgICAgICAgXHRcdH1cbiAgICAgICAgICAgICAgICAgICAgXHR9XG5cdCAgICBcdFx0ICAgIH1cblx0ICAgIFx0XHQgICAgZWxzZSBpZiAoJCgnI2tvaC1tYXJrZXQtdmFsdWVzJykucHJvcCgnY2hlY2tlZCcpKXtcblx0ICAgIFx0XHQgICAgXHQkKCcubWFya2V0LWxpc3QnKS5zaG93KCk7XG5cdCAgICBcdFx0ICAgIH1cblx0ICAgIFx0XHR9KTtcblxuICAgIFx0XHQkKFwiLmtvaC1tYXJrZXQtbGlzdC1jbG9zZS1idXR0b25cIikuY2xpY2soZnVuY3Rpb24oKXtcbiAgICBcdFx0ICAgICAgICAkKCcubWFya2V0LWxpc3QnKS5oaWRlKCk7XG4gICAgXHRcdCAgICAgICAgJChcIiNrb2gtbWFya2V0LXZhbHVlc1wiKS5wcm9wKFwiY2hlY2tlZFwiLCBmYWxzZSk7XG4gICAgXHRcdCAgICAgICAgJChcIiNrb2gtYWxscHJvZHVjdC12YWx1ZXNcIikucHJvcChcImNoZWNrZWRcIiwgdHJ1ZSk7XG4gICAgXHRcdH0pO1xuICAgIFx0XHRcbiAgICBcdFx0fVxuICAgIH07XG5cbiAgICAvKnZhciBjcmVhdGVDb29raWUgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgbWludXRlcykge1xuICAgICAgICB2YXIgZXhwaXJlcyA9IFwiXCIsXG4gICAgICAgICAgIGNvb2tpZSA9IFwiXCI7XG4gICAgICAgaWYgKG1pbnV0ZXMpIHtcbiAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZTtcbiAgICAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgNjAgKiBtaW51dGVzICogMWUzKSxcbiAgICAgICAgICAgICAgIGV4cGlyZXMgPSBcImV4cGlyZXM9XCIgKyBkYXRlLnRvVVRDU3RyaW5nKClcbiAgICAgICB9XG4gICAgICAgY29va2llID0gbmFtZSArIFwiPVwiICsgdmFsdWUgKyBcIjsgXCIgKyBleHBpcmVzICsgXCI7IHBhdGg9L1wiLFxuICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWVcbiAgIH0qL1xuICAgdmFyIGRlbGV0ZUNvb2tpZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArICc9O2V4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVQ7IHBhdGg9Lyc7XG4gICAgfTtcbiAgICBcbiAgICAvLyBGaWx0ZXIgZXhwYW5kL2NvbGxhcHNlXG4gICAgdmFyIGluaXRGaWx0ZXJFeHBhbmRDb2xsYXBzZSA9IGZ1bmN0aW9uKCRjb21wb25lbnRzKSB7XG4gICAgICAgIGlmICgkY29tcG9uZW50cykge1xuICAgICAgICAgICAgJGNvbXBvbmVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGNvbXBvbmVudCA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyR3JvdXBDbGFzcyA9IFwiLmtvaC1maWx0ZXItZ3JvdXAua29oLWZpbHRlcnNcIjtcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyQ2xhc3MgPSBcIi5rb2gtZmlsdGVyXCI7XG5cbiAgICAgICAgICAgICAgICB2YXIgJGZpbHRlcnMgPSAkY29tcG9uZW50LmZpbmQoZmlsdGVyR3JvdXBDbGFzcykuY2hpbGRyZW4oZmlsdGVyQ2xhc3MpO1xuICAgICAgICAgICAgICAgICRmaWx0ZXJzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkZmlsdGVyTmFtZSA9ICQodGhpcykuY2hpbGRyZW4oXCIua29oLWZpbHRlci1uYW1lXCIpLmZpcnN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkZmlsdGVyQ29udGVudCA9ICQodGhpcykuY2hpbGRyZW4oXCIua29oLWZpbHRlci1jb250ZW50XCIpLmZpcnN0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgJGZpbHRlck5hbWUuY2xpY2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAkZmlsdGVyQ29udGVudFxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgJHRhcmdldCA9IGUuZGF0YS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHRhcmdldC5oYXNDbGFzcyhcIm9wZW5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwib3BlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0LnJlbW92ZUNsYXNzKFwib3BlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcIm9wZW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRhcmdldC5hZGRDbGFzcyhcIm9wZW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gQWxzbywgdGhlIG1haW4gYnV0dG9uIG5lZWRzIG9uZVxuICAgICAgICAgICAgICAgIHZhciAkZmlsdGVyQnV0dG9uID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1zZWFyY2gtZmlsdGVycy10aXRsZVwiKTtcbiAgICAgICAgICAgICAgICB2YXIgJGZpbHRlckNvbnRlbnQgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLXNlYXJjaC1maWx0ZXJzLWNvbnRlbnRcIik7XG4gICAgICAgICAgICAgICAgJGZpbHRlckJ1dHRvbi5jbGljayh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogJGZpbHRlckNvbnRlbnRcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkdGFyZ2V0ID0gZS5kYXRhLnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCR0YXJnZXQuaGFzQ2xhc3MoXCJvcGVuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0LnJlbW92ZUNsYXNzKFwib3BlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXQuYWRkQ2xhc3MoXCJvcGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBSYW5nZSBmaWx0ZXIgc2xpZGVyc1xuICAgIHZhciBpbml0UmFuZ2VTbGlkZXJzID0gZnVuY3Rpb24oJGNvbXBvbmVudHMpIHtcbiAgICAgICAgaWYgKCRjb21wb25lbnRzKSB7XG4gICAgICAgICAgICAkY29tcG9uZW50cy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciAkY29tcG9uZW50ID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgJHJhbmdlRmlsdGVycyA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtZmlsdGVyLmtvaC1maWx0ZXItdHlwZS1yYW5nZVwiKTtcblxuICAgICAgICAgICAgICAgICRyYW5nZUZpbHRlcnMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRyYW5nZUZpbHRlciA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyICRzbGlkZXJDb250YWluZXIgPSAkcmFuZ2VGaWx0ZXIuZmluZChcIi5rb2gtcmFuZ2UtZmlsdGVyXCIpLmZpcnN0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyICRyYW5nZUxhYmVscyA9ICRzbGlkZXJDb250YWluZXIuZmluZChcIi5rb2gtcmFuZ2Utc2xpZGVyLWxhYmVsc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRyYW5nZU1pbkxhYmVsID0gJHNsaWRlckNvbnRhaW5lci5maW5kKFwiLmtvaC1yYW5nZS1zbGlkZXItbGFiZWxzID4gLmtvaC1yYW5nZS1zbGlkZXItbWluXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHJhbmdlTWF4TGFiZWwgPSAkc2xpZGVyQ29udGFpbmVyLmZpbmQoXCIua29oLXJhbmdlLXNsaWRlci1sYWJlbHMgPiAua29oLXJhbmdlLXNsaWRlci1tYXhcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyICRzbGlkZXIgPSAkc2xpZGVyQ29udGFpbmVyLmZpbmQoXCIua29oLXJhbmdlLXNsaWRlclwiKS5maXJzdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2xpZGVyRWxlbWVudCA9ICRzbGlkZXJbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlTGFiZWxQcmVmaXggPSAkcmFuZ2VMYWJlbHMuZGF0YShcImxhYmVsLXByZWZpeFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlTGFiZWxTdWZmaXggPSAkcmFuZ2VMYWJlbHMuZGF0YShcImxhYmVsLXN1ZmZpeFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlQ3VycmVudE1pbiA9ICRyYW5nZU1pbkxhYmVsLmRhdGEoXCJtaW4tdmFsdWVcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciByYW5nZUN1cnJlbnRNYXggPSAkcmFuZ2VNYXhMYWJlbC5kYXRhKFwibWF4LXZhbHVlXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2VNaW4gPSAkc2xpZGVyLmRhdGEoXCJyYW5nZS1taW5cIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciByYW5nZU1heCA9ICRzbGlkZXIuZGF0YShcInJhbmdlLW1heFwiKTtcblxuICAgICAgICAgICAgICAgICAgICAvKiBub1VJU2xpZGVyIGRvZXMgbm90IGxpa2UgaGF2aW5nIHJhbmdlTWluIGFuZCByYW5nZU1heCB0aGUgc2FtZSwgc28gY2hlY2sgZm9yIHRoYXQgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vVWlTbGlkZXIgJiYgIWlzTmFOKHJhbmdlTWluKSAmJiAhaXNOYU4ocmFuZ2VNYXgpICYmIChyYW5nZU1pbiA8IHJhbmdlTWF4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9VaVNsaWRlci5jcmVhdGUoc2xpZGVyRWxlbWVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBbcmFuZ2VDdXJyZW50TWluLCByYW5nZUN1cnJlbnRNYXhdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21pbic6IHJhbmdlTWluLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWF4JzogcmFuZ2VNYXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXJFbGVtZW50Lm5vVWlTbGlkZXIub24oJ3VwZGF0ZScsIGZ1bmN0aW9uKHZhbHVlcywgaGFuZGxlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJhbmdlTWluTGFiZWwuZGF0YShcIm1pbi12YWx1ZVwiLCB2YWx1ZXNbaGFuZGxlSW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJhbmdlTWluTGFiZWwudGV4dChyYW5nZUxhYmVsUHJlZml4ICsgdmFsdWVzW2hhbmRsZUluZGV4XSArIHJhbmdlTGFiZWxTdWZmaXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFuZGxlSW5kZXggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJhbmdlTWF4TGFiZWwuZGF0YShcIm1heC12YWx1ZVwiLCB2YWx1ZXNbaGFuZGxlSW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJhbmdlTWF4TGFiZWwudGV4dChyYW5nZUxhYmVsUHJlZml4ICsgdmFsdWVzW2hhbmRsZUluZGV4XSArIHJhbmdlTGFiZWxTdWZmaXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IC8vIGVuZCBjaGVja3MgYmVmb3JlIGluaXRpYWxpemluZyBzbGlkZXJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXQncyBoaWRlIHRoZSBzbGlkZXIgaWYgaXQgY2FuJ3QgYmUgaW5pdGlhbGl6ZWQgZm9yIHNvbWUgcmVhc29uXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXJFbGVtZW50LmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHZhciBpbml0Q29tcGFyZUJ1dHRvbnMgPSBmdW5jdGlvbigkY29tcG9uZW50cykge1xuICAgICAgICAkY29tcG9uZW50cyAmJiAkY29tcG9uZW50cy5lYWNoKGZ1bmN0aW9uKGNvbXBvbmVudEluZGV4KSB7XG4gICAgICAgICAgICB2YXIgJGNvbXBvbmVudCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgJHRpbGVzID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1wcm9kdWN0LXRpbGVcIiksXG4gICAgICAgICAgICAgICAgY29tcGFyZUlkcyA9IFtdO1xuICAgICAgICAgICAgJChcIi5jLWtvaC1jb21wYXJlLXBhbmVsXCIpLmZpbmQoXCIua29oLWNvbXBhcmUtcmVtb3ZlXCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY29tcGFyZUlkcy5wdXNoKCQodGhpcykuYXR0cihcImRhdGEtcHJvZHVjdC1pdGVtbm9cIikpXG4gICAgICAgICAgICB9KSwgJHRpbGVzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyICR0aWxlID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgaXRlbW5vID0gJHRpbGUuZmluZChcIi5rb2gtY29tcGFyZS1hZGRcIikuZmlyc3QoKS5hdHRyKFwiZGF0YS1wcm9kdWN0LWl0ZW1ub1wiKTtcbiAgICAgICAgICAgICAgICAkLmluQXJyYXkoaXRlbW5vLCBjb21wYXJlSWRzKSA+IC0xICYmICR0aWxlLmFkZENsYXNzKFwicHJvZHVjdC1hZGRlZFwiKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9O1xuXG4gICAgLy8gUXVpY2sgVmlld1xuICAgIHZhciBpbml0UXVpY2tWaWV3ID0gZnVuY3Rpb24oJGNvbXBvbmVudHMpIHtcbiAgICAgICAgJGNvbXBvbmVudHMgJiYgJGNvbXBvbmVudHMuZWFjaChmdW5jdGlvbihjb21wb25lbnRJbmRleCkge1xuICAgICAgICAgICAgdmFyICRjb21wb25lbnQgPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBxdWljayB2aWV3IGJsb2Nrcywgd2hpY2ggaGF2ZSB0aGUgYnV0dG9ucyBhbmQgcGFuZWxzXG4gICAgICAgICAgICB2YXIgJHF1aWNrVmlld0NvbnRhaW5lcnMgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLXByb2R1Y3QtcXVpY2stdmlld1wiKTtcblxuICAgICAgICAgICAgLy8gRm9yIGVhY2ggcXVpY2sgdmlldywgbWFrZSB0aGUgcGFuZWwgbW9kYWwgYW5kIGhvb2sgaXQgdG8gdGhlIGJ1dHRvblxuICAgICAgICAgICAgJHF1aWNrVmlld0NvbnRhaW5lcnMuZWFjaChmdW5jdGlvbihxdWlja1ZpZXdJbmRleCkge1xuICAgICAgICAgICAgXHRpZihxdWlja1ZpZXdJbmRleCA+IGF4S09ILm1haW4ucXVpY2tWaWV3TGFzdEluZGV4KXtcblx0ICAgICAgICAgICAgICAgIHZhciAkYnV0dG9uID0gJCh0aGlzKS5jaGlsZHJlbihcIi5rb2gtcHJvZHVjdC1xdWljay12aWV3LWJ1dHRvblwiKSxcblx0ICAgICAgICAgICAgICAgICAgICAkcGFuZWwgPSAkKHRoaXMpLmNoaWxkcmVuKFwiLmtvaC1wcm9kdWN0LXF1aWNrLXZpZXctcGFuZWxcIiksXG5cdCAgICAgICAgICAgICAgICAgICAgc2t1ID0gJCh0aGlzKS5hdHRyKFwiZGF0YS1za3VcIiksXG5cdCAgICAgICAgICAgICAgICAgICAgcmVtb2RhbElEID0gXCJRdWlja1ZpZXdcIiArIHNrdSxcblx0ICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29tcGFyZVByb2R1Y3RzID0gW107XG5cdCAgICAgICAgICAgICAgICAkKFwiLmMta29oLWNvbXBhcmUtcGFuZWxcIikuZmluZChcIi5rb2gtY29tcGFyZS1yZW1vdmVcIikuZWFjaChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29tcGFyZVByb2R1Y3RzLnB1c2goJCh0aGlzKS5hdHRyKFwiZGF0YS1wcm9kdWN0LWl0ZW1ub1wiKSlcblx0ICAgICAgICAgICAgICAgICAgICAkKFwiLmFkZF9cIiArICQodGhpcykuYXR0cihcImRhdGEtcHJvZHVjdC1pdGVtbm9cIikpLmNsb3Nlc3QoXCIua29oLXByb2R1Y3QtdG9vbHNcIikuYWRkQ2xhc3MoXCJwcm9kdWN0LWFkZGVkXCIpO1xuXHQgICAgICAgICAgICAgICAgfSksICQodGhpcykuY2xvc2VzdChcIi5rb2gtcHJvZHVjdC10aWxlXCIpLmF0dHIoXCJkYXRhLW1vZGFsLWxpbmtcIiwgcmVtb2RhbElEKSwgaW5pdEFzTW9kYWwoJGJ1dHRvbiwgJHBhbmVsLCByZW1vZGFsSUQpLCAkcGFuZWwuZWFjaChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpbml0UXVpY2tWaWV3RGF0YSgkKHRoaXMpLCBjdXJyZW50Q29tcGFyZVByb2R1Y3RzKVxuXHQgICAgICAgICAgICAgICAgfSlcblx0ICAgICAgICAgICAgICAgIGF4S09ILm1haW4ucXVpY2tWaWV3TGFzdEluZGV4ID0gcXVpY2tWaWV3SW5kZXg7XG4gICAgICAgICAgICBcdH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfTtcblxuICAgIC8vIFRvb2x0aXBzXG4gICAgdmFyIGluaXRUb29sdGlwcyA9IGZ1bmN0aW9uKCRjb21wb25lbnRzKSB7XG4gICAgICAgIGlmICgkY29tcG9uZW50cykge1xuICAgICAgICAgICAgLy8gTmVlZCB0byBpbml0aWFsaXplIHRvb2x0aXBzIGluIG1vZGFscyBhcyB3ZWxsXG4gICAgICAgICAgICB2YXIgJGNvbXBvbmVudE1vZGFscyA9ICQoJy5yZW1vZGFsLXdyYXBwZXIgPiBkaXZbZGF0YS1rb2gtY29tcG9uZW50PVwiJyArIGNvbXBvbmVudENsYXNzICsgJ1wiXScpO1xuXG4gICAgICAgICAgICAvLyBNZXJnZSBsaXN0cyBvZiBjb21wb25lbnRzIGFuZCBjb21wb25lbnQtcmVsYXRlZCBtb2RhbHNcbiAgICAgICAgICAgIHZhciAkdGFyZ2V0cyA9ICRjb21wb25lbnRzLmFkZCgkY29tcG9uZW50TW9kYWxzKTtcblxuICAgICAgICAgICAgLy8gTG9vcHMgdGhyb3VnaCBjb21wb25lbnRzIGFuZCBjb21wb25lbnQtcmVsYXRlZCBtb2RhbHNcbiAgICAgICAgICAgICR0YXJnZXRzLmVhY2goZnVuY3Rpb24oY29tcG9uZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGNvbXBvbmVudCA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAvLyBTZXQgdXAgdG9vbHRpcHMgb24gYWJicmV2aWF0aW9uc1xuICAgICAgICAgICAgICAgIHZhciAkYWJicmV2aWF0aW9ucyA9ICRjb21wb25lbnQuZmluZChcImFiYnJbdGl0bGVdXCIpO1xuICAgICAgICAgICAgICAgICRhYmJyZXZpYXRpb25zLmVhY2goZnVuY3Rpb24oYWJickluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkYWJiciA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICRhYmJyLnF0aXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiYWJiclwiICsgY29tcG9uZW50SW5kZXggKyBhYmJySW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cjogJ3RpdGxlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXk6ICdib3R0b20gY2VudGVyJywgLy8gUG9zaXRpb24gbXkgdG9wIGxlZnQuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdDogJ3RvcCBjZW50ZXInIC8vIGF0IHRoZSBib3R0b20gcmlnaHQgb2YuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdrb2gtcXRpcC10b29sdGlwIGtvaC1wcm9kdWN0LXNlYXJjaC10b29sdGlwIHF0aXAtYm9vdHN0cmFwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWltaWM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMzAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gU2V0IHVwIHRvb2x0aXBzIG9uIGNvbG9yIHN3YXRjaGVzXG4gICAgICAgICAgICAgICAgdmFyICRjb2xvclN3YXRjaGVzID0gJGNvbXBvbmVudC5maW5kKFwiYnV0dG9uLmtvaC1wcm9kdWN0LWNvbG9yLCAua29oLWF2YWlsYWJsZS1maWx0ZXJzLnYta29oLWNvbG9ycyA+IGxpID4gYVwiKTtcbiAgICAgICAgICAgICAgICAkY29sb3JTd2F0Y2hlcy5lYWNoKGZ1bmN0aW9uKHN3YXRjaEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkY29sb3JTd2F0Y2ggPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgJGNvbG9yTGFiZWwgPSAkY29sb3JTd2F0Y2guY2hpbGRyZW4oXCIubGFiZWxcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgJGNvbG9yU3dhdGNoLnF0aXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwic3dhdGNoXCIgKyBjb21wb25lbnRJbmRleCArIHN3YXRjaEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICRjb2xvckxhYmVsLmNsb25lKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15OiAndG9wIGxlZnQnLCAvLyBQb3NpdGlvbiBteSB0b3AgbGVmdC4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0OiAnYm90dG9tIGxlZnQnLCAvLyBhdCB0aGUgYm90dG9tIHJpZ2h0IG9mLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRqdXN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IDZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAna29oLXF0aXAtdG9vbHRpcCBrb2gtcHJvZHVjdC1zZWFyY2gtdG9vbHRpcCBxdGlwLWJvb3RzdHJhcCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlwOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIFNldCB1cCBzcGVjaWFsIGZhY2V0IHRvb2x0aXBzXG4gICAgICAgICAgICAgICAgdmFyICRmYWNldHNXaXRoVG9vbHRpcHMgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLWZpbHRlclwiKS5oYXMoXCIua29oLWZpbHRlci10b29sdGlwc1wiKTtcbiAgICAgICAgICAgICAgICAkZmFjZXRzV2l0aFRvb2x0aXBzLmVhY2goZnVuY3Rpb24oZmFjZXRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJGZhY2V0ID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRmYWNldE5hbWUgPSAkZmFjZXQuZmluZChcIi5rb2gtZmlsdGVyLW5hbWVcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkZmFjZXRUb29sdGlwID0gJGZhY2V0LmZpbmQoXCIua29oLWZpbHRlci10b29sdGlwc1wiKTtcblxuICAgICAgICAgICAgICAgICAgICAkZmFjZXROYW1lLmFwcGVuZChcIjxzcGFuIGNsYXNzPVxcXCJrb2gtdG9vbHRpcFxcXCI+PC9zcGFuPlwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyICR0b29sdGlwSWNvbiA9ICRmYWNldE5hbWUuY2hpbGRyZW4oXCIua29oLXRvb2x0aXBcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgJHRvb2x0aXBJY29uLnF0aXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiZmFjZXRUb29sdGlwXCIgKyBjb21wb25lbnRJbmRleCArIGZhY2V0SW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJGZhY2V0VG9vbHRpcFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3c6ICdjbGljaycsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdjbGljayB1bmZvY3VzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgLy8gSGlkZSBvbiBjbGljayBhbnl3aGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteTogJ2NlbnRlciBsZWZ0JywgLy8gUG9zaXRpb24gbXkgdG9wIGxlZnQuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdDogJ2NlbnRlciByaWdodCcsIC8vIGF0IHRoZSBib3R0b20gcmlnaHQgb2YuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGp1c3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogNlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdrb2gtcXRpcC10b29sdGlwIGtvaC1wcm9kdWN0LXNlYXJjaC1mYWNldC10b29sdGlwIHF0aXAtYm9vdHN0cmFwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWltaWM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMzAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5lZWQgdGhpcyB0byBzdG9wIHRoZSB0b29sdGlwIGljb24gZnJvbSBhbHNvIHRyaWdnZXJpbmcgdGhlIG9wZW4vY2xvc2Ugb2YgdGhlIGZpbHRlclxuICAgICAgICAgICAgICAgICAgICAkdG9vbHRpcEljb24uY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBEcm9wZG93bnNcbiAgICB2YXIgaW5pdERyb3Bkb3ducyA9IGZ1bmN0aW9uKCRjb21wb25lbnRzKSB7XG4gICAgICAgIGlmICgkY29tcG9uZW50cykge1xuICAgICAgICAgICAgJGNvbXBvbmVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGNvbXBvbmVudCA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgJG9wdGlvbnMgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLXNlYXJjaC1zb3J0aW5nXCIpO1xuICAgICAgICAgICAgICAgICRvcHRpb25zLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkb3B0aW9uc0J1dHRvbiA9ICQodGhpcykuY2hpbGRyZW4oXCIua29oLXNvcnQtYnlcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkb3B0aW9uc0xpc3QgPSAkKHRoaXMpLmNoaWxkcmVuKFwiLmtvaC1zb3J0LW9wdGlvbnNcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgJG9wdGlvbnNCdXR0b24uY2xpY2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdDogJG9wdGlvbnNMaXN0XG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkYnV0dG9uID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkbGlzdCA9IGUuZGF0YS5saXN0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGJ1dHRvbi5oYXNDbGFzcyhcIm9wZW5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYnV0dG9uLnJlbW92ZUNsYXNzKFwib3BlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbGlzdC5yZW1vdmVDbGFzcyhcIm9wZW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRidXR0b24uYWRkQ2xhc3MoXCJvcGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsaXN0LmFkZENsYXNzKFwib3BlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBDb29raWUgaGFuZGxpbmcgdG8gc3VwcG9ydCBTaW1paWxhciBQcm9kdWN0c1xuICAgIHZhciBpbml0U2ltaWxhclByb2R1Y3RzID0gZnVuY3Rpb24oJGNvbXBvbmVudHMpIHtcbiAgICAgICAgaWYgKCRjb21wb25lbnRzKSB7XG4gICAgICAgICAgICAkY29tcG9uZW50cy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciAkY29tcG9uZW50ID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgICAgIHZhciAkcHJvZHVjdFRpbGVzID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1wcm9kdWN0LXRpbGVcIik7XG5cbiAgICAgICAgICAgICAgICAkcHJvZHVjdFRpbGVzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkcHJvZHVjdExpbmsgPSAkKHRoaXMpLmZpbmQoXCIua29oLXByb2R1Y3QtdGlsZS1jb250ZW50ID4gYVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBPbiBjbGljaywgc2F2ZSB0aGUgc2ltaWxhciBwcm9kdWN0cyBpZCBsaXN0IGZyb20gdGhlIGRhdGEgYXR0cmlidXRlIGludG8gYSBjb29raWVcbiAgICAgICAgICAgICAgICAgICAgJHByb2R1Y3RMaW5rLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2ltaWxhclByb2R1Y3RzID0gJCh0aGlzKS5kYXRhKFwic2ltaWxhclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaW1pbGFyUHJvZHVjdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWludXRlcyA9IDU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGlyZXMgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXMuc2V0VGltZShleHBpcmVzLmdldFRpbWUoKSArIChtaW51dGVzICogNjAgKiAxMDAwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gXCJrb2hzaW1wcm9kXCIgKyAnPScgKyBzaW1pbGFyUHJvZHVjdHMgKyAnO2V4cGlyZXM9JyArIGV4cGlyZXMudG9VVENTdHJpbmcoKSArICc7cGF0aD0vJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlc3Npb24gc3RvcmFnZSBmb3IgdHJhY2tpbmcgUHJvZHVjdCBsaXN0aW5nIHBhZ2UgY2xpY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJwcm9kTGlzdENsaWNrVHJhY2tcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGluaXRTcGVjVG9nZ2xlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzcGVjVG9nZ2xlID0gJChcIi5rb2gtc3BlYy10b2dnbGVcIik7XG4gICAgICAgICQoc3BlY1RvZ2dsZSkubGVuZ3RoICYmIHNwZWNUb2dnbGUuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlLnByZXZlbnREZWZhdWx0LCAkKHRoaXMpLm5leHQoKS50b2dnbGUoKSwgJCh0aGlzKS50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKSwgITFcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfTtcblxuICAgIHZhciBpbml0U2VhcmNoRmFjZXRzID0gZnVuY3Rpb24oJGNvbXBvbmVudHMpIHtcbiAgICAgICAgJGNvbXBvbmVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkY29tcG9uZW50ID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAkc29ydEJ1dHRvbiA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtc2VhcmNoLXNvcnRpbmcgPiAua29oLXNvcnQtYnlcIiksXG4gICAgICAgICAgICAgICAgJHNvcnRPcHRpb25zID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1zZWFyY2gtc29ydGluZyA+IC5rb2gtc29ydC1vcHRpb25zXCIpLFxuICAgICAgICAgICAgICAgICRzb3J0T3B0aW9uSXRlbXMgPSAkc29ydE9wdGlvbnMuY2hpbGRyZW4oXCJsaVwiKTtcbiAgICAgICAgICAgICRzb3J0T3B0aW9uSXRlbXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHNvcnRPcHRpb25JdGVtID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICAkc29ydE9wdGlvbkl0ZW0uY2xpY2soe1xuICAgICAgICAgICAgICAgICAgICBidXR0b246ICRzb3J0QnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiAkc29ydE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIGNob2ljZXM6ICRzb3J0T3B0aW9uSXRlbXNcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZVNvcnRpbmcoZS5kYXRhLmJ1dHRvbiwgZS5kYXRhLmNob2ljZXMsICQodGhpcykpLCBlLmRhdGEuYnV0dG9uLnJlbW92ZUNsYXNzKFwib3BlblwiKSwgZS5kYXRhLmNvbGxlY3Rpb24ucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpLCBkaXNwbGF5TmV3UmVzdWx0cygkY29tcG9uZW50KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciAkY2F0ZWdvcmllcyA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtc2VhcmNoLWZpbHRlcnMgLmtvaC1maWx0ZXItZ3JvdXAua29oLWNhdGVnb3J5XCIpO1xuICAgICAgICAgICAgJGNhdGVnb3JpZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGF2YWlsYWJsZUZpbHRlcnMgPSAkY2F0ZWdvcmllcy5maW5kKFwiLmtvaC1hdmFpbGFibGUtZmlsdGVycyA+IGxpID4gYVwiKSxcbiAgICAgICAgICAgICAgICAgICAgJHNlbGVjdGVkRmlsdGVycyA9ICRjYXRlZ29yaWVzLmZpbmQoXCIua29oLXNlbGVjdGVkLWZpbHRlcnNcIik7XG4gICAgICAgICAgICAgICAgJGF2YWlsYWJsZUZpbHRlcnMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRmaWx0ZXJMaW5rID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgJGZpbHRlckxpbmsuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKSwgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZhY2V0TmFtZSA9ICRmaWx0ZXJMaW5rLmRhdGEoXCJmYWNldC1uYW1lXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhY2V0VmFsdWUgPSAkZmlsdGVyTGluay5kYXRhKFwiZmFjZXQtdmFsdWVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFjZXRMYWJlbCA9ICRmaWx0ZXJMaW5rLmNoaWxkcmVuKFwic3Bhbi5uYW1lXCIpLmZpcnN0KCkudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhY2V0Q291bnQgPSAkZmlsdGVyTGluay5kYXRhKFwiZmFjZXQtY291bnRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRBY3RpdmVDYXRlZ29yeSgkY2F0ZWdvcmllcywgZmFjZXROYW1lLCBmYWNldFZhbHVlLCBmYWNldExhYmVsLCBmYWNldENvdW50KSwgZGlzcGxheU5ld1Jlc3VsdHMoJGNvbXBvbmVudClcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgJHNlbGVjdGVkRmlsdGVySXRlbXMgPSAkc2VsZWN0ZWRGaWx0ZXJzLmNoaWxkcmVuKFwibGlcIik7XG4gICAgICAgICAgICAgICAgJHNlbGVjdGVkRmlsdGVySXRlbXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRmaWx0ZXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRmaWx0ZXJJdGVtQnV0dG9uID0gJGZpbHRlckl0ZW0uY2hpbGRyZW4oXCJidXR0b24ua29oLXNlbGVjdGVkLWZpbHRlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgJGZpbHRlckl0ZW1CdXR0b24uY2xpY2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyQ291bnQ6ICRzZWxlY3RlZEZpbHRlckl0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclNldDogJHNlbGVjdGVkRmlsdGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckl0ZW06ICRmaWx0ZXJJdGVtXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuZGF0YS5maWx0ZXJDb3VudCA8PSAxID8gZS5kYXRhLmZpbHRlclNldC5yZW1vdmUoKSA6IGUuZGF0YS5maWx0ZXJJdGVtLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKGdldEFjdGl2ZVNlY3Rpb24oJGNvbXBvbmVudCkgPT09IFwiU2VhcmNoUGFnZVwiKT8gZGlzcGxheU5ld1Jlc3VsdHMoJGNvbXBvbmVudCwgdHJ1ZSwgZmFsc2UpIDogZGlzcGxheU5ld1Jlc3VsdHMoJGNvbXBvbmVudCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyICRwYWdpbmF0aW9uID0gJGNvbXBvbmVudC5maW5kKFwiLnBhZ2luYXRpb25cIik7XG4gICAgICAgICAgICB2YXIgJHBhZ2luYXRpb25DaGlsZCA9ICRwYWdpbmF0aW9uLmNoaWxkcmVuKFwibGlcIik7XG4gICAgICAgICAgICAkcGFnaW5hdGlvbkNoaWxkLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyICRwYWdpbmF0aW9uQ2hpbGRMaSA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgJHBhZ2luYXRpb25DaGlsZExpLmNsaWNrKHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiAkY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICQod2luZG93KS5zY3JvbGxUb3AoMCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYWdlID0gJCh0aGlzKS5maW5kKFwiYTpmaXJzdFwiKS5kYXRhKFwicGFnZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1mYWNldC1kYXRhLWF0dHJpYnV0ZXNcIikuZGF0YShcImtvaC1jdXJyZW50cGFnZVwiKSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAkY29tcG9uZW50LmZpbmQoXCIua29oLWZhY2V0LWRhdGEtYXR0cmlidXRlc1wiKS5kYXRhKCdrb2gtY3VycmVudHBhZ2UnLCBwYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5ld1Jlc3VsdHMoJGNvbXBvbmVudCwgJ3BhZ2luZycpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyICRzaG93QWxsQ2F0cyA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtc2VhcmNoLWZpbHRlcnMgLmtvaC1maWx0ZXItZ3JvdXAua29oLWNhdGVnb3J5IC5rb2gtZmlsdGVyLWdyb3VwLWFsbC1saW5rXCIpO1xuICAgICAgICAgICAgJHNob3dBbGxDYXRzLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyBcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgKGdldEFjdGl2ZVNlY3Rpb24oJGNvbXBvbmVudCkgPT09IFwiU2VhcmNoUGFnZVwiKT8gZGlzcGxheU5ld1Jlc3VsdHMoJGNvbXBvbmVudCwgdHJ1ZSwgZmFsc2UpIDogZGlzcGxheU5ld1Jlc3VsdHMoJGNvbXBvbmVudCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciAkZmlsdGVycyA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtc2VhcmNoLWZpbHRlcnMgLmtvaC1maWx0ZXItZ3JvdXAua29oLWZpbHRlcnMgLmtvaC1maWx0ZXJcIik7XG4gICAgICAgICAgICAkZmlsdGVycy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciAkZmlsdGVyID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgJHNlbGVjdGVkRmlsdGVycyA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICRzZWxlY3RlZEZpbHRlckl0ZW1zID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgJGF2YWlsYWJsZUZpbHRlcnMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmICgkZmlsdGVyLmhhc0NsYXNzKFwia29oLWZpbHRlci10eXBlLWNoZWNrYm94XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkY2hlY2tib3ggPSAkZmlsdGVyLmZpbmQoXCIua29oLWNoZWNrYm94LWZpbHRlciA+IGFcIik7XG4gICAgICAgICAgICAgICAgICAgICRjaGVja2JveC5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnByZXZlbnREZWZhdWx0KCksICQodGhpcykuaGFzQ2xhc3MoXCJrb2gtY2hlY2tib3gtY2hlY2tlZFwiKSA/ICQodGhpcykucmVtb3ZlQ2xhc3MoXCJrb2gtY2hlY2tib3gtY2hlY2tlZFwiKS5hZGRDbGFzcyhcImtvaC1jaGVja2JveC11bmNoZWNrZWRcIikgOiAkKHRoaXMpLnJlbW92ZUNsYXNzKFwia29oLWNoZWNrYm94LXVuY2hlY2tlZFwiKS5hZGRDbGFzcyhcImtvaC1jaGVja2JveC1jaGVja2VkXCIpLCBkaXNwbGF5TmV3UmVzdWx0cygkY29tcG9uZW50KVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJGZpbHRlci5oYXNDbGFzcyhcImtvaC1maWx0ZXItdHlwZS1yYW5nZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHNsaWRlckNvbnRhaW5lciA9ICRmaWx0ZXIuZmluZChcIi5rb2gtcmFuZ2UtZmlsdGVyXCIpLmZpcnN0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAkcmFuZ2VNaW5MYWJlbCA9ICRzbGlkZXJDb250YWluZXIuZmluZChcIi5rb2gtcmFuZ2Utc2xpZGVyLWxhYmVscyA+IC5rb2gtcmFuZ2Utc2xpZGVyLW1pblwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRyYW5nZU1heExhYmVsID0gJHNsaWRlckNvbnRhaW5lci5maW5kKFwiLmtvaC1yYW5nZS1zbGlkZXItbGFiZWxzID4gLmtvaC1yYW5nZS1zbGlkZXItbWF4XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHNsaWRlciA9ICRzbGlkZXJDb250YWluZXIuZmluZChcIi5rb2gtcmFuZ2Utc2xpZGVyXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyRWxlbWVudCA9ICRzbGlkZXJbMF07XG4gICAgICAgICAgICAgICAgICAgIFx0dmFyIHN1ZmZpeCA9ICRzbGlkZXJDb250YWluZXIuZmluZChcIi5rb2gtcmFuZ2Utc2xpZGVyLWxhYmVsc1wiKS5kYXRhKCdsYWJlbC1zdWZmaXgnKTtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVyRWxlbWVudC5ub1VpU2xpZGVyICYmIHNsaWRlckVsZW1lbnQubm9VaVNsaWRlci5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmYWNldE5hbWUgPSAkc2xpZGVyQ29udGFpbmVyLmRhdGEoXCJmYWNldC1uYW1lXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pblZhbHVlID0gJHJhbmdlTWluTGFiZWwuZGF0YShcIm1pbi12YWx1ZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZSA9ICRyYW5nZU1heExhYmVsLmRhdGEoXCJtYXgtdmFsdWVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFjZXROYW1lTGFiZWwgPSBtaW5WYWx1ZSAmJiBtYXhWYWx1ZSA/IG1pblZhbHVlICsgc3VmZml4ICsgXCIgLSBcIiArIG1heFZhbHVlICsgc3VmZml4IDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWNldFZhbHVlID0gbWluVmFsdWUgJiYgbWF4VmFsdWUgPyBtaW5WYWx1ZSArIFwiLVwiICsgbWF4VmFsdWUgOiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgJHNsaWRlclNlbGVjdGVkRmlsdGVyID0gJGZpbHRlci5maW5kKFwiLmtvaC1zZWxlY3RlZC1maWx0ZXJzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoJHNsaWRlclNlbGVjdGVkRmlsdGVyLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgXHQkc2VsZWN0ZWRGaWx0ZXJJdGVtcyA9ICRzZWxlY3RlZEZpbHRlcnMuY2hpbGRyZW4oXCJsaVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgXHQkc2VsZWN0ZWRGaWx0ZXJJdGVtcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXHRcdHZhciAkZmlsdGVySXRlbSA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcdFx0JGZpbHRlckl0ZW1CdXR0b24gPSAkZmlsdGVySXRlbS5maW5kKFwiYnV0dG9uLmtvaC1zZWxlY3RlZC1maWx0ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBcdFx0JGZpbHRlckl0ZW1CdXR0b24uZGF0YSgnZmFjZXQtdmFsdWUnLGZhY2V0VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXHRcdCRmaWx0ZXJJdGVtQnV0dG9uTmFtZSA9ICRmaWx0ZXJJdGVtQnV0dG9uLmZpbmQoJy5uYW1lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcdFx0JGZpbHRlckl0ZW1CdXR0b25OYW1lLmh0bWwoZmFjZXROYW1lTGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXHRcdGRpc3BsYXlOZXdSZXN1bHRzKCRjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXHR9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFx0JHNsaWRlclNlbGVjdGVkRmlsdGVyLmNoaWxkcmVuKFwiYnV0dG9uLmtvaC1zZWxlY3RlZC1maWx0ZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgXHRhZGRBY3RpdmVGaWx0ZXIoJGZpbHRlciwgZmFjZXROYW1lLCBmYWNldFZhbHVlLCBmYWNldE5hbWVMYWJlbCwgXCJcIiksIGRpc3BsYXlOZXdSZXN1bHRzKCRjb21wb25lbnQpXHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSksICRzZWxlY3RlZEZpbHRlcnMgPSAkZmlsdGVyLmZpbmQoXCIua29oLXNlbGVjdGVkLWZpbHRlcnNcIiksICRzZWxlY3RlZEZpbHRlckl0ZW1zID0gJHNlbGVjdGVkRmlsdGVycy5jaGlsZHJlbihcImxpXCIpLCAkc2VsZWN0ZWRGaWx0ZXJJdGVtcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRmaWx0ZXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZmlsdGVySXRlbUJ1dHRvbiA9ICRmaWx0ZXJJdGVtLmNoaWxkcmVuKFwiYnV0dG9uLmtvaC1zZWxlY3RlZC1maWx0ZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZmlsdGVySXRlbUJ1dHRvbi5jbGljayh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyQ291bnQ6ICRzZWxlY3RlZEZpbHRlckl0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJTZXQ6ICRzZWxlY3RlZEZpbHRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVySXRlbTogJGZpbHRlckl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmRhdGEuZmlsdGVyQ291bnQgPD0gMSA/IGUuZGF0YS5maWx0ZXJTZXQucmVtb3ZlKCkgOiBlLmRhdGEuZmlsdGVySXRlbS5yZW1vdmUoKSwgZGlzcGxheU5ld1Jlc3VsdHMoJGNvbXBvbmVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSBlbHNlICRmaWx0ZXIuaGFzQ2xhc3MoXCJrb2gtZmlsdGVyLXR5cGUtY29sb3JzXCIpID8gKCRhdmFpbGFibGVGaWx0ZXJzID0gJGZpbHRlci5maW5kKFwiLmtvaC1hdmFpbGFibGUtZmlsdGVycyA+IGxpID4gYVwiKSwgJHNlbGVjdGVkRmlsdGVycyA9ICRmaWx0ZXIuZmluZChcIi5rb2gtc2VsZWN0ZWQtZmlsdGVyc1wiKSwgJGF2YWlsYWJsZUZpbHRlcnMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRmaWx0ZXJMaW5rID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgJCgkZmlsdGVyTGluaykub24oXCJjbGljayB0b3VjaGVuZFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRGaWx0ZXJzTm93ID0gJGZpbHRlci5maW5kKFwiLmtvaC1zZWxlY3RlZC1maWx0ZXJzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkRmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNlbGVjdGVkRmlsdGVyc05vdy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRmxhZyA9IHNlbGVjdGVkRmlsdGVyc05vd1tpXS5oYXNDbGFzcyhcImtvaC1maWx0ZXItdHlwZS1jb2xvcnNcIikgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkRmxhZyA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZEZsYWcgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmFjZXROYW1lID0gJGZpbHRlckxpbmsuZGF0YShcImZhY2V0LW5hbWVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhY2V0VmFsdWUgPSAkZmlsdGVyTGluay5kYXRhKFwiZmFjZXQtdmFsdWVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhY2V0TGFiZWwgPSAkZmlsdGVyTGluay5jaGlsZHJlbihcInNwYW4ubGFiZWxcIikudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWNldENvdW50ID0gJGZpbHRlckxpbmsuZGF0YShcImZhY2V0LWNvdW50XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEFjdGl2ZUZpbHRlcigkZmlsdGVyLCBmYWNldE5hbWUsIGZhY2V0VmFsdWUsIGZhY2V0TGFiZWwsIGZhY2V0Q291bnQpLCBkaXNwbGF5TmV3UmVzdWx0cygkY29tcG9uZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pLCAkc2VsZWN0ZWRGaWx0ZXJzID0gJGZpbHRlci5maW5kKFwiLmtvaC1zZWxlY3RlZC1maWx0ZXJzXCIpLCAkc2VsZWN0ZWRGaWx0ZXJJdGVtcyA9ICRzZWxlY3RlZEZpbHRlcnMuY2hpbGRyZW4oXCJsaVwiKSwgJHNlbGVjdGVkRmlsdGVySXRlbXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRmaWx0ZXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRmaWx0ZXJJdGVtQnV0dG9uID0gJGZpbHRlckl0ZW0uY2hpbGRyZW4oXCJidXR0b24ua29oLXNlbGVjdGVkLWZpbHRlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgJGZpbHRlckl0ZW1CdXR0b24uY2xpY2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyQ291bnQ6ICRzZWxlY3RlZEZpbHRlckl0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclNldDogJHNlbGVjdGVkRmlsdGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckl0ZW06ICRmaWx0ZXJJdGVtXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuZGF0YS5maWx0ZXJDb3VudCA8PSAxID8gZS5kYXRhLmZpbHRlclNldC5yZW1vdmUoKSA6IGUuZGF0YS5maWx0ZXJJdGVtLnJlbW92ZSgpLCBkaXNwbGF5TmV3UmVzdWx0cygkY29tcG9uZW50KVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pKSA6ICgkYXZhaWxhYmxlRmlsdGVycyA9ICRmaWx0ZXIuZmluZChcIi5rb2gtYXZhaWxhYmxlLWZpbHRlcnMgPiBsaSA+IGFcIiksICRzZWxlY3RlZEZpbHRlcnMgPSAkZmlsdGVyLmZpbmQoXCIua29oLXNlbGVjdGVkLWZpbHRlcnNcIiksICRhdmFpbGFibGVGaWx0ZXJzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkZmlsdGVyTGluayA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICRmaWx0ZXJMaW5rLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCksIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmYWNldE5hbWUgPSAkZmlsdGVyTGluay5kYXRhKFwiZmFjZXQtbmFtZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWNldFZhbHVlID0gJGZpbHRlckxpbmsuZGF0YShcImZhY2V0LXZhbHVlXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhY2V0TGFiZWwgPSAkZmlsdGVyTGluay5jaGlsZHJlbihcInNwYW4ubmFtZVwiKS5maXJzdCgpLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWNldENvdW50ID0gJGZpbHRlckxpbmsuZGF0YShcImZhY2V0LWNvdW50XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkRmlsdGVyc05vdyA9ICRmaWx0ZXIuZmluZChcIi5rb2gtc2VsZWN0ZWQtZmlsdGVyc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZEZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzZWxlY3RlZEZpbHRlcnNOb3cubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmFjZXRWYWx1ZVNlbGVjdGVkID0gc2VsZWN0ZWRGaWx0ZXJzTm93W2ldLmRhdGEoXCJmYWNldC12YWx1ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmFjZXRWYWx1ZSA9PSBmYWNldFZhbHVlU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkRmxhZyA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEFjdGl2ZUZpbHRlcigkZmlsdGVyLCBmYWNldE5hbWUsIGZhY2V0VmFsdWUsIGZhY2V0TGFiZWwsIGZhY2V0Q291bnQpLCBkaXNwbGF5TmV3UmVzdWx0cygkY29tcG9uZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pLCAkc2VsZWN0ZWRGaWx0ZXJJdGVtcyA9ICRzZWxlY3RlZEZpbHRlcnMuY2hpbGRyZW4oXCJsaVwiKSwgJHNlbGVjdGVkRmlsdGVySXRlbXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRmaWx0ZXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRmaWx0ZXJJdGVtQnV0dG9uID0gJGZpbHRlckl0ZW0uY2hpbGRyZW4oXCJidXR0b24ua29oLXNlbGVjdGVkLWZpbHRlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgJGZpbHRlckl0ZW1CdXR0b24uY2xpY2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyQ291bnQ6ICRzZWxlY3RlZEZpbHRlckl0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclNldDogJHNlbGVjdGVkRmlsdGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckl0ZW06ICRmaWx0ZXJJdGVtXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuZGF0YS5maWx0ZXJDb3VudCA8PSAxID8gZS5kYXRhLmZpbHRlclNldC5yZW1vdmUoKSA6IGUuZGF0YS5maWx0ZXJJdGVtLnJlbW92ZSgpLCBkaXNwbGF5TmV3UmVzdWx0cygkY29tcG9uZW50KVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgJGNsZWFyQWxsRmlsdGVycyA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtc2VhcmNoLWZpbHRlcnMgLmtvaC1maWx0ZXItZ3JvdXAua29oLWZpbHRlcnMgLmtvaC1maWx0ZXItZ3JvdXAtYWxsLWxpbmtcIik7XG4gICAgICAgICAgICAkY2xlYXJBbGxGaWx0ZXJzLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnByZXZlbnREZWZhdWx0KCksIGRpc3BsYXlOZXdSZXN1bHRzKCRjb21wb25lbnQsIGZhbHNlLCB0cnVlKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9O1xuXG4gICAgLyogRmlsdGVyaW5nL1NvcnRpbmcgLSBHZXQgRnVuY3Rpb25zICovXG4gICAgdmFyIGdldEFjdGl2ZVNlY3Rpb24gPSBmdW5jdGlvbigkY29tcG9uZW50KSB7XG4gICAgICAgIHZhciBzZWN0aW9uTmFtZSA9IFwiXCI7XG5cbiAgICAgICAgc2VjdGlvbk5hbWUgPSAoJGNvbXBvbmVudC5maW5kKFwiLmtvaC1kYXRhLWF0dHJpYnV0ZXNcIikuZGF0YShcImtvaC1zZWN0aW9uXCIpIHx8IFwiXCIpO1xuXG4gICAgICAgIHJldHVybiBzZWN0aW9uTmFtZTtcbiAgICB9O1xuXG4gICAgdmFyIGdldEFjdGl2ZUNhdGVnb3J5ID0gZnVuY3Rpb24oJGNvbXBvbmVudCkge1xuICAgICAgICB2YXIgY2F0ZWdvcnlOYW1lID0gXCJcIjtcblxuICAgICAgICB2YXIgJGFjdGl2ZUNhdGVnb3J5ID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1zZWFyY2gtZmlsdGVycyAua29oLWZpbHRlci1ncm91cC5rb2gtY2F0ZWdvcnkgLmtvaC1zZWxlY3RlZC1maWx0ZXJcIikuZmlyc3QoKTtcbiAgICAgICAgY2F0ZWdvcnlOYW1lID0gKCRhY3RpdmVDYXRlZ29yeS5kYXRhKFwiZmFjZXQtdmFsdWVcIikgfHwgXCJcIik7XG5cbiAgICAgICAgcmV0dXJuIGNhdGVnb3J5TmFtZTtcbiAgICB9O1xuXG4gICAgdmFyIGdldEFjdGl2ZUZpbHRlcnMgPSBmdW5jdGlvbigkY29tcG9uZW50KSB7XG4gICAgICAgIHZhciBmYWNldE5hbWVGaWVsZCA9IFwiZmFjZXQtbmFtZVwiLFxuICAgICAgICAgICAgZmFjZXRWYWx1ZUZpZWxkID0gXCJmYWNldC12YWx1ZVwiLFxuICAgICAgICAgICAgYWN0aXZlRmlsdGVycyA9IHt9LFxuICAgICAgICAgICAgJGZpbHRlcnMgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLXNlYXJjaC1maWx0ZXJzIC5rb2gtZmlsdGVyLWdyb3VwLmtvaC1maWx0ZXJzIC5rb2gtZmlsdGVyXCIpO1xuICAgICAgICByZXR1cm4gJGZpbHRlcnMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkZmlsdGVyID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAkc2VsZWN0ZWRGaWx0ZXJzID0gbnVsbCxcbiAgICAgICAgICAgICAgICBmYWNldE5hbWUgPSBcIlwiLFxuICAgICAgICAgICAgICAgIGZhY2V0VmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKCRmaWx0ZXIuaGFzQ2xhc3MoXCJrb2gtZmlsdGVyLXR5cGUtY2hlY2tib3hcIikpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGNoZWNrYm94ID0gJGZpbHRlci5maW5kKFwiLmtvaC1jaGVja2JveC1maWx0ZXIgPiBhXCIpO1xuICAgICAgICAgICAgICAgICRjaGVja2JveC5oYXNDbGFzcyhcImtvaC1jaGVja2JveC1jaGVja2VkXCIpICYmIChmYWNldE5hbWUgPSAkY2hlY2tib3guZGF0YShmYWNldE5hbWVGaWVsZCksIGZhY2V0VmFsdWUgPSAkY2hlY2tib3guZGF0YShmYWNldFZhbHVlRmllbGQpLCBmYWNldE5hbWUgJiYgZmFjZXRWYWx1ZSAmJiAoYWN0aXZlRmlsdGVyc1tmYWNldE5hbWVdID0gZmFjZXRWYWx1ZSkpXG4gICAgICAgICAgICB9IGVsc2UgJGZpbHRlci5oYXNDbGFzcyhcImtvaC1maWx0ZXItdHlwZS1yYW5nZVwiKSA/ICgkc2VsZWN0ZWRGaWx0ZXJzID0gJGZpbHRlci5maW5kKFwiLmtvaC1zZWxlY3RlZC1maWx0ZXJcIiksICRzZWxlY3RlZEZpbHRlcnMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmFjZXROYW1lID0gJCh0aGlzKS5kYXRhKGZhY2V0TmFtZUZpZWxkKSwgZmFjZXRWYWx1ZSA9ICQodGhpcykuZGF0YShmYWNldFZhbHVlRmllbGQpLCBmYWNldE5hbWUgJiYgZmFjZXRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gZmFjZXRWYWx1ZS5zcGxpdCgvLS8pO1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVGaWx0ZXJzW2ZhY2V0TmFtZV0gPSBhY3RpdmVGaWx0ZXJzW2ZhY2V0TmFtZV0gfHwge30sIGFjdGl2ZUZpbHRlcnNbZmFjZXROYW1lXS5NaW4gPSB2YWx1ZXNbMF0sIGFjdGl2ZUZpbHRlcnNbZmFjZXROYW1lXS5NYXggPSB2YWx1ZXNbMV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkgOiAkZmlsdGVyLmhhc0NsYXNzKFwia29oLWZpbHRlci10eXBlLWNvbG9yc1wiKSA/ICgkc2VsZWN0ZWRGaWx0ZXJzID0gJGZpbHRlci5maW5kKFwiLmtvaC1zZWxlY3RlZC1maWx0ZXJcIiksICRzZWxlY3RlZEZpbHRlcnMuZWFjaChmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgICAgIGZhY2V0TmFtZSA9ICQodGhpcykuZGF0YShmYWNldE5hbWVGaWVsZCksIGZhY2V0VmFsdWUgPSAkKHRoaXMpLmRhdGEoZmFjZXRWYWx1ZUZpZWxkKSwgZmFjZXROYW1lICYmIGZhY2V0VmFsdWUgJiYgKGFjdGl2ZUZpbHRlcnNbZmFjZXROYW1lXSA9IGFjdGl2ZUZpbHRlcnNbZmFjZXROYW1lXSB8fCB7fSwgYWN0aXZlRmlsdGVyc1tmYWNldE5hbWVdW2luZGV4XSA9IGZhY2V0VmFsdWUpXG4gICAgICAgICAgICB9KSkgOiAoJHNlbGVjdGVkRmlsdGVycyA9ICRmaWx0ZXIuZmluZChcIi5rb2gtc2VsZWN0ZWQtZmlsdGVyXCIpLCAkc2VsZWN0ZWRGaWx0ZXJzLmVhY2goZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBmYWNldE5hbWUgPSAkKHRoaXMpLmRhdGEoZmFjZXROYW1lRmllbGQpLCBmYWNldFZhbHVlID0gJCh0aGlzKS5kYXRhKGZhY2V0VmFsdWVGaWVsZCksIGZhY2V0TmFtZSAmJiAoZmFjZXRWYWx1ZSAhPSB1bmRlZmluZWQgJiYgZmFjZXRWYWx1ZSAhPT0gJycpICYmIChhY3RpdmVGaWx0ZXJzW2ZhY2V0TmFtZV0gPSBhY3RpdmVGaWx0ZXJzW2ZhY2V0TmFtZV0gfHwge30sIGFjdGl2ZUZpbHRlcnNbZmFjZXROYW1lXVtpbmRleF0gPSBmYWNldFZhbHVlKVxuICAgICAgICAgICAgfSkpXG4gICAgICAgIH0pLCBhY3RpdmVGaWx0ZXJzXG4gICAgfTtcblxuICAgIHZhciBnZXRBY3RpdmVTb3J0aW5nID0gZnVuY3Rpb24oJGNvbXBvbmVudCkge1xuICAgICAgICB2YXIgc29ydE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgb3JkZXJCeTogXCJcIixcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb246IFwiXCIsXG4gICAgICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyQnk6IFwib3JkZXJCeVwiLFxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IFwic29ydFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICRzb3J0T3B0aW9ucyA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtc2VhcmNoLXNvcnRpbmcgPiAua29oLXNvcnQtb3B0aW9uc1wiKTtcbiAgICAgICAgc29ydE9wdGlvbnMubGFiZWxzLm9yZGVyQnkgPSAkc29ydE9wdGlvbnMuZGF0YShcInNvcnQtb3JkZXJieS1sYWJlbFwiKSB8fCBzb3J0T3B0aW9ucy5sYWJlbHMub3JkZXJCeSwgc29ydE9wdGlvbnMubGFiZWxzLmRpcmVjdGlvbiA9ICRzb3J0T3B0aW9ucy5kYXRhKFwic29ydC1kaXJlY3Rpb24tbGFiZWxcIikgfHwgc29ydE9wdGlvbnMubGFiZWxzLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyICRhY3RpdmVTb3J0ID0gJHNvcnRPcHRpb25zLmZpbmQoXCIua29oLXNvcnQtc2VsZWN0ZWQgPiBzcGFuXCIpLmZpcnN0KCk7XG4gICAgICAgIHJldHVybiBzb3J0T3B0aW9ucy5vcmRlckJ5ID0gJGFjdGl2ZVNvcnQuZGF0YShcInNvcnQtb3JkZXJieVwiKSwgc29ydE9wdGlvbnMuZGlyZWN0aW9uID0gJGFjdGl2ZVNvcnQuZGF0YShcInNvcnQtZGlyZWN0aW9uXCIpLCBzb3J0T3B0aW9uc1xuICAgIH07XG5cbiAgICB2YXIgc2V0QWN0aXZlU29ydGluZyA9IGZ1bmN0aW9uKCRzb3J0QnV0dG9uLCAkc29ydE9wdGlvbnMsICR0YXJnZXRPcHRpb24pIHtcbiAgICAgICAgJHNvcnRCdXR0b24udGV4dCgkdGFyZ2V0T3B0aW9uLmNoaWxkcmVuKFwic3BhblwiKS50ZXh0KCkpLCAkc29ydE9wdGlvbnMucmVtb3ZlQ2xhc3MoXCJrb2gtc29ydC1zZWxlY3RlZFwiKSwgJHRhcmdldE9wdGlvbi5hZGRDbGFzcyhcImtvaC1zb3J0LXNlbGVjdGVkXCIpXG4gICAgfTtcblxuICAgIHZhciBhZGRBY3RpdmVDYXRlZ29yeSA9IGZ1bmN0aW9uKCRmaWx0ZXIsIGZhY2V0TmFtZSwgZmFjZXRWYWx1ZSwgZmFjZXRMYWJlbCwgZmFjZXRDb3VudCkge1xuICAgICAgICB2YXIgJGZpbHRlckxpc3QgPSAkZmlsdGVyLmNoaWxkcmVuKFwiLmtvaC1zZWxlY3RlZC1maWx0ZXJzXCIpO1xuICAgICAgICAkZmlsdGVyTGlzdCAmJiAkZmlsdGVyTGlzdC5sZW5ndGggPyAkZmlsdGVyTGlzdC5lbXB0eSgpIDogKCRmaWx0ZXJMaXN0ID0gJCgnPHVsIGNsYXNzPVwia29oLXNlbGVjdGVkLWZpbHRlcnNcIj48L3VsPicpLCAkZmlsdGVyTGlzdC5pbnNlcnRCZWZvcmUoJGZpbHRlci5jaGlsZHJlbihcIi5rb2gtYXZhaWxhYmxlLWZpbHRlcnNcIikpKTtcbiAgICAgICAgdmFyICRmaWx0ZXJJdGVtQnV0dG9uID0gJCgnPGJ1dHRvbiBjbGFzcz1cImtvaC1zZWxlY3RlZC1maWx0ZXJcIj48L2J1dHRvbj4nKTtcbiAgICAgICAgJGZpbHRlckl0ZW1CdXR0b24uZGF0YShcImZhY2V0LW5hbWVcIiwgZmFjZXROYW1lKSwgJGZpbHRlckl0ZW1CdXR0b24uZGF0YShcImZhY2V0LXZhbHVlXCIsIGZhY2V0VmFsdWUpLCAkZmlsdGVySXRlbUJ1dHRvbi5hcHBlbmQoJCgnPHNwYW4gY2xhc3M9XCJyZW1vdmVcIj5SZW1vdmUgRmlsdGVyPC9zcGFuPicpKSwgJGZpbHRlckl0ZW1CdXR0b24uYXBwZW5kKCQoJzxzcGFuIGNsYXNzPVwibmFtZVwiPicgKyBmYWNldExhYmVsICsgXCI8L3NwYW4+XCIpKSwgJGZpbHRlckl0ZW1CdXR0b24uYXBwZW5kKCQoJzxzcGFuIGNsYXNzPVwiY291bnRcIj4gKCcgKyBmYWNldENvdW50ICsgXCIpPC9zcGFuPlwiKSksICRmaWx0ZXJMaXN0LmFwcGVuZCgkKFwiPGxpPjwvbGk+XCIpLndyYXBJbm5lcigkZmlsdGVySXRlbUJ1dHRvbikpXG4gICAgfTtcblxuICAgIHZhciBhZGRBY3RpdmVGaWx0ZXIgPSBmdW5jdGlvbigkZmlsdGVyLCBmYWNldE5hbWUsIGZhY2V0VmFsdWUsIGZhY2V0TGFiZWwsIGZhY2V0Q291bnQpIHtcbiAgICAgICAgdmFyICRmaWx0ZXJMaXN0ID0gJGZpbHRlci5jaGlsZHJlbihcIi5rb2gtc2VsZWN0ZWQtZmlsdGVyc1wiKSxcbiAgICAgICAgICAgICRmaWx0ZXJJdGVtQnV0dG9uID0gJCgnPGJ1dHRvbiBjbGFzcz1cImtvaC1zZWxlY3RlZC1maWx0ZXJcIj48L2J1dHRvbj4nKTtcbiAgICAgICAgJGZpbHRlci5oYXNDbGFzcyhcImtvaC1maWx0ZXItdHlwZS1jaGVja2JveFwiKSA/ICQodGhpcykucmVtb3ZlQ2xhc3MoXCJrb2gtY2hlY2tib3gtdW5jaGVja2VkXCIpLmFkZENsYXNzKFwia29oLWNoZWNrYm94LWNoZWNrZWRcIikgOiAkZmlsdGVyLmhhc0NsYXNzKFwia29oLWZpbHRlci10eXBlLXJhbmdlXCIpID8gKCRmaWx0ZXJMaXN0ICYmICRmaWx0ZXJMaXN0Lmxlbmd0aCB8fCAoJGZpbHRlckxpc3QgPSAkKCc8dWwgY2xhc3M9XCJrb2gtc2VsZWN0ZWQtZmlsdGVyc1wiPjwvdWw+JyksICRmaWx0ZXJMaXN0Lmluc2VydEJlZm9yZSgkZmlsdGVyLmZpbmQoXCIua29oLXJhbmdlLWZpbHRlclwiKSkpLCAkZmlsdGVySXRlbUJ1dHRvbi5kYXRhKFwiZmFjZXQtbmFtZVwiLCBmYWNldE5hbWUpLCAkZmlsdGVySXRlbUJ1dHRvbi5kYXRhKFwiZmFjZXQtdmFsdWVcIiwgZmFjZXRWYWx1ZSksICRmaWx0ZXJJdGVtQnV0dG9uLmFwcGVuZCgkKCc8c3BhbiBjbGFzcz1cInJlbW92ZVwiPlJlbW92ZSBGaWx0ZXI8L3NwYW4+JykpLCAkZmlsdGVySXRlbUJ1dHRvbi5hcHBlbmQoJCgnPHNwYW4gY2xhc3M9XCJuYW1lXCI+JyArIGZhY2V0TGFiZWwgKyBcIjwvc3Bhbj5cIikpLCAkZmlsdGVySXRlbUJ1dHRvbi5hcHBlbmQoJCgnPHNwYW4gY2xhc3M9XCJjb3VudFwiPicgKyBmYWNldENvdW50ICsgXCI8L3NwYW4+XCIpKSwgJGZpbHRlckxpc3QuYXBwZW5kKCQoXCI8bGk+PC9saT5cIikud3JhcElubmVyKCRmaWx0ZXJJdGVtQnV0dG9uKSkpIDogJGZpbHRlci5oYXNDbGFzcyhcImtvaC1maWx0ZXItdHlwZS1jb2xvcnNcIikgPyAoJGZpbHRlckxpc3QgJiYgJGZpbHRlckxpc3QubGVuZ3RoIHx8ICgkZmlsdGVyTGlzdCA9ICQoJzx1bCBjbGFzcz1cImtvaC1zZWxlY3RlZC1maWx0ZXJzXCI+PC91bD4nKSwgJGZpbHRlckxpc3QuaW5zZXJ0QmVmb3JlKCRmaWx0ZXIuZmluZChcIi5rb2gtYXZhaWxhYmxlLWZpbHRlcnNcIikpKSwgJGZpbHRlckl0ZW1CdXR0b24uZGF0YShcImZhY2V0LW5hbWVcIiwgZmFjZXROYW1lKSwgJGZpbHRlckl0ZW1CdXR0b24uZGF0YShcImZhY2V0LXZhbHVlXCIsIGZhY2V0VmFsdWUpLCAkZmlsdGVySXRlbUJ1dHRvbi5hcHBlbmQoJCgnPHNwYW4gY2xhc3M9XCJyZW1vdmVcIj5SZW1vdmUgRmlsdGVyPC9zcGFuPicpKSwgJGZpbHRlckl0ZW1CdXR0b24uYXBwZW5kKCQoJzxzcGFuIGNsYXNzPVwibmFtZVwiPicgKyBmYWNldExhYmVsICsgXCI8L3NwYW4+XCIpKSwgJGZpbHRlckxpc3QuYXBwZW5kKCQoXCI8bGk+PC9saT5cIikud3JhcElubmVyKCRmaWx0ZXJJdGVtQnV0dG9uKSkpIDogKCRmaWx0ZXJMaXN0ICYmICRmaWx0ZXJMaXN0Lmxlbmd0aCB8fCAoJGZpbHRlckxpc3QgPSAkKCc8dWwgY2xhc3M9XCJrb2gtc2VsZWN0ZWQtZmlsdGVyc1wiPjwvdWw+JyksICRmaWx0ZXJMaXN0Lmluc2VydEJlZm9yZSgkZmlsdGVyLmZpbmQoXCIua29oLWF2YWlsYWJsZS1maWx0ZXJzXCIpKSksICRmaWx0ZXJJdGVtQnV0dG9uLmRhdGEoXCJmYWNldC1uYW1lXCIsIGZhY2V0TmFtZSksICRmaWx0ZXJJdGVtQnV0dG9uLmRhdGEoXCJmYWNldC12YWx1ZVwiLCBmYWNldFZhbHVlKSwgJGZpbHRlckl0ZW1CdXR0b24uYXBwZW5kKCQoJzxzcGFuIGNsYXNzPVwicmVtb3ZlXCI+UmVtb3ZlIEZpbHRlcjwvc3Bhbj4nKSksICRmaWx0ZXJJdGVtQnV0dG9uLmFwcGVuZCgkKCc8c3BhbiBjbGFzcz1cIm5hbWVcIj4nICsgZmFjZXRMYWJlbCArIFwiPC9zcGFuPlwiKSksICRmaWx0ZXJJdGVtQnV0dG9uLmFwcGVuZCgkKCc8c3BhbiBjbGFzcz1cImNvdW50XCI+KCcgKyBmYWNldENvdW50ICsgXCIpPC9zcGFuPlwiKSksICRmaWx0ZXJMaXN0LmFwcGVuZCgkKFwiPGxpPjwvbGk+XCIpLndyYXBJbm5lcigkZmlsdGVySXRlbUJ1dHRvbikpKVxuICAgIH07XG5cbiAgICB2YXIgZ2V0VHlwZSA9IGZ1bmN0aW9uKCRjb21wb25lbnQpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBcIlwiO1xuICAgICAgICByZXR1cm4gdHlwZSA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtZmFjZXQtZGF0YS1hdHRyaWJ1dGVzXCIpLmRhdGEoXCJrb2gtdHlwZVwiKSB8fCBcIlwiXG4gICAgfTtcblxuICAgIHZhciBnZXRTZWFyY2hUZXJtID0gZnVuY3Rpb24oJGNvbXBvbmVudCkge1xuICAgIFx0dmFyIHNlYXJjaFRlcm0gPSAkY29tcG9uZW50LmZpbmQoXCIua29oLWZhY2V0LWRhdGEtYXR0cmlidXRlc1wiKS5kYXRhKFwia29oLXNlYXJjaHRlcm1cIik7XG4gICAgICAgIGlmKHNlYXJjaFRlcm0gIT09IHVuZGVmaW5lZCl7XG4gICAgICAgIFx0cmV0dXJuIHNlYXJjaFRlcm0gXG4gICAgICAgIH1lbHNle1xuICAgICAgICBcdHJldHVybiBzZWFyY2hUZXJtID0gXCJcIlxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBnZXRDdXJyZW50UGFnZSA9IGZ1bmN0aW9uKCRjb21wb25lbnQpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRQYWdlID0gXCJcIjtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRQYWdlID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1mYWNldC1kYXRhLWF0dHJpYnV0ZXNcIikuZGF0YShcImtvaC1jdXJyZW50cGFnZVwiKSB8fCBcIlwiXG4gICAgfTtcblxuICAgIHZhciBnZXRTb3J0QnkgPSBmdW5jdGlvbigkY29tcG9uZW50KSB7XG4gICAgICAgIHZhciBzb3J0QnkgPSBcIlwiO1xuICAgICAgICByZXR1cm4gc29ydEJ5ID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1mYWNldC1kYXRhLWF0dHJpYnV0ZXNcIikuZGF0YShcImtvaC1zb3J0YnlcIikgfHwgXCJcIlxuICAgIH07XG5cbiAgICB2YXIgZ2V0T3JkZXJCeSA9IGZ1bmN0aW9uKCRjb21wb25lbnQpIHtcbiAgICAgICAgdmFyIG9yZGVyQnkgPSBcIlwiO1xuICAgICAgICByZXR1cm4gb3JkZXJCeSA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtZmFjZXQtZGF0YS1hdHRyaWJ1dGVzXCIpLmRhdGEoXCJrb2gtb3JkZXJieVwiKSB8fCBcIlwiXG4gICAgfTtcblxuICAgIHZhciBnZXRVUkwgPSBmdW5jdGlvbigkY29tcG9uZW50LCBleGNsdWRlQ2F0ZWdvcnksIGV4Y2x1ZGVGaWx0ZXJzKSB7XG4gICAgICAgIHZhciB1cmwgPSBcIlwiLFxuICAgICAgICAgICAgcXVlcnlQYXJhbXMgPSB7fSxcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1Db3VudCA9IDAsXG4gICAgICAgICAgICAvL3VybFJvb3QgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLWRhdGEtYXR0cmlidXRlc1wiKS5kYXRhKFwia29oLXVybC1yb290XCIpO1xuICAgICAgICAgICAgdXJsUm9vdCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgICBcbiAgICAgICAgIHZhciBpc1NlYXJjaCA9IGZhbHNlO1xuICAgICAgICAgdmFyIHVybFNlYXJjaCA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtZGF0YS1hdHRyaWJ1dGVzXCIpLmRhdGEoXCJrb2gtc2VhcmNoLXVybFwiKTtcbiAgICAgICAgIHZhciByZXNJbmRleCA9IHVybFJvb3QuaW5kZXhPZihcIi9cIiArIHVybFNlYXJjaCk7XG4gICAgICAgICAgdmFyIHVybENvbGxlY3Rpb25zID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC1kYXRhLWF0dHJpYnV0ZXNcIikuZGF0YShcImtvaC1jb2xsZWN0aW9ucy11cmxcIik7XG4gICAgICAgICB2YXIgY29sbGVjdGlvbnNJbmRleCA9IHVybFJvb3QuaW5kZXhPZihcIi9cIiArIHVybENvbGxlY3Rpb25zKTtcbiAgICAgICAgIGlmIChyZXNJbmRleCAmJiByZXNJbmRleCA+IDApIHtcbiAgICAgICAgXHQgaXNTZWFyY2ggPSB0cnVlO1xuICAgICAgICBcdCB1cmwgPSB1cmxSb290LnN1YnN0cmluZygwLCByZXNJbmRleCk7XG4gICAgICAgICAgICAgdXJsID0gdXJsICsgXCIvXCIgK3VybFNlYXJjaDtcbiAgICAgICAgIH1lbHNlIGlmKGNvbGxlY3Rpb25zSW5kZXggJiYgY29sbGVjdGlvbnNJbmRleCA+IDApe1xuICAgICAgICBcdCBpc1NlYXJjaCA9IHRydWU7XG4gICAgICAgIFx0IHVybCA9IHVybFJvb3Quc3Vic3RyaW5nKDAsIGNvbGxlY3Rpb25zSW5kZXgpO1xuICAgICAgICAgICAgIHVybCA9IHVybCArIFwiL1wiICsgdXJsQ29sbGVjdGlvbnM7XG4gICAgICAgICB9ZWxzZXtcbiAgICAgICAgXHQgdmFyIHVybFJvb3RDb21wb25lbnQgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLWRhdGEtYXR0cmlidXRlc1wiKS5kYXRhKFwia29oLXVybC1yb290XCIpO1xuICAgICAgICBcdCB2YXIgdXJsUm9vdCA9IGRlY29kZVVSSUNvbXBvbmVudCh1cmxSb290KTtcbiAgICAgICAgXHQgdmFyIGNhdEluZGV4ID0gdXJsUm9vdC5pbmRleE9mKFwiL1wiICsgdXJsUm9vdENvbXBvbmVudCk7XG4gICAgICAgIFx0IGlmIChjYXRJbmRleCAmJiBjYXRJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgdXJsID0gdXJsUm9vdC5zdWJzdHJpbmcoMCwgY2F0SW5kZXgpO1xuICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgIFx0IHVybCA9IHVybFJvb3Q7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgfVxuICAgICAgICAvL3VybCA9IHVybFJvb3Q7XG4gICAgICAgIHZhciBzZWN0aW9uTmFtZSA9IGdldEFjdGl2ZVNlY3Rpb24oJGNvbXBvbmVudCk7XG4gICAgICAgIC8vaWYgKHNlY3Rpb25OYW1lICYmICh1cmwgPSB1cmwgKyBcIi9cIiArIHNlY3Rpb25OYW1lKSwgIWV4Y2x1ZGVDYXRlZ29yeSkge1xuICAgICAgICBpZihpc1NlYXJjaCl7XG4gICAgICAgIFx0aWYgKCFleGNsdWRlQ2F0ZWdvcnkgfHwgZXhjbHVkZUNhdGVnb3J5ID09ICdwYWdpbmcnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhdGVnb3J5TmFtZSA9IGdldEFjdGl2ZUNhdGVnb3J5KCRjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeU5hbWUpe1xuICAgICAgICAgICAgICAgIFx0dXJsID0gdXJsICsgXCIvXCIgKyBjYXRlZ29yeU5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICBcdH0gICAgXG4gICAgICAgICAgICBpZiAoIWV4Y2x1ZGVGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUZpbHRlcnMgPSBnZXRBY3RpdmVGaWx0ZXJzKCRjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgICQuZWFjaChhY3RpdmVGaWx0ZXJzLCBmdW5jdGlvbihmYWNldE5hbWUsIGZhY2V0VmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2V0TmFtZSAmJiBmYWNldFZhbHVlcyAmJiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgZmFjZXRWYWx1ZXMgPyAkLmVhY2goZmFjZXRWYWx1ZXMsIGZ1bmN0aW9uKGluZGV4LCBmYWNldFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJNaW5cIiA9PT0gaW5kZXggfHwgXCJNYXhcIiA9PT0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1OYW1lID0gZmFjZXROYW1lICsgaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlQYXJhbXNbcGFyYW1OYW1lXSA9IGZhY2V0VmFsdWUsIHF1ZXJ5UGFyYW1Db3VudCArPSAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgdXJsID0gdXJsICsgXCIvXCIgKyBmYWNldE5hbWUgKyBcIi9cIiArIGZhY2V0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfSkgOiB1cmwgPSB1cmwgKyBcIi9cIiArIGZhY2V0TmFtZSArIFwiL1wiICsgZmFjZXRWYWx1ZXMpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gICAgXG4gICAgICAgICAgICB2YXIgc29ydE9wdGlvbnMgPSBnZXRBY3RpdmVTb3J0aW5nKCRjb21wb25lbnQpO1xuICAgICAgICAgICAgc29ydE9wdGlvbnMgJiYgc29ydE9wdGlvbnMub3JkZXJCeSAmJiBzb3J0T3B0aW9ucy5kaXJlY3Rpb24gJiYgKHF1ZXJ5UGFyYW1zW3NvcnRPcHRpb25zLmxhYmVscy5vcmRlckJ5XSA9IHNvcnRPcHRpb25zLm9yZGVyQnksIHF1ZXJ5UGFyYW1Db3VudCArPSAxLCBxdWVyeVBhcmFtc1tzb3J0T3B0aW9ucy5sYWJlbHMuZGlyZWN0aW9uXSA9IHNvcnRPcHRpb25zLmRpcmVjdGlvbiwgcXVlcnlQYXJhbUNvdW50ICs9IDEpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcblx0ICAgICAgICBpZiAoIWV4Y2x1ZGVDYXRlZ29yeSkge1xuXHQgICAgICAgICAgICB2YXIgY2F0ZWdvcnlOYW1lID0gZ2V0QWN0aXZlQ2F0ZWdvcnkoJGNvbXBvbmVudCk7XG5cdCAgICAgICAgICAgIGlmIChjYXRlZ29yeU5hbWUgJiYgKHVybCA9IHVybCArIFwiL1wiICsgY2F0ZWdvcnlOYW1lKSwgIWV4Y2x1ZGVGaWx0ZXJzKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgYWN0aXZlRmlsdGVycyA9IGdldEFjdGl2ZUZpbHRlcnMoJGNvbXBvbmVudCk7XG5cdCAgICAgICAgICAgICAgICAkLmVhY2goYWN0aXZlRmlsdGVycywgZnVuY3Rpb24oZmFjZXROYW1lLCBmYWNldFZhbHVlcykge1xuXHQgICAgICAgICAgICAgICAgICAgIGZhY2V0TmFtZSAmJiBmYWNldFZhbHVlcyAmJiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgZmFjZXRWYWx1ZXMgPyAkLmVhY2goZmFjZXRWYWx1ZXMsIGZ1bmN0aW9uKGluZGV4LCBmYWNldFZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIk1pblwiID09PSBpbmRleCB8fCBcIk1heFwiID09PSBpbmRleCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtTmFtZSA9IGZhY2V0TmFtZSArIGluZGV4O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlQYXJhbXNbcGFyYW1OYW1lXSA9IGZhY2V0VmFsdWUsIHF1ZXJ5UGFyYW1Db3VudCArPSAxXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB1cmwgPSB1cmwgKyBcIi9cIiArIGZhY2V0TmFtZSArIFwiL1wiICsgZmFjZXRWYWx1ZVxuXHQgICAgICAgICAgICAgICAgICAgIH0pIDogdXJsID0gdXJsICsgXCIvXCIgKyBmYWNldE5hbWUgKyBcIi9cIiArIGZhY2V0VmFsdWVzKVxuXHQgICAgICAgICAgICAgICAgfSlcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgc29ydE9wdGlvbnMgPSBnZXRBY3RpdmVTb3J0aW5nKCRjb21wb25lbnQpO1xuXHQgICAgICAgICAgICBzb3J0T3B0aW9ucyAmJiBzb3J0T3B0aW9ucy5vcmRlckJ5ICYmIHNvcnRPcHRpb25zLmRpcmVjdGlvbiAmJiAocXVlcnlQYXJhbXNbc29ydE9wdGlvbnMubGFiZWxzLm9yZGVyQnldID0gc29ydE9wdGlvbnMub3JkZXJCeSwgcXVlcnlQYXJhbUNvdW50ICs9IDEsIHF1ZXJ5UGFyYW1zW3NvcnRPcHRpb25zLmxhYmVscy5kaXJlY3Rpb25dID0gc29ydE9wdGlvbnMuZGlyZWN0aW9uLCBxdWVyeVBhcmFtQ291bnQgKz0gMSlcblx0ICAgICAgICB9IFxuICAgICAgICB9ICAgIFxuICAgICAgICB2YXIgc2VhcmNoVGVybSA9IGdldFNlYXJjaFRlcm0oJGNvbXBvbmVudCk7XG4gICAgICAgIGlmIChzZWFyY2hUZXJtICE9PSBcIlwiKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtc1tcInNlYXJjaFwiXSA9IHNlYXJjaFRlcm0sIHF1ZXJ5UGFyYW1Db3VudCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0eXBlID0gZ2V0VHlwZSgkY29tcG9uZW50KTtcbiAgICAgICAgaWYgKHR5cGUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zW1widHlwZVwiXSA9IHR5cGUsIHF1ZXJ5UGFyYW1Db3VudCArPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGVDYXRlZ29yeSA9PSAncGFnaW5nJykge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoJGNvbXBvbmVudCk7XG4gICAgICAgICAgICBpZiAoY3VycmVudFBhZ2UgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtc1tcImN1cnJlbnRwYWdlXCJdID0gY3VycmVudFBhZ2UsIHF1ZXJ5UGFyYW1Db3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9yZGVyQnkgPSBnZXRPcmRlckJ5KCRjb21wb25lbnQpO1xuICAgICAgICAgICAgaWYgKG9yZGVyQnkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtc1tcIm9yZGVyQnlcIl0gPSBvcmRlckJ5LCBxdWVyeVBhcmFtQ291bnQgKz0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNvcnRCeSA9IGdldFNvcnRCeSgkY29tcG9uZW50KTtcbiAgICAgICAgICAgIGlmIChzb3J0QnkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtc1tcInNvcnRcIl0gPSBzb3J0QnksIHF1ZXJ5UGFyYW1Db3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBxdWVyeVBhcmFtQ291bnQgPiAwICYmICh1cmwgKz0gXCI/XCIsICQuZWFjaChxdWVyeVBhcmFtcywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgdXJsID0gdXJsICsga2V5ICsgXCI9XCIgKyB2YWx1ZSArIFwiJlwiXG4gICAgICAgIH0pLCB1cmwgPSB1cmwucmVwbGFjZSgvJiQvLCBcIlwiKSksIHVybFxuICAgIH07XG5cbiAgICB2YXIgZGlzcGxheU5ld1Jlc3VsdHMgPSBmdW5jdGlvbigkY29tcG9uZW50LCBleGNsdWRlQ2F0ZWdvcnksIGV4Y2x1ZGVGaWx0ZXJzKSB7XG4gICAgICAgIHZhciBjdXJyZW50VXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICB0YXJnZXRVcmwgPSBnZXRVUkwoJGNvbXBvbmVudCwgZXhjbHVkZUNhdGVnb3J5LCBleGNsdWRlRmlsdGVycyk7XG4gICAgICAgIHRhcmdldFVybCAhPT0gY3VycmVudFVybCAmJiAoc2F2ZVNjcm9sbFBvc2l0aW9uKCksIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGFyZ2V0VXJsKVxuICAgIH07XG5cbiAgICB2YXIgaW5pdEFzTW9kYWwgPSBmdW5jdGlvbigkYnV0dG9uLCAkcGFuZWwsIHJlbW9kYWxJRCkge1xuICAgICAgICAkcGFuZWwuZGF0YShcInJlbW9kYWwtaWRcIiwgcmVtb2RhbElEKSwgJHBhbmVsLnByZXBlbmQoJzxidXR0b24gZGF0YS1yZW1vZGFsLWFjdGlvbj1cImNsb3NlXCIgY2xhc3M9XCJyZW1vZGFsLWNsb3NlXCI+PC9idXR0b24+JyksICRwYW5lbC5hdHRyKFwiZGF0YS1rb2gtY29tcG9uZW50XCIsIGNvbXBvbmVudENsYXNzKSwgJHBhbmVsLmFkZENsYXNzKGNvbXBvbmVudENsYXNzICsgXCItbW9kYWxcIiksICRwYW5lbC5hdHRyKFwiaWRcIiwgcmVtb2RhbElEKTtcbiAgICAgICAgdmFyICRyZW1vZGFsUGFuZWwgPSAkcGFuZWwucmVtb2RhbCh7XG4gICAgICAgICAgICBoYXNoVHJhY2tpbmc6IHRydWUsXG4gICAgICAgICAgICBjbG9zZU9uQ2FuY2VsOiB0cnVlLFxuICAgICAgICAgICAgY2xvc2VPbkVzY2FwZTogdHJ1ZSxcbiAgICAgICAgICAgIGNsb3NlT25PdXRzaWRlQ2xpY2s6IHRydWUsXG4gICAgICAgICAgICBtb2RpZmllcjogXCJcIlxuICAgICAgICB9KTtcbiAgICAgICAgJGJ1dHRvbi5kYXRhKFwicmVtb2RhbC10YXJnZXRcIiwgcmVtb2RhbElEKSwgJGJ1dHRvbi5jbGljayh7XG4gICAgICAgICAgICB0YXJnZXQ6ICRyZW1vZGFsUGFuZWxcbiAgICAgICAgfSwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpLCBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgdmFyICR0YXJnZXQgPSBlLmRhdGEudGFyZ2V0O1xuICAgICAgICAgICAgJHRhcmdldC5vcGVuKClcbiAgICAgICAgfSlcbiAgICB9O1xuXG4gICAgdmFyIGluaXRRdWlja1ZpZXdEYXRhID0gZnVuY3Rpb24oJHBhbmVsLCBjb21wYXJlSWRzKSB7XG4gICAgICAgIHZhciAkcHJpbWFyeUJhbm5lciA9ICRwYW5lbC5jaGlsZHJlbihcIi5rb2gtcHJvZHVjdC1pbWFnZVwiKSxcbiAgICAgICAgICAgICRwcm9kdWN0Q29udGVudCA9ICRwYW5lbC5jaGlsZHJlbihcIi5rb2gtcHJvZHVjdC1jb250ZW50XCIpLFxuICAgICAgICAgICAgJHByb2R1Y3RTS1UgPSAkcHJvZHVjdENvbnRlbnQuY2hpbGRyZW4oXCIua29oLXByb2R1Y3Qtc2t1XCIpLFxuICAgICAgICAgICAgJGNvbG9yQ29sbGVjdGlvbnMgPSAkcHJvZHVjdENvbnRlbnQuY2hpbGRyZW4oXCIua29oLXByb2R1Y3QtY29sb3JzXCIpLFxuICAgICAgICAgICAgJHByb2R1Y3RJbnJpdmVyUHJpY2UgPSAkcHJvZHVjdENvbnRlbnQuZmluZChcIi5rb2gtcHJvZHVjdC1wcmljZVwiKTtcbiAgICAgICAgJGNvbG9yQ29sbGVjdGlvbnMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkY29sb3JDb2xsZWN0aW9uID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAkc2VsZWN0ZWRDb2xvckxhYmVsID0gJGNvbG9yQ29sbGVjdGlvbi5jaGlsZHJlbihcIi5rb2gtc2VsZWN0ZWQtY29sb3JcIikuZmluZChcIi52YWx1ZVwiKSxcbiAgICAgICAgICAgICAgICBpdGVtbm8gPSAkY29sb3JDb2xsZWN0aW9uLmZpbmQoXCIua29oLWNvbXBhcmUtYWRkXCIpLmZpcnN0KCkuYXR0cihcImRhdGEtcHJvZHVjdC1pdGVtbm9cIik7XG4gICAgICAgICAgICAkLmluQXJyYXkoaXRlbW5vLCBjb21wYXJlSWRzKSA+IC0xICYmICRwYW5lbC5hZGRDbGFzcyhcInByb2R1Y3QtYWRkZWRcIik7XG4gICAgICAgICAgICB2YXIgJGNvbG9yVmFyaWFudHMgPSAkY29sb3JDb2xsZWN0aW9uLmZpbmQoXCIua29oLXByb2R1Y3QtdmFyaWFudFwiKTtcbiAgICAgICAgICAgICRjb2xvclZhcmlhbnRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyICRjb2xvclZhcmlhbnQgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0RGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVVJMOiAkY29sb3JWYXJpYW50LmRhdGEoXCJrb2gtaW1hZ2VcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBza3U6ICRjb2xvclZhcmlhbnQuZGF0YShcImtvaC1za3VcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBza3VrOiAkY29sb3JWYXJpYW50LmRhdGEoXCJrb2gtc2t1LWtcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZXM6ICRjb2xvclZhcmlhbnQuZGF0YShcImtvaC1wcmljZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yTmFtZTogJGNvbG9yVmFyaWFudC5kYXRhKFwia29oLWNvbG9yXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5OiAkY29sb3JWYXJpYW50LmRhdGEoXCJkZWZhdWx0LWNhdGVnb3J5XCIpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RGaWVsZHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYW5uZXI6ICRwcmltYXJ5QmFubmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2t1OiAkcHJvZHVjdFNLVSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlczogJHByb2R1Y3RJbnJpdmVyUHJpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJHNlbGVjdGVkQ29sb3JMYWJlbFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICRjb2xvclZhcmlhbnQuY2hpbGRyZW4oXCIua29oLXByb2R1Y3QtY29sb3JcIikuY2xpY2soe1xuICAgICAgICAgICAgICAgICAgICB2YXJpYW50U2V0OiAkY29sb3JWYXJpYW50cyxcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogJGNvbG9yVmFyaWFudCxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogcHJvZHVjdERhdGEsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkczogcHJvZHVjdEZpZWxkc1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICR2YXJpYW50ID0gZS5kYXRhLnZhcmlhbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAkdmFyaWFudFNldCA9IGUuZGF0YS52YXJpYW50U2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdERhdGEgPSBlLmRhdGEucHJvZHVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RGaWVsZHMgPSBlLmRhdGEuZmllbGRzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWxsT3BlbmVkID0gJCgnLnJlbW9kYWwtd3JhcHBlci5yZW1vZGFsLWlzLW9wZW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICAkLmVhY2goYWxsT3BlbmVkLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnYScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHJlZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGhyZWYuaW5kZXhPZignP3NrdWlkPScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0dmFyIGRlZmF1bHRDYXRlZ29yeVVSTCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0aWYocHJvZHVjdERhdGEuZGVmYXVsdENhdGVnb3J5ICE9PSBcIlwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHRcdGRlZmF1bHRDYXRlZ29yeVVSTCA9IFwiJmRlZmF1bHRDYXRlZ29yeT1cIiArIHByb2R1Y3REYXRhLmRlZmF1bHRDYXRlZ29yeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJykuc3Vic3RyKDAsIGluZGV4KSArIFwiP3NrdWlkPVwiICsgcHJvZHVjdERhdGEuc2t1ICsgZGVmYXVsdENhdGVnb3J5VVJMO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdocmVmJywgaHJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RGaWVsZHMuYmFubmVyLmZpbmQoXCJpbWdcIikuYXR0cihcInNyY1wiLCBwcm9kdWN0RGF0YS5pbWFnZVVSTCksIHByb2R1Y3RGaWVsZHMuc2t1LnRleHQocHJvZHVjdERhdGEuc2t1ayksIHByb2R1Y3RGaWVsZHMucHJpY2VzLmZpbmQoXCIua29oLWN1cnJlbnQtcHJpY2UgPiAudmFsdWVcIikudGV4dChwcm9kdWN0RGF0YS5wcmljZXMuY3VycmVudCksIHByb2R1Y3RGaWVsZHMucHJpY2VzLmZpbmQoXCIua29oLXByZXZpb3VzLXByaWNlID4gLnZhbHVlXCIpLnRleHQocHJvZHVjdERhdGEucHJpY2VzLnByZXZpb3VzKSwgcHJvZHVjdEZpZWxkcy5wcmljZXMuZmluZChcIi5rb2gtZGlzY291bnRlZC1wcmljZSA+IC52YWx1ZVwiKS50ZXh0KHByb2R1Y3REYXRhLnByaWNlcy5kaXNjb3VudGVkKSwgcHJvZHVjdEZpZWxkcy5jb2xvci50ZXh0KHByb2R1Y3REYXRhLmNvbG9yTmFtZSksIHByb2R1Y3RGaWVsZHMucHJpY2VzLnRleHQocHJvZHVjdERhdGEucHJpY2VzKSwgJHZhcmlhbnRTZXQucmVtb3ZlQ2xhc3MoXCJrb2gtc2VsZWN0ZWQtdmFyaWFudFwiKSwgJHZhcmlhbnQuYWRkQ2xhc3MoXCJrb2gtc2VsZWN0ZWQtdmFyaWFudFwiKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyICRwcm9kdWN0U2hhcmUgPSAkcHJvZHVjdENvbnRlbnQuZmluZChcIi5rb2gtcHJvZHVjdC1zaGFyZVwiKTtcbiAgICAgICAgJHByb2R1Y3RTaGFyZS5hZGRDbGFzcyhcInRlc3RcIik7XG4gICAgICAgIHZhciAkcHJvZHVjdFNoYXJlQnV0dG9uID0gJHByb2R1Y3RTaGFyZS5jaGlsZHJlbihcIi5rb2gtcHJvZHVjdC1idXR0b25cIiksXG4gICAgICAgICAgICAkcHJvZHVjdFNoYXJlUGFuZWwgPSAkcHJvZHVjdFNoYXJlLmNoaWxkcmVuKFwiLmtvaC1wcm9kdWN0LXBvcG92ZXJcIik7XG4gICAgICAgIGF4S09IICYmIGF4S09ILnV0aWxzICYmIGF4S09ILnV0aWxzLnNvY2lhbFNoYXJlICYmIGF4S09ILnV0aWxzLnNvY2lhbFNoYXJlLmluaXRBc1Rvb2x0aXAoJHByb2R1Y3RTaGFyZSwgJHByb2R1Y3RTaGFyZUJ1dHRvbiwgJHByb2R1Y3RTaGFyZVBhbmVsKVxuICAgIH07XG5cbiAgICB2YXIgbG9hZFNjcm9sbFBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzY3JvbGxQb3NpdGlvbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJrb2hQYWdlU2Nyb2xsXCIpO1xuICAgICAgICBheEtPSC51dGlscy5kZWJ1Z0xvZyhcIlNjcm9sbCBzZXQgdG8gXCIgKyBzY3JvbGxQb3NpdGlvbiksICQod2luZG93KS5zY3JvbGxUb3Aoc2Nyb2xsUG9zaXRpb24pLCBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFwia29oUGFnZVNjcm9sbFwiKVxuICAgIH07XG5cbiAgICB2YXIgc2F2ZVNjcm9sbFBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzY3JvbGxQb3NpdGlvbiA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcImtvaFBhZ2VTY3JvbGxcIiwgc2Nyb2xsUG9zaXRpb24pXG4gICAgfTtcblxuICAgIHZhciBpbml0UHJvZHVjdFZpZGVvcyA9IGZ1bmN0aW9uKCRjb21wb25lbnRzKSB7XG4gICAgICAgICRjb21wb25lbnRzICYmICRjb21wb25lbnRzLmVhY2goZnVuY3Rpb24oY29tcG9uZW50SW5kZXgpIHtcbiAgICAgICAgICAgIHZhciAkY29tcG9uZW50ID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAkdmlkZW9MaW5rcyA9ICRjb21wb25lbnQuZmluZChcIi5rb2gtYXJ0aWNsZS12aWRlbyBhXCIpO1xuICAgICAgICAgICAgJHZpZGVvTGlua3MuZWFjaChmdW5jdGlvbih2aWRlb0luZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyICR2aWRlb0xpbmsgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICB2aWRlb1VSTCA9ICR2aWRlb0xpbmsuYXR0cihcImhyZWZcIiksXG4gICAgICAgICAgICAgICAgICAgIGFwaVVSTCA9ICR2aWRlb0xpbmsuZGF0YShcImFwaVwiKTtcbiAgICAgICAgICAgICAgICBpZiAodmlkZW9VUkwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICR2aWRlb1BhbmVsID0gJCgnPGRpdiBjbGFzcz1cImtvaC12aWRlby1wYW5lbFwiPjxpZnJhbWUgd2lkdGg9XCI2MzBcIiBoZWlnaHQ9XCIzNTRcIiBzcmM9XCInICsgdmlkZW9VUkwgKyAnXCIgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPjwvZGl2PicpO1xuICAgICAgICAgICAgICAgICAgICAkdmlkZW9QYW5lbC5pbnNlcnRBZnRlcigkdmlkZW9MaW5rKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW9kYWxJRCA9IFwiVmlkZW9cIiArIGNvbXBvbmVudEluZGV4ICsgdmlkZW9JbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICR2aWRlb1BhbmVsID0gJGNvbXBvbmVudC5maW5kKFwiLmtvaC12aWRlby1wYW5lbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaW5pdEFzTW9kYWwoJHZpZGVvTGluaywgJHZpZGVvUGFuZWwsIHJlbW9kYWxJRCksXG4gICAgICAgICAgICAgICAgICAgICAgICAkdmlkZW9QYW5lbC5vbihcIm9wZW5lZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGVtYmVkZGVkVmlkZW8gPSAkKHRoaXMpLmZpbmQoXCJpZnJhbWVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXplUmVzcG9uc2l2ZVZpZGVvKCRlbWJlZGRlZFZpZGVvKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgICAgJHZpZGVvTGluay5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhcGlVUkwgJiYgJC5nZXQoYXBpVVJMLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuaXRlbXMgJiYgZGF0YS5pdGVtc1swXSAmJiBkYXRhLml0ZW1zWzBdLnNuaXBwZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2aWRlb1RpdGxlID0gZGF0YS5pdGVtc1swXS5zbmlwcGV0LnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9UaXRsZSAmJiAkdmlkZW9MaW5rLmNoaWxkcmVuKFwiLmtvaC12aWRlby10aXRsZVwiKS50ZXh0KHZpZGVvVGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfTtcblxuICAgIHZhciBtYWtlVmlkZW9SZXNwb25zaXZlID0gZnVuY3Rpb24oJHZpZGVvRWxlbWVudCkge1xuICAgICAgICB2YXIgYXNwZWN0UmF0aW8gPSAkdmlkZW9FbGVtZW50LmRhdGEoXCJhc3BlY3RyYXRpb1wiKTtcbiAgICAgICAgdmFyIG1heFdpZHRoID0gJHZpZGVvRWxlbWVudC5kYXRhKFwibWF4d2lkdGhcIik7XG4gICAgICAgIGlmICghYXNwZWN0UmF0aW8gfHwgIW1heFdpZHRoKSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSAkdmlkZW9FbGVtZW50LndpZHRoKCk7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gJHZpZGVvRWxlbWVudC5oZWlnaHQoKTtcbiAgICAgICAgICAgIHZhciBhc3BlY3RSYXRpbyA9IGhlaWdodCAvIHdpZHRoO1xuICAgICAgICAgICAgJHZpZGVvRWxlbWVudC5kYXRhKFwiYXNwZWN0cmF0aW9cIiwgYXNwZWN0UmF0aW8pO1xuICAgICAgICAgICAgJHZpZGVvRWxlbWVudC5kYXRhKFwibWF4d2lkdGhcIiwgd2lkdGgpO1xuICAgICAgICAgICAgJHZpZGVvRWxlbWVudC5yZW1vdmVBdHRyKFwid2lkdGhcIik7XG4gICAgICAgICAgICAkdmlkZW9FbGVtZW50LnJlbW92ZUF0dHIoXCJoZWlnaHRcIik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHJlc2l6ZVJlc3BvbnNpdmVWaWRlbyA9IGZ1bmN0aW9uKCR2aWRlb0VsZW1lbnQpIHtcbiAgICAgICAgdmFyIGVtYmVkVGFncyA9IFwiaWZyYW1lLCBvYmplY3QsIGVtYmVkXCI7XG4gICAgICAgIHZhciBhc3BlY3RSYXRpbyA9ICR2aWRlb0VsZW1lbnQuZGF0YShcImFzcGVjdHJhdGlvXCIpO1xuICAgICAgICB2YXIgbWF4V2lkdGggPSAkdmlkZW9FbGVtZW50LmRhdGEoXCJtYXh3aWR0aFwiKTtcbiAgICAgICAgYXNwZWN0UmF0aW8gJiYgbWF4V2lkdGggfHwgKG1ha2VWaWRlb1Jlc3BvbnNpdmUoJHZpZGVvRWxlbWVudCksIGFzcGVjdFJhdGlvID0gJHZpZGVvRWxlbWVudC5kYXRhKFwiYXNwZWN0cmF0aW9cIiksIG1heFdpZHRoID0gJHZpZGVvRWxlbWVudC5kYXRhKFwibWF4d2lkdGhcIikpO1xuICAgICAgICB2YXIgJHBhcmVudCA9ICR2aWRlb0VsZW1lbnQuY2xvc2VzdChcIjpub3QoXCIgKyBlbWJlZFRhZ3MgKyBcIilcIik7XG4gICAgICAgIHZhciByZXNwb25zaXZlV2lkdGggPSAzMjA7XG4gICAgICAgICRwYXJlbnQgJiYgKHJlc3BvbnNpdmVXaWR0aCA9ICRwYXJlbnQud2lkdGgoKSksXG4gICAgICAgICAgICByZXNwb25zaXZlV2lkdGggPSBNYXRoLm1pbihyZXNwb25zaXZlV2lkdGgsIG1heFdpZHRoKSxcbiAgICAgICAgICAgICR2aWRlb0VsZW1lbnQud2lkdGgocmVzcG9uc2l2ZVdpZHRoKSxcbiAgICAgICAgICAgICR2aWRlb0VsZW1lbnQuaGVpZ2h0KHJlc3BvbnNpdmVXaWR0aCAqIGFzcGVjdFJhdGlvKVxuICAgIH07XG5cbiAgICB2YXIgY2hhbmdlVXJsRGFtID0gZnVuY3Rpb24oZG9tYWluVXJsLCBsYXN0U2xhc2hJbmRleCwgaW1hZ2VVcmwsIGRhbU5hbWUpIHtcbiAgICAgICAgdmFyIGRlZkltZ0RvbWFpbldpdGhvdXREYW0gPSBkb21haW5Vcmwuc2xpY2UoMCwgbGFzdFNsYXNoSW5kZXgpO1xuICAgICAgICB2YXIgbmV3RG9tYWluVXJsID0gZGVmSW1nRG9tYWluV2l0aG91dERhbSArIFwiL1wiKyBkYW1OYW1lOyAgICBcbiAgICAgICAgaW1hZ2VVcmwgPSBpbWFnZVVybC5yZXBsYWNlKFwie2RvbWFpbn1cIiwgbmV3RG9tYWluVXJsKTtcbiAgICAgICAgaW1hZ2VVcmwgPSBpbWFnZVVybC5yZXBsYWNlQWxsKFwie2RhbX1cIiwgZGFtTmFtZSk7XG4gICAgICAgIGltYWdlVXJsID0gaW1hZ2VVcmwucmVwbGFjZShcInByb2R1Y3Rfc3JjPWlze1BBV0VCXCIsIFwicHJvZHVjdF9zcmM9aXN7a29obGVyY2hpbmFcIik7XG4gICAgICAgIHJldHVybiBpbWFnZVVybDtcbiAgICB9XG5cbiAgICB2YXIgZG9MYXp5TG9hZGluZyA9IGZ1bmN0aW9uKCRjb21wb25lbnRzKSB7XG4gICAgXHR0cnl7XG4gICAgXHRcdHZhciBzb3J0QnkgPSBnZXRTb3J0QnkoJGNvbXBvbmVudHMpO1xuICAgIFx0XHR2YXIgb3JkZXJCeSA9IGdldE9yZGVyQnkoJGNvbXBvbmVudHMpO1xuICAgIFx0XHRcbiAgICBcdFx0dmFyIGFjdGl2ZUZpbHRlcnMgPSBnZXRBY3RpdmVGaWx0ZXJzKCRjb21wb25lbnRzKTtcbiAgICBcdFx0dmFyIHF1ZXJ5UGFyYW1zID0ge307XG4gICAgXHRcdHZhclx0cXVlcnlQYXJhbUNvdW50ID0gMDtcbiAgICAgICAgICAgICQuZWFjaChhY3RpdmVGaWx0ZXJzLCBmdW5jdGlvbihmYWNldE5hbWUsIGZhY2V0VmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgZmFjZXROYW1lICYmIGZhY2V0VmFsdWVzICYmIChcIm9iamVjdFwiID09IHR5cGVvZiBmYWNldFZhbHVlcyA/ICQuZWFjaChmYWNldFZhbHVlcywgZnVuY3Rpb24oaW5kZXgsIGZhY2V0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwiTWluXCIgPT09IGluZGV4IHx8IFwiTWF4XCIgPT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1OYW1lID0gZmFjZXROYW1lICsgaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeVBhcmFtc1twYXJhbU5hbWVdID0gZmFjZXRWYWx1ZSwgcXVlcnlQYXJhbUNvdW50ICs9IDFcbiAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICB9KSA6IFwiXCIpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciB1cmwgPSBcIlwiO1xuICAgICAgICAgICAgJC5lYWNoKHF1ZXJ5UGFyYW1zLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBcdHVybCArPSBrZXkgKyBcIjpcIiArIHZhbHVlICsgXCIsXCJcbiAgICAgICAgICAgIH0pXG4gICAgXHRcdGlmKHVybCAhPT0gXCJcIil7XG4gICAgXHRcdFx0dXJsID0gdXJsLnN1YnN0cmluZygwLCB1cmwubGVuZ3RoIC0gMSk7XG4gICAgXHRcdH1cblx0ICAgIFx0dmFyIHByb2R1Y3RMaXN0TGF6eUxpbmsgPSAkKCcjcHJvZHVjdExpc3RMYXp5TGluaycpLnZhbCgpO1xuXHQgICAgXHR2YXIgdG90YWxQcm9kdWN0cyA9ICQoJyN0b3RhbFByb2R1Y3RzJykudmFsKCk7XG5cdCAgICBcdHZhciBwYWdlU2l6ZSA9ICQoJyNwYWdlU2l6ZScpLnZhbCgpO1xuXHQgICAgXHR2YXIgY3VycmVudFBhZ2UgPSAkKCcjY3VycmVudFBhZ2UnKS52YWwoKTtcblx0ICAgIFx0dmFyIGN1cnJlbnRTd2F0Y2ggPSAkKCcjY3VycmVudFN3YXRjaCcpLnZhbCgpO1xuXHQgICAgXHR2YXIgYWRkVG9Db21wYXJlTGluayA9ICQoJyNhZGRUb0NvbXBhcmVMaW5rJykudmFsKCk7XG5cdCAgICBcdHZhciBjb250ZXh0QmFzZSA9ICQoXCIjY29tcGFyZS1jb29raWUtaW5mb1wiKS5kYXRhKFwiY29va2llLW5hbWVcIilcblx0ICAgIFx0dmFyIGdyaWRJbWFnZVByb2R1Y3RVcmwgPSAkKCcjZ3JpZEltYWdlUHJvZHVjdFVybCcpLnZhbCgpO1xuXHQgICAgXHR2YXIgZ3JpZEltYWdlTmV3UHJvZHVjdFVybCA9ICQoJyNncmlkSW1hZ2VOZXdQcm9kdWN0VXJsJykudmFsKCk7XG5cdCAgICBcdHZhciBjb21tb25fZ2FsbGVyeU5ld1Byb2R1Y3RVcmwgPSAkKCcjY29tbW9uX2dhbGxlcnlOZXdQcm9kdWN0VXJsJykudmFsKCk7XG5cdCAgICBcdHZhciBjb21tb25fZ3JpZEltYWdlVXJsID0gJCgnI2NvbW1vbl9ncmlkSW1hZ2VVcmwnKS52YWwoKTtcblx0ICAgIFx0dmFyIGNvbW1vbl9nYWxsZXJ5UXVpY2tWaWV3TmV3UHJvZHVjdFVybCA9ICQoJyNjb21tb25fZ2FsbGVyeVF1aWNrVmlld05ld1Byb2R1Y3RVcmwnKS52YWwoKTtcblx0ICAgIFx0dmFyIGNvbW1vbl9wcm9kdWN0TGlzdFF1aWNrVmlld1VybCA9ICQoJyNjb21tb25fcHJvZHVjdExpc3RRdWlja1ZpZXdVcmwnKS52YWwoKTtcblx0ICAgIFx0dmFyIHByb2R1Y3REZXRhaWxzbGlua01haW4gPSAkKCcjcHJvZHVjdERldGFpbHNsaW5rJykudmFsKCk7XG5cdCAgICBcdHZhciBwcm9kdWN0TGlzdFF1aWNrVmlld1VybCA9ICQoJyNwcm9kdWN0TGlzdFF1aWNrVmlld1VybCcpLnZhbCgpO1xuXHQgICAgXHR2YXIgcXVpY2tWaWV3SW1hZ2VOZXdQcm9kdWN0VXJsID0gJCgnI3F1aWNrVmlld0ltYWdlTmV3UHJvZHVjdFVybCcpLnZhbCgpO1xuXHQgICAgXHR2YXIgcXVpY2t2aWV3ID0gJCgnI3F1aWNrdmlldycpLnZhbCgpO1xuXHQgICAgXHR2YXIgc2VsZWN0Q29sb3IgPSAkKCcjc2VsZWN0Q29sb3InKS52YWwoKTtcblx0ICAgIFx0dmFyIGltZ3N3YXRjaCA9ICQoJyNpbWdzd2F0Y2gnKS52YWwoKTtcblx0ICAgIFx0dmFyIGNvbXBhcmVCdXR0b25MYWJsZSA9ICQoJyNjb21wYXJlQnV0dG9uTGFibGUnKS52YWwoKTtcblx0ICAgIFx0dmFyIHJlbW92ZVByb2R1Y3QgPSAkKCcjcmVtb3ZlUHJvZHVjdCcpLnZhbCgpO1xuXHQgICAgXHR2YXIgYWRkQ29tcGFyZSA9ICQoJyNhZGRDb21wYXJlJykudmFsKCk7XG5cdCAgICBcdHZhciByZWxhdGl2ZUNvbnRlbnRQYXRoID0gJCgnI3JlbGF0aXZlQ29udGVudFBhdGgnKS52YWwoKTtcblx0ICAgIFx0dmFyIGJhbm5lckZsYWcgPSAkKCcjYmFubmVyRmxhZycpLnZhbCgpO1xuXHQgICAgXHR2YXIgYmFubmVyUHJvZHVjdENvdW50ID0gJCgnI2Jhbm5lclByb2R1Y3RDb3VudCcpLnZhbCgpO1xuXHQgICAgXHR2YXIgZGlzY29udGludWVkRGF0ZUxhYmVsID0gJCgnI2Rpc2NvbnRpbnVlZExhYmxlV2l0aFNrdScpLnZhbCgpO1xuXHQgICAgXHR2YXIgZGVmYXVsdENhdGVnb3J5S2V5ID0gJCgnI2RlZmF1bHRDYXRlZ29yeUtleScpLnZhbCgpO1xuXHQgICAgXHR2YXIgbGFzdFZpc2l0ZWRQYWdlID0gMDtcblx0ICAgIFx0dmFyIHdpbmRvd1Njcm9sbFRvcCA9IDA7XG5cdCAgICBcdGlmKHR5cGVvZihTdG9yYWdlKSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICBcdFx0bGFzdFZpc2l0ZWRQYWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJsYXN0VmlzaXRlZFBhZ2VcIilcblx0XHRcdFx0d2luZG93U2Nyb2xsVG9wID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJmYWNldFBhZ2VMYXN0U2Nyb2xsXCIpO1xuXHQgICAgXHR9XG4gICAgICAgIFx0JC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6IHByb2R1Y3RMaXN0TGF6eUxpbmssXG4gICAgICAgICAgICAgICAgY2FjaGU6ICExLFxuICAgICAgICAgICAgICAgIGRhdGE6IHsncmVsYXRpdmVDb250ZW50UGF0aCc6IHJlbGF0aXZlQ29udGVudFBhdGgsJ3RvdGFsUHJvZHVjdHMnOiB0b3RhbFByb2R1Y3RzLCAncGFnZVNpemUnOnBhZ2VTaXplLCAnY3VycmVudFBhZ2UnOiBjdXJyZW50UGFnZSwgICdsYXN0VmlzaXRlZFBhZ2UnIDogbGFzdFZpc2l0ZWRQYWdlLCAnc29ydCcgOiBzb3J0QnksICdvcmRlckJ5JyA6IG9yZGVyQnksICd1cmwnOiB1cmx9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7IFxuICAgICAgICAgICAgICAgIFx0aWYoZGF0YS5zdWNjZXNzID09IHRydWUpe1xuICAgICAgICAgICAgICAgIFx0XHRjdXJyZW50UGFnZSA9IGRhdGEuY3VycmVudFBhZ2U7XG4gICAgICAgICAgICAgICAgXHRcdHZhciBjdXJyZW50UGFnZUNsb25lID0gJCgnI2N1cnJlbnRQYWdlJykudmFsKCk7XG4gICAgICAgICAgICAgICAgXHRcdCQoJyNjdXJyZW50UGFnZScpLnZhbChjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICAgICAgXHRcdGlmKHR5cGVvZihTdG9yYWdlKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgXHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJsYXN0VmlzaXRlZFBhZ2VcIiwgY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgICAgIFx0XHR9XG4gICAgICAgICAgICAgICAgXHRcdGlmKChjdXJyZW50UGFnZSAqIHBhZ2VTaXplKSA+PSB0b3RhbFByb2R1Y3RzIHx8IGRhdGEuaXRlbXM9PT1cIlwiKXtcbiAgICAgICAgICAgICAgICBcdFx0XHQkKFwiI2tvaC1sb2FkLW1vcmVcIikudmFsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBcdFx0fVxuICAgICAgICAgICAgICAgIFx0XHR2YXIgbWFpbkxpc3Q9JChcIi5rb2gtc2VhcmNoLXJlc3VsdHNcIik7XG4gICAgICAgICAgICAgICAgXHRcdGZvcih2YXIgaT0wOyBpIDwgZGF0YS5pdGVtcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgXHRcdFx0YmFubmVyUHJvZHVjdENvdW50Kys7XG4gICAgICAgICAgICAgICAgXHRcdFx0dmFyIGRlZmF1bHRTa3VJZCA9IGRhdGEuaXRlbXNbaV0uREVGQVVMVF9TS1U7XG4gICAgICAgICAgICAgICAgXHRcdFx0dmFyIGRlZmF1bHRJbWFnZSAgPSBkYXRhLml0ZW1zW2ldLklNR19JU087XG4gICAgICAgICAgICAgICAgXHRcdFx0dmFyIGRlZmF1bHRTa3VDb2xvckZpbmlzaE5hbWUgPSBkYXRhLml0ZW1zW2ldLkNPTE9SX0ZJTklTSF9OQU1FO1xuICAgICAgICAgICAgICAgIFx0XHRcdHZhciBkZWZhdWx0U3dhdGNoID0gZGF0YS5pdGVtc1tpXS5JTUdfU1dBVENIIDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdFByaWNlID0gZGF0YS5pdGVtc1tpXS5QUk9EVUNUX1BSSUNFO1xuICAgICAgICAgICAgICAgIFx0XHRcdGlmKGRlZmF1bHRTa3VJZCA9PT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBcdFx0XHRcdGZvcih2YXIgaj0wOyBqIDwgZGF0YS5pdGVtc1tpXS5TS1VTLmxlbmd0aDsgaisrKXtcbiAgICAgICAgICAgICAgICBcdFx0XHRcdFx0aWYoZGF0YS5pdGVtc1tpXS5TS1VTW2pdLnNrdSAhPT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRkZWZhdWx0SW1hZ2UgPSBkYXRhLml0ZW1zW2ldLlNLVVNbal0uSU1HX0lURU1fSVNPO1xuICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdGRlZmF1bHRTa3VJZCA9IGRhdGEuaXRlbXNbaV0uU0tVU1tqXS5za3U7XG4gICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0ZGVmYXVsdFNrdUNvbG9yRmluaXNoTmFtZSA9IGRhdGEuaXRlbXNbaV0uU0tVU1tqXS5DT0xPUl9GSU5JU0hfTkFNRTtcbiAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRkZWZhdWx0U3dhdGNoID0gZGF0YS5pdGVtc1tpXS5TS1VTW2pdLklNR19TV0FUQ0ggXG4gICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0YnJlYWs7XG4gICAgICAgICAgICAgICAgXHRcdFx0XHRcdH1cbiAgICAgICAgICAgICAgICBcdFx0XHRcdH1cbiAgICAgICAgICAgICAgICBcdFx0XHR9XG4gICAgICAgICAgICAgICAgXHRcdFx0aWYoY3VycmVudFN3YXRjaCAhPT0gJycpe1xuICAgICAgICAgICAgICAgIFx0XHRcdFx0Zm9yKHZhciBqPTA7IGogPCBkYXRhLml0ZW1zW2ldLlNLVVMubGVuZ3RoOyBqKyspe1xuICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRpZihjdXJyZW50U3dhdGNoID09PSBkYXRhLml0ZW1zW2ldLlNLVVNbal0uSU1HX1NXQVRDSCl7XG4gICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0ZGVmYXVsdEltYWdlID0gZGF0YS5pdGVtc1tpXS5TS1VTW2pdLklNR19JVEVNX0lTTztcbiAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRkZWZhdWx0U2t1SWQgPSBkYXRhLml0ZW1zW2ldLlNLVVNbal0uc2t1O1xuICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdGRlZmF1bHRTa3VDb2xvckZpbmlzaE5hbWUgPSBkYXRhLml0ZW1zW2ldLlNLVVNbal0uQ09MT1JfRklOSVNIX05BTUU7XG4gICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0ZGVmYXVsdFN3YXRjaCA9IGRhdGEuaXRlbXNbaV0uU0tVU1tqXS5JTUdfU1dBVENIIFxuICAgICAgICAgICAgICAgIFx0XHRcdFx0XHR9XG4gICAgICAgICAgICAgICAgXHRcdFx0XHR9XG4gICAgICAgICAgICAgICAgXHRcdFx0fVxuICAgICAgICAgICAgICAgIFx0XHRcdHZhciBpbWFnZVVSTCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgXHRcdFx0dmFyIHF1aWNrVmlld0ltZyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgXHRcdFx0aWYoZGVmYXVsdEltYWdlID09PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkZWZhdWx0U2t1SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEltYWdlID0gXCJibGFua1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGo9MDsgaiA8IGRhdGEuaXRlbXNbaV0uU0tVUy5sZW5ndGg7IGorKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5pdGVtc1tpXS5TS1VTW2pdLnNrdSA9PT0gZGVmYXVsdFNrdUlkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEltYWdlID0gZGF0YS5pdGVtc1tpXS5TS1VTW2pdLklNR19JVEVNX0lTTyB8fCBcImJsYW5rXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgIFxuICAgICAgICAgICAgICAgIFx0XHRcdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwcm9kdWN0UHJpY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGo9MDsgaiA8IGRhdGEuaXRlbXNbaV0uU0tVUy5sZW5ndGg7IGorKyl7XG4gICAgICAgICAgICAgICAgXHRcdFx0XHRcdGlmKGRhdGEuaXRlbXNbaV0uU0tVU1tqXS5za3UgPT09IGRlZmF1bHRTa3VJZCl7XG4gICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0cHJvZHVjdFByaWNlID0gZGF0YS5pdGVtc1tpXS5TS1VTW2pdLlBST0RVQ1RfUFJJQ0U7XG4gICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0YnJlYWs7XG4gICAgICAgICAgICAgICAgXHRcdFx0XHRcdH1cbiAgICAgICAgICAgICAgICBcdFx0XHRcdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvdW5kUHJpY2UgPSBNYXRoLnJvdW5kKHByb2R1Y3RQcmljZSAqIHByaWNlVmF0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0UHJpY2UgPSAocm91bmRQcmljZSAqIG11bHRpcGxlVmFsdWUpLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFx0XHRcdGlmIChkZWZhdWx0SW1hZ2UgIT09IHVuZGVmaW5lZCAmJiBkZWZhdWx0SW1hZ2Uuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGxhc3RTbGFzaEluZGV4ID0gZGVmYXVsdEltYWdlLmxhc3RJbmRleE9mKCcvJyk7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgZGVmSW1nRnJvbVVybCA9IGRlZmF1bHRJbWFnZS5zbGljZShsYXN0U2xhc2hJbmRleCArIDEpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGRvbWFpblN0YXJ0SW5kZXggPSBkZWZhdWx0SW1hZ2UuaW5kZXhPZihcIi8vXCIpICsgMjtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBkZWZJbWdEb21haW5Gcm9tVXJsID0gZGVmYXVsdEltYWdlLnNsaWNlKGRvbWFpblN0YXJ0SW5kZXgsIGxhc3RTbGFzaEluZGV4KVxuXHRcdFx0XHRcdFx0XHRcdGxhc3RTbGFzaEluZGV4ID0gZGVmSW1nRG9tYWluRnJvbVVybC5sYXN0SW5kZXhPZignLycpO1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGRlZkltZ0RhbU5hbWVGcm9tVXJsID0gZGVmSW1nRG9tYWluRnJvbVVybC5zbGljZShsYXN0U2xhc2hJbmRleCArIDEpO1xuXHRcdFx0XHRcdFx0XHRcdGlmKGRhdGEuaXRlbXNbaV0uaXNOZXcgPT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aW1hZ2VVUkwgPSBjb21tb25fZ2FsbGVyeU5ld1Byb2R1Y3RVcmwucmVwbGFjZShcInswfVwiLCBkZWZJbWdGcm9tVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRlZkltZ0RhbU5hbWVGcm9tVXJsID09PSBcImtvaGxlcmNoaW5hXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVVSTCA9IGNoYW5nZVVybERhbShkZWZJbWdEb21haW5Gcm9tVXJsLCBsYXN0U2xhc2hJbmRleCwgaW1hZ2VVUkwsIFwiUEFXRUJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVUkwgPSBpbWFnZVVSTC5yZXBsYWNlKFwie2RvbWFpbn1cIiwgZGVmSW1nRG9tYWluRnJvbVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVUkwgPSBpbWFnZVVSTC5yZXBsYWNlQWxsKFwie2RhbX1cIiwgZGVmSW1nRGFtTmFtZUZyb21VcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0XHRxdWlja1ZpZXdJbWcgPSBjb21tb25fZ2FsbGVyeVF1aWNrVmlld05ld1Byb2R1Y3RVcmwucmVwbGFjZShcInswfVwiLCBkZWZJbWdGcm9tVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRlZkltZ0RhbU5hbWVGcm9tVXJsID09PSBcImtvaGxlcmNoaW5hXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWlja1ZpZXdJbWcgPSBjaGFuZ2VVcmxEYW0oZGVmSW1nRG9tYWluRnJvbVVybCwgbGFzdFNsYXNoSW5kZXgsIHF1aWNrVmlld0ltZywgXCJQQVdFQlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWlja1ZpZXdJbWcgPSBxdWlja1ZpZXdJbWcucmVwbGFjZShcIntkb21haW59XCIsIGRlZkltZ0RvbWFpbkZyb21VcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1aWNrVmlld0ltZyA9IHF1aWNrVmlld0ltZy5yZXBsYWNlQWxsKFwie2RhbX1cIiwgZGVmSW1nRGFtTmFtZUZyb21VcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGltYWdlVVJMID0gY29tbW9uX2dyaWRJbWFnZVVybC5yZXBsYWNlKFwiezB9XCIsIGRlZkltZ0Zyb21VcmwpO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYoZGVmSW1nRGFtTmFtZUZyb21VcmwgPT09IFwia29obGVyY2hpbmFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVVJMID0gY2hhbmdlVXJsRGFtKGRlZkltZ0RvbWFpbkZyb21VcmwsIGxhc3RTbGFzaEluZGV4LCBpbWFnZVVSTCwgXCJQQVdFQlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVVSTCA9IGltYWdlVVJMLnJlcGxhY2UoXCJ7ZG9tYWlufVwiLCBkZWZJbWdEb21haW5Gcm9tVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVVSTCA9IGltYWdlVVJMLnJlcGxhY2VBbGwoXCJ7ZGFtfVwiLCBkZWZJbWdEYW1OYW1lRnJvbVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRcdHF1aWNrVmlld0ltZyA9IGNvbW1vbl9wcm9kdWN0TGlzdFF1aWNrVmlld1VybC5yZXBsYWNlKFwiezB9XCIsIGRlZkltZ0Zyb21VcmwpO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYoZGVmSW1nRGFtTmFtZUZyb21VcmwgPT09IFwia29obGVyY2hpbmFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1aWNrVmlld0ltZyA9IGNoYW5nZVVybERhbShkZWZJbWdEb21haW5Gcm9tVXJsLCBsYXN0U2xhc2hJbmRleCwgcXVpY2tWaWV3SW1nLCBcIlBBV0VCXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1aWNrVmlld0ltZyA9IHF1aWNrVmlld0ltZy5yZXBsYWNlKFwie2RvbWFpbn1cIiwgZGVmSW1nRG9tYWluRnJvbVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVpY2tWaWV3SW1nID0gcXVpY2tWaWV3SW1nLnJlcGxhY2VBbGwoXCJ7ZGFtfVwiLCBkZWZJbWdEYW1OYW1lRnJvbVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgXHRcdFx0aWYoZGF0YS5pdGVtc1tpXS5pc05ldyA9PSB0cnVlKXtcblx0ICAgICAgICAgICAgICAgIFx0XHRcdFx0aW1hZ2VVUkwgPSBncmlkSW1hZ2VOZXdQcm9kdWN0VXJsLnJlcGxhY2UoXCJ7MH1cIiwgZGVmYXVsdEltYWdlKTtcblx0ICAgICAgICAgICAgICAgIFx0XHRcdFx0cXVpY2tWaWV3SW1nID0gcXVpY2tWaWV3SW1hZ2VOZXdQcm9kdWN0VXJsLnJlcGxhY2UoXCJ7MH1cIiwgZGVmYXVsdEltYWdlKTtcblx0ICAgICAgICAgICAgICAgIFx0XHRcdH1lbHNle1xuXHQgICAgICAgICAgICAgICAgXHRcdFx0XHRpbWFnZVVSTCA9IGdyaWRJbWFnZVByb2R1Y3RVcmwucmVwbGFjZShcInswfVwiLCBkZWZhdWx0SW1hZ2UpO1xuXHQgICAgICAgICAgICAgICAgXHRcdFx0XHRxdWlja1ZpZXdJbWcgPSBwcm9kdWN0TGlzdFF1aWNrVmlld1VybC5yZXBsYWNlKFwiezB9XCIsIGRlZmF1bHRJbWFnZSk7XG5cdCAgICAgICAgICAgICAgICBcdFx0XHR9XG5cdCAgICAgICAgICAgICAgICBcdFx0fVxuICAgICAgICAgICAgICAgIFx0XHRcdFxuICAgICAgICAgICAgICAgIFx0XHRcdHZhciBwcm9kdWN0RGV0YWlsTGluayA9IFwiXCI7XG4gICAgICAgICAgICAgICAgXHRcdFx0dmFyIG11bHRpQW5jZXN0b3JlZmF1bHRDYXRlZ29yeURhdGEgPSBcIlwiO1xuICAgICAgICAgICAgICAgIFx0XHRcdHZhciBkZWZhdWx0Q2F0ZWdvcnlJZk11bHRpcGxlID0gXCJcIjtcbiAgICAgICAgICAgICAgICBcdFx0XHR2YXIgcHJvZHVjdENhdGVnb3J5S2V5ID0gZGVmYXVsdENhdGVnb3J5S2V5O1xuICAgICAgICAgICAgICAgIFx0XHRcdGlmIChkZWZhdWx0Q2F0ZWdvcnlLZXkgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgXHRcdFx0XHRwcm9kdWN0Q2F0ZWdvcnlLZXkgPSBkYXRhLml0ZW1zW2ldLmNhdGVnb3J5O1xuICAgICAgICAgICAgICAgIFx0XHRcdH1cbiAgICAgICAgICAgICAgICBcdFx0XHRpZihkYXRhLml0ZW1zW2ldLmlzTXVsdGlwbGVBbmNlc3RvciA9PSB0cnVlKVxuICAgICAgICAgICAgICAgIFx0XHRcdHtcbiAgICAgICAgICAgICAgICBcdFx0XHRcdHByb2R1Y3REZXRhaWxMaW5rID0gcHJvZHVjdERldGFpbHNsaW5rTWFpbiArIFwiL1wiICsgZGF0YS5pdGVtc1tpXS5pdGVtTm8gKyBcIj9za3VpZD1cIiArIGRlZmF1bHRTa3VJZCArIFwiJmRlZmF1bHRDYXRlZ29yeT1cIiArIHByb2R1Y3RDYXRlZ29yeUtleTtcbiAgICAgICAgICAgICAgICBcdFx0XHRcdG11bHRpQW5jZXN0b3JlZmF1bHRDYXRlZ29yeURhdGEgPSBcIiBkYXRhLXByb2R1Y3QtaXRlbW5vLW11bHRpYW5zY2VzdG9ycz1cXFwiXCIrIGRhdGEuaXRlbXNbaV0uaXRlbU5vICsgXCIhX1wiKyBwcm9kdWN0Q2F0ZWdvcnlLZXkgKyBcIlxcXCJcIjtcbiAgICAgICAgICAgICAgICBcdFx0XHRcdGRlZmF1bHRDYXRlZ29yeUlmTXVsdGlwbGUgPSBwcm9kdWN0Q2F0ZWdvcnlLZXk7XG4gICAgICAgICAgICAgICAgXHRcdFx0fWVsc2V7XG4gICAgICAgICAgICAgICAgXHRcdFx0XHRwcm9kdWN0RGV0YWlsTGluayA9IHByb2R1Y3REZXRhaWxzbGlua01haW4gKyBcIi9cIiArIGRhdGEuaXRlbXNbaV0uaXRlbU5vICsgXCI/c2t1aWQ9XCIgKyBkZWZhdWx0U2t1SWQ7XG4gICAgICAgICAgICAgICAgXHRcdFx0XHRtdWx0aUFuY2VzdG9yZWZhdWx0Q2F0ZWdvcnlEYXRhID0gXCIgZGF0YS1wcm9kdWN0LWl0ZW1uby1tdWx0aWFuc2Nlc3RvcnM9XFxcIlwiKyBkYXRhLml0ZW1zW2ldLml0ZW1ObysgXCJcXFwiXCI7XG4gICAgICAgICAgICAgICAgXHRcdFx0fVxuICAgICAgICAgICAgICAgIFx0XHRcdFxuICAgICAgICAgICAgICAgIFx0XHRcdHZhciBkZXNjcmlwdGlvblNob3J0ID0gZGF0YS5pdGVtc1tpXS5ERVNDUklQVElPTl9QUk9EVUNUX1NIT1JUO1xuICAgICAgICAgICAgICAgIFx0XHRcdHZhciBicmFuZE5hbWUgPSBkYXRhLml0ZW1zW2ldLkJSQU5EX05BTUU7XG4gICAgICAgICAgICAgICAgXHRcdFx0aWYoZGVzY3JpcHRpb25TaG9ydCA9PT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBcdFx0XHRcdGRlc2NyaXB0aW9uU2hvcnQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIFx0XHRcdH1cbiAgICAgICAgICAgICAgICBcdFx0XHRpZihicmFuZE5hbWUgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5kTmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgXHRcdFx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW5jeUNvZGUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9kdWN0UHJpY2VTcGFuID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwcm9kdWN0UHJpY2UgIT09IHVuZGVmaW5lZCAmJiAhaXNOYU4ocm91bmRQcmljZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeUNvZGUgPSAkKFwiI2N1cnJlbmN5Q29kZVwiKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW5jeUNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFByaWNlU3BhbiA9IFwiPHNwYW4gY2xhc3M9XFxcImtvaC1wcm9kdWN0LXByaWNlXFxcIiBkYXRhLWtvaC1wcmljZT0nXCIgKyBwcm9kdWN0UHJpY2UgKyBcIic+XCIrIGN1cnJlbmN5Q29kZSArIFwiIFwiICsgcHJvZHVjdFByaWNlICsgXCI8L3NwYW4+XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgXHRcdFx0aWYobG9jYWxlVmFsdWUgPT09IFwiVEhcIil7XG4gICAgICAgICAgICAgICAgXHRcdFx0dmFyIGh0bWw9XCI8ZGl2IGNsYXNzPVxcXCJrb2gtcHJvZHVjdC10aWxlXFxcIj5cIiArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFwiPGRpdiBjbGFzcz1cXFwia29oLXByb2R1Y3QtdGlsZS1pbm5lclxcXCI+XCIgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPGRpdiBjbGFzcz1cXFwia29oLXByb2R1Y3QtdGlsZS1jb250ZW50XFxcIj5cIiArIFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8YSBocmVmPSdcIiArIHByb2R1Y3REZXRhaWxMaW5rICtcIicgZGF0YS1pZD0nXCIgKyBkYXRhLml0ZW1zW2ldLml0ZW1ObyArIFwiJyBkYXRhLWRlZmF1bHQtY2F0ZWdvcnk9J1wiICsgZGVmYXVsdENhdGVnb3J5SWZNdWx0aXBsZSArXCInIGRhdGEtcHJvZHVjdGxpbms9J1wiICsgcHJvZHVjdERldGFpbHNsaW5rTWFpbiArIFwiJyBkYXRhLXNrdWlkPSdcIisgZGVmYXVsdFNrdUlkICtcIic+XCIgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIjxkaXYgY2xhc3M9XFxcImtvaC1wcm9kdWN0LWltYWdlXFxcIj5cdFwiICtcblx0XHRcdFx0XHQgICAgICAgICAgICAgICAgICAgICBcdCAgICAgICAgICAgICAgXCI8aW1nIHNyYz0nXCIrIGltYWdlVVJMICtcIicgd2lkdGg9XFxcIjMwMFxcXCIgaGVpZ2h0PVxcXCIyMzJcXFwiIGFsdD0nXCIrYnJhbmROYW1lK1wiXCIrIGRlc2NyaXB0aW9uU2hvcnQgK1wiJz5cIiArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPC9kaXY+XCIgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIjxzcGFuIGNsYXNzPVxcXCJrb2gtcHJvZHVjdC1kZXNjcmlwdGlvblxcXCI+XCIgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPHNwYW4gY2xhc3M9XFxcImtvaC1wcm9kdWN0LWZhbWlseVxcXCI+XCIgKyAgYnJhbmROYW1lICtcIjwvc3Bhbj4mbmJzcFwiICtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdGlvblNob3J0ICtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCImbmJzcCA8L3NwYW4+XCIrXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPHNwYW4gY2xhc3M9XFxcImtvaC1wcm9kdWN0LXNrdVxcXCIgZGF0YS1wcm9kdWN0LXNrdT0nXCIgKyBkZWZhdWx0U2t1SWQgKyBcIic+Sy1cIiArIGRlZmF1bHRTa3VJZCArIFwiPC9zcGFuPlwiICtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvZHVjdFByaWNlU3BhbiArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIjwvYT5cIiArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8L2Rpdj5cIiArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8ZGl2IGNsYXNzPVxcXCJrb2gtcHJvZHVjdC10aWxlLWFjdGlvbnNcXFwiPlwiICtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPGRpdiBjbGFzcz1cXFwia29oLXByb2R1Y3QtcXVpY2stdmlld1xcXCIgZGF0YS1za3U9XFxcIlwiKyBkYXRhLml0ZW1zW2ldLml0ZW1ObyArXCJcXFwiPlwiICtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8YnV0dG9uIGNsYXNzPVxcXCJrb2gtcHJvZHVjdC1xdWljay12aWV3LWJ1dHRvblxcXCI+PHNwYW4gY2xhc3M9XFxcImxhYmVsXFxcIj5cIiArIHF1aWNrdmlldyArIFwiPC9zcGFuPjwvYnV0dG9uPlwiICtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8ZGl2IGNsYXNzPVxcXCJrb2gtcHJvZHVjdC1xdWljay12aWV3LXBhbmVsXFxcIj5cIiArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8ZGl2IGNsYXNzPVxcXCJrb2gtcHJvZHVjdC1pbWFnZVxcXCI+XCIgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8YSBocmVmPSdcIiArIHByb2R1Y3REZXRhaWxMaW5rICsgXCInIGlkPSdcIiArICBkYXRhLml0ZW1zW2ldLml0ZW1ObyArIFwiJyBkYXRhLWlkPSdcIiArIGRhdGEuaXRlbXNbaV0uaXRlbU5vICsgXCInIGRhdGEtZGVmYXVsdC1jYXRlZ29yeT0nXCIgKyBkZWZhdWx0Q2F0ZWdvcnlJZk11bHRpcGxlICsgXCInIGRhdGEtcHJvZHVjdGxpbms9J1wiICsgcHJvZHVjdERldGFpbHNsaW5rTWFpbiArIFwiJyBkYXRhLXNrdWlkPSdcIiArIGRlZmF1bHRTa3VJZCArXCInPlwiICtcblx0XHRcdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGltZyBzcmM9J1wiICsgcXVpY2tWaWV3SW1nICsgXCInIHdpZHRoPVxcXCI1NzBcXFwiIGhlaWdodD1cXFwiNDEzXFxcIiBhbHQ9J1wiICsgZGVmYXVsdFNrdUlkICsgXCInPlwiICtcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8L2E+XCIgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPC9kaXY+XCIgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPGRpdiBjbGFzcz1cXFwia29oLXByb2R1Y3QtY29udGVudFxcXCI+XCIgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8c3BhbiBjbGFzcz1cXFwia29oLXByb2R1Y3QtZGVzY3JpcHRpb25cXFwiPlwiICtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgXCI8YSBocmVmPSdcIiArIHByb2R1Y3REZXRhaWxMaW5rICsgXCInIGlkPSdcIiArIGRhdGEuaXRlbXNbaV0uaXRlbU5vICArIFwiJyBkYXRhLWlkPSdcIiArIGRhdGEuaXRlbXNbaV0uaXRlbU5vICArIFwiJyAgZGF0YS1kZWZhdWx0LWNhdGVnb3J5PSdcIiArIGRlZmF1bHRDYXRlZ29yeUlmTXVsdGlwbGUgKyBcIicgZGF0YS1wcm9kdWN0bGluaz0nXCIgKyBwcm9kdWN0RGV0YWlsc2xpbmtNYWluICsgXCInIGRhdGEtc2t1aWQ9J1wiICsgZGVmYXVsdFNrdUlkICtcIic+PHNwYW4gY2xhc3M9XFxcImtvaC1wcm9kdWN0LWZhbWlseVxcXCI+XCIgKyBicmFuZE5hbWUgKyBcIjwvc3Bhbj5cIisgZGVzY3JpcHRpb25TaG9ydCArIFwiPC9hPlwiICtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPC9zcGFuPlwiICtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPHNwYW4gY2xhc3M9XFxcImtvaC1wcm9kdWN0LXNrdVxcXCIgZGF0YS1wcm9kdWN0LXNrdT0nXCIgKyBkZWZhdWx0U2t1SWQrIFwiJz5LLVwiKyBkZWZhdWx0U2t1SWQrIFwiPC9zcGFuPlwiK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvZHVjdFByaWNlU3BhbiArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIjxkaXYgY2xhc3M9XFxcImtvaC1wcm9kdWN0LWNvbG9yc1xcXCI+XCIgKyBcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgICBcIjxzcGFuIGNsYXNzPVxcXCJrb2gtc2VsZWN0ZWQtY29sb3JcXFwiPlwiICsgXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgIFwiPHNwYW4gY2xhc3M9XFxcImxhYmVsXFxcIj5cIiArIHNlbGVjdENvbG9yICsgXCI8L3NwYW4+XCIrXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgIFwiPHNwYW4gY2xhc3M9XFxcInZhbHVlXFxcIj5cIiArIGRlZmF1bHRTa3VDb2xvckZpbmlzaE5hbWUgKyBcIjwvc3Bhbj5cIiArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgIFwiPHVsPlwiO1xuICAgICAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9ZWxzZXtcbiAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgaHRtbD1cIjxkaXYgY2xhc3M9XFxcImtvaC1wcm9kdWN0LXRpbGVcXFwiPlwiICtcbiAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIjxkaXYgY2xhc3M9XFxcImtvaC1wcm9kdWN0LXRpbGUtaW5uZXJcXFwiPlwiICtcbiAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPGRpdiBjbGFzcz1cXFwia29oLXByb2R1Y3QtdGlsZS1jb250ZW50XFxcIj5cIiArIFxuICAgICAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIjxhIGhyZWY9J1wiICsgcHJvZHVjdERldGFpbExpbmsgK1wiJyBkYXRhLWlkPSdcIiArIGRhdGEuaXRlbXNbaV0uaXRlbU5vICsgXCInIGRhdGEtZGVmYXVsdC1jYXRlZ29yeT0nXCIgKyBkZWZhdWx0Q2F0ZWdvcnlJZk11bHRpcGxlICtcIicgZGF0YS1wcm9kdWN0bGluaz0nXCIgKyBwcm9kdWN0RGV0YWlsc2xpbmtNYWluICsgXCInIGRhdGEtc2t1aWQ9J1wiKyBkZWZhdWx0U2t1SWQgK1wiJz5cIiArXG4gICAgICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8ZGl2IGNsYXNzPVxcXCJrb2gtcHJvZHVjdC1pbWFnZVxcXCI+XHRcIiArXG4gICAgICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgICAgICBcdCAgICAgICAgICAgICAgXCI8aW1nIHNyYz0nXCIrIGltYWdlVVJMICtcIicgd2lkdGg9XFxcIjMwMFxcXCIgaGVpZ2h0PVxcXCIyMzJcXFwiIGFsdD0nXCIgKyBkZWZhdWx0U2t1SWQgKyBcIic+XCIgK1xuICAgICAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPC9kaXY+XCIgK1xuICAgICAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPHNwYW4gY2xhc3M9XFxcImtvaC1wcm9kdWN0LWRlc2NyaXB0aW9uXFxcIj5cIiArXG4gICAgICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIjxzcGFuIGNsYXNzPVxcXCJrb2gtcHJvZHVjdC1mYW1pbHlcXFwiPlwiICsgIGJyYW5kTmFtZSArXCI8L3NwYW4+Jm5ic3BcIiArXG4gICAgICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdGlvblNob3J0ICtcbiAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIiZuYnNwIDwvc3Bhbj5cIitcbiAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIjxzcGFuIGNsYXNzPVxcXCJrb2gtcHJvZHVjdC1za3VcXFwiIGRhdGEtcHJvZHVjdC1za3U9J1wiICsgZGVmYXVsdFNrdUlkICsgXCInPkstXCIgKyBkZWZhdWx0U2t1SWQgKyBcIjwvc3Bhbj5cIiArXG4gICAgICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvZHVjdFByaWNlU3BhbiArXG4gICAgICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPC9hPlwiICtcbiAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPC9kaXY+XCIgK1xuICAgICAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XG4gICAgICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIjxkaXYgY2xhc3M9XFxcImtvaC1wcm9kdWN0LXRpbGUtYWN0aW9uc1xcXCI+XCIgK1xuICAgICAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIjxkaXYgY2xhc3M9XFxcImtvaC1wcm9kdWN0LXF1aWNrLXZpZXdcXFwiIGRhdGEtc2t1PVxcXCJcIisgZGF0YS5pdGVtc1tpXS5pdGVtTm8gK1wiXFxcIj5cIiArXG4gICAgICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8YnV0dG9uIGNsYXNzPVxcXCJrb2gtcHJvZHVjdC1xdWljay12aWV3LWJ1dHRvblxcXCI+PHNwYW4gY2xhc3M9XFxcImxhYmVsXFxcIj5cIiArIHF1aWNrdmlldyArIFwiPC9zcGFuPjwvYnV0dG9uPlwiICtcbiAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIjxkaXYgY2xhc3M9XFxcImtvaC1wcm9kdWN0LXF1aWNrLXZpZXctcGFuZWxcXFwiPlwiICtcbiAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPGRpdiBjbGFzcz1cXFwia29oLXByb2R1Y3QtaW1hZ2VcXFwiPlwiICtcbiAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8YSBocmVmPSdcIiArIHByb2R1Y3REZXRhaWxMaW5rICsgXCInIGlkPSdcIiArICBkYXRhLml0ZW1zW2ldLml0ZW1ObyArIFwiJyBkYXRhLWlkPSdcIiArIGRhdGEuaXRlbXNbaV0uaXRlbU5vICsgXCInIGRhdGEtZGVmYXVsdC1jYXRlZ29yeT0nXCIgKyBkZWZhdWx0Q2F0ZWdvcnlJZk11bHRpcGxlICsgXCInIGRhdGEtcHJvZHVjdGxpbms9J1wiICsgcHJvZHVjdERldGFpbHNsaW5rTWFpbiArIFwiJyBkYXRhLXNrdWlkPSdcIiArIGRlZmF1bHRTa3VJZCArXCInPlwiICtcbiAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8aW1nIHNyYz0nXCIgKyBxdWlja1ZpZXdJbWcgKyBcIicgd2lkdGg9XFxcIjU3MFxcXCIgaGVpZ2h0PVxcXCI0MTNcXFwiIGFsdD0nXCIgKyBkZWZhdWx0U2t1SWQgKyBcIic+XCIgK1xuICAgICAgICAgICAgXHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPC9hPlwiICtcbiAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPC9kaXY+XCIgK1xuICAgICAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8ZGl2IGNsYXNzPVxcXCJrb2gtcHJvZHVjdC1jb250ZW50XFxcIj5cIiArXG4gICAgICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPHNwYW4gY2xhc3M9XFxcImtvaC1wcm9kdWN0LWRlc2NyaXB0aW9uXFxcIj5cIiArXG4gICAgICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgXCI8YSBocmVmPSdcIiArIHByb2R1Y3REZXRhaWxMaW5rICsgXCInIGlkPSdcIiArIGRhdGEuaXRlbXNbaV0uaXRlbU5vICArIFwiJyBkYXRhLWlkPSdcIiArIGRhdGEuaXRlbXNbaV0uaXRlbU5vICArIFwiJyAgZGF0YS1kZWZhdWx0LWNhdGVnb3J5PSdcIiArIGRlZmF1bHRDYXRlZ29yeUlmTXVsdGlwbGUgKyBcIicgZGF0YS1wcm9kdWN0bGluaz0nXCIgKyBwcm9kdWN0RGV0YWlsc2xpbmtNYWluICsgXCInIGRhdGEtc2t1aWQ9J1wiICsgZGVmYXVsdFNrdUlkICtcIic+PHNwYW4gY2xhc3M9XFxcImtvaC1wcm9kdWN0LWZhbWlseVxcXCI+XCIgKyBicmFuZE5hbWUgKyBcIjwvc3Bhbj5cIisgZGVzY3JpcHRpb25TaG9ydCArIFwiPC9hPlwiICtcbiAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8L3NwYW4+XCIgK1xuICAgICAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIjxzcGFuIGNsYXNzPVxcXCJrb2gtcHJvZHVjdC1za3VcXFwiIGRhdGEtcHJvZHVjdC1za3U9J1wiICsgZGVmYXVsdFNrdUlkKyBcIic+Sy1cIisgZGVmYXVsdFNrdUlkKyBcIjwvc3Bhbj5cIitcbiAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvZHVjdFByaWNlU3BhbiArXG4gICAgICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPGRpdiBjbGFzcz1cXFwia29oLXByb2R1Y3QtY29sb3JzXFxcIj5cIiArIFxuICAgICAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgXCI8c3BhbiBjbGFzcz1cXFwia29oLXNlbGVjdGVkLWNvbG9yXFxcIj5cIiArIFxuICAgICAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgIFwiPHNwYW4gY2xhc3M9XFxcImxhYmVsXFxcIj5cIiArIHNlbGVjdENvbG9yICsgXCI8L3NwYW4+XCIrXG4gICAgICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgXCI8c3BhbiBjbGFzcz1cXFwidmFsdWVcXFwiPlwiICsgZGVmYXVsdFNrdUNvbG9yRmluaXNoTmFtZSArIFwiPC9zcGFuPlwiICtcbiAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICBcIjx1bD5cIjtcbiAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG4gICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgIGh0bWxTdWIgPSBcIlwiO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgXHRcdFx0Zm9yKHZhciBqPTA7IGogPCBkYXRhLml0ZW1zW2ldLlNLVVMubGVuZ3RoOyBqKyspe1xuXHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdHZhciBpbWFnZSA9IGRhdGEuaXRlbXNbaV0uU0tVU1tqXS5JTUdfSVRFTV9JU087XG5cdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0dmFyIHNrdUlkID0gZGF0YS5pdGVtc1tpXS5TS1VTW2pdLnNrdTtcblx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHR2YXIgc2t1Q29sb3JGaW5pc2hOYW1lID0gZGF0YS5pdGVtc1tpXS5TS1VTW2pdLkNPTE9SX0ZJTklTSF9OQU1FO1xuXHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdHZhciBza3VJbWdTd2F0Y2ggPSBkYXRhLml0ZW1zW2ldLlNLVVNbal0uSU1HX1NXQVRDSFxuXHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdHZhciBkaXNjb250aW51ZWREYXRlID0gXCJcIjtcblx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHR2YXIgZGlzY29udGludWVkRGF0ZUNsYXNzID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2t1SXRlbVByaWNlID0gZGF0YS5pdGVtc1tpXS5TS1VTW2pdLlBST0RVQ1RfUFJJQ0U7XG5cdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0dHJ5e1xuXHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0ZGlzY29udGludWVkRGF0ZSA9IGRhdGEuaXRlbXNbaV0uU0tVU1tqXS5ESVNDT05USU5VRURfREFURTtcblx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRcdGlmKGRpc2NvbnRpbnVlZERhdGUgIT0gdW5kZWZpbmVkICYmIGRpc2NvbnRpbnVlZERhdGUgIT09IFwiXCIpe1xuXHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRza3VDb2xvckZpbmlzaE5hbWUgPSBza3VDb2xvckZpbmlzaE5hbWUgKyBcIiAoXCIrIGRpc2NvbnRpbnVlZERhdGVMYWJlbCArIFwiKVwiO1xuXHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRkaXNjb250aW51ZWREYXRlQ2xhc3MgPSBcImtvaC1kaXNjb250aW51ZWRcIjtcblx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHR9Y2F0Y2goZXgpe1xuXHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRpZihpbWFnZSA9PT0gdW5kZWZpbmVkKXtcblx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRcdGltYWdlID0gXCJibGFua1wiO1xuXHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRpZihza3VJZCA9PT0gdW5kZWZpbmVkKXtcblx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRcdHNrdUlkID0gXCJcIjtcblx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0aWYoc2t1Q29sb3JGaW5pc2hOYW1lID09PSB1bmRlZmluZWQpe1xuXHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0c2t1Q29sb3JGaW5pc2hOYW1lID0gXCJcIjtcblx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0aWYoc2t1SW1nU3dhdGNoID09PSB1bmRlZmluZWQpe1xuXHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0c2t1SW1nU3dhdGNoID0gXCJcIjtcblx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0dmFyIHNlbGVjdGVkU3dhdGNoQ2xhc3MgPSBcIlwiIDsgXG5cdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0aWYoZGVmYXVsdFN3YXRjaCA9PT0gZGF0YS5pdGVtc1tpXS5TS1VTW2pdLklNR19TV0FUQ0gpe1xuXHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRTd2F0Y2hDbGFzcyA9IFwia29oLXNlbGVjdGVkLXZhcmlhbnRcIjtcblx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0dmFyIHF1aWNrVmlld0ltZ1N1YiA9IFwiXCI7XG5cdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0aWYgKGltYWdlLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBsYXN0U2xhc2hJbmRleCA9IGltYWdlLmxhc3RJbmRleE9mKCcvJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgZGVmSW1nRnJvbVVybCA9IGltYWdlLnNsaWNlKGxhc3RTbGFzaEluZGV4ICsgMSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgZG9tYWluU3RhcnRJbmRleCA9IGltYWdlLmluZGV4T2YoXCIvL1wiKSArIDI7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgZGVmSW1nRG9tYWluRnJvbVVybCA9IGltYWdlLnNsaWNlKGRvbWFpblN0YXJ0SW5kZXgsIGxhc3RTbGFzaEluZGV4KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGxhc3RTbGFzaEluZGV4ID0gZGVmSW1nRG9tYWluRnJvbVVybC5sYXN0SW5kZXhPZignLycpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGRlZkltZ0RhbU5hbWVGcm9tVXJsID0gZGVmSW1nRG9tYWluRnJvbVVybC5zbGljZShsYXN0U2xhc2hJbmRleCArIDEpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKGRhdGEuaXRlbXNbaV0uaXNOZXcgPT0gdHJ1ZSl7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRcdHF1aWNrVmlld0ltZ1N1YiA9IGNvbW1vbl9nYWxsZXJ5UXVpY2tWaWV3TmV3UHJvZHVjdFVybC5yZXBsYWNlKFwiezB9XCIsIGRlZkltZ0Zyb21VcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGVmSW1nRGFtTmFtZUZyb21VcmwgPT09IFwia29obGVyY2hpbmFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1aWNrVmlld0ltZ1N1YiA9IGNoYW5nZVVybERhbShkZWZJbWdEb21haW5Gcm9tVXJsLCBsYXN0U2xhc2hJbmRleCwgcXVpY2tWaWV3SW1nU3ViLCBcIlBBV0VCXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1aWNrVmlld0ltZ1N1YiA9IHF1aWNrVmlld0ltZ1N1Yi5yZXBsYWNlKFwie2RvbWFpbn1cIiwgZGVmSW1nRG9tYWluRnJvbVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVpY2tWaWV3SW1nU3ViID0gcXVpY2tWaWV3SW1nU3ViLnJlcGxhY2VBbGwoXCJ7ZGFtfVwiLCBkZWZJbWdEYW1OYW1lRnJvbVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHR9ZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRcdHF1aWNrVmlld0ltZ1N1YiA9IGNvbW1vbl9wcm9kdWN0TGlzdFF1aWNrVmlld1VybC5yZXBsYWNlKFwiezB9XCIsIGRlZkltZ0Zyb21VcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGVmSW1nRGFtTmFtZUZyb21VcmwgPT09IFwia29obGVyY2hpbmFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1aWNrVmlld0ltZ1N1YiA9IGNoYW5nZVVybERhbShkZWZJbWdEb21haW5Gcm9tVXJsLCBsYXN0U2xhc2hJbmRleCwgcXVpY2tWaWV3SW1nU3ViLCBcIlBBV0VCXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1aWNrVmlld0ltZ1N1YiA9IHF1aWNrVmlld0ltZ1N1Yi5yZXBsYWNlKFwie2RvbWFpbn1cIiwgZGVmSW1nRG9tYWluRnJvbVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVpY2tWaWV3SW1nU3ViID0gcXVpY2tWaWV3SW1nU3ViLnJlcGxhY2VBbGwoXCJ7ZGFtfVwiLCBkZWZJbWdEYW1OYW1lRnJvbVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRpZihkYXRhLml0ZW1zW2ldLmlzTmV3ID09IHRydWUpe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0XHRxdWlja1ZpZXdJbWdTdWIgPSBxdWlja1ZpZXdJbWFnZU5ld1Byb2R1Y3RVcmwucmVwbGFjZShcInswfVwiLCBpbWFnZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHR9ZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRcdHF1aWNrVmlld0ltZ1N1YiA9IHByb2R1Y3RMaXN0UXVpY2tWaWV3VXJsLnJlcGxhY2UoXCJ7MH1cIiwgaW1hZ2UpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb3VuZFByaWNlID0gTWF0aC5yb3VuZChza3VJdGVtUHJpY2UgKiBwcmljZVZhdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2t1SXRlbVByaWNlID0gKHJvdW5kUHJpY2UgKiBtdWx0aXBsZVZhbHVlKS50b0xvY2FsZVN0cmluZygnZW4tVVMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3dhdGNoSW1hZ2VVUkwgPSBpbWdzd2F0Y2gucmVwbGFjZShcInswfVwiLCBza3VJbWdTd2F0Y2gpO1xuXHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgICAgICAgIFx0XHRcdFx0XHRcdGh0bWxTdWIgKz0gXCI8bGk+XCIrICAgXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgICAgIFwiPHNwYW4gY2xhc3M9XFxcImtvaC1wcm9kdWN0LXZhcmlhbnQgXCIgKyBzZWxlY3RlZFN3YXRjaENsYXNzICsgZGlzY29udGludWVkRGF0ZUNsYXNzICsgXCJcXFwiIGRhdGEta29oLWltYWdlPVxcXCJcIiArIHF1aWNrVmlld0ltZ1N1YiArIFwiXFxcIiBkYXRhLWtvaC1za3U9XFxcIlwiKyBza3VJZCArXCJcXFwiIGRhdGEta29oLXNrdS1rPVxcXCJLLVwiICsgc2t1SWQgKyBcIlxcXCIgZGF0YS1rb2gtY29sb3I9XFxcIlwiKyBza3VDb2xvckZpbmlzaE5hbWUgKyBcIlxcXCIgKyBkYXRhLWtvaC1wcmljZT1cXFwiXCIrY3VycmVuY3lDb2RlK1wiIFwiKyBza3VJdGVtUHJpY2UgKyBcIlxcXCIgKyBkYXRhLWRlZmF1bHQtY2F0ZWdvcnk9XFxcIlwiICsgZGVmYXVsdENhdGVnb3J5SWZNdWx0aXBsZSArIFwiXFxcIj5cIitcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgIFwiPGJ1dHRvbiBjbGFzcz1cXFwia29oLXByb2R1Y3QtY29sb3JcXFwiIGRhdGEtaGFzcXRpcD1cXFwiXCIrIHNrdUltZ1N3YXRjaCArXCJcXFwiPlwiK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8aW1nIHNyYz1cXFwiXCIrIHN3YXRjaEltYWdlVVJMICsgXCJcXFwiIHdpZHRoPVxcXCIyOFxcXCIgaGVpZ2h0PVxcXCIyOFxcXCIgYWx0PVxcXCJcIisgc2t1SWQrIFwiXFxcIj4gXCIrXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8c3BhbiBjbGFzcz1cXFwibGFiZWxcXFwiPlwiICsgc2t1Q29sb3JGaW5pc2hOYW1lICtcIjwvc3Bhbj5cIitcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgIFwiPC9idXR0b24+XCIrXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgICAgIFwiPC9zcGFuPlwiK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICAgICAgICAgIFwiPC9saT5cIjtcblx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICBcdFx0XHRcdH1cbiAgICAgICAgICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdCBcblx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICBodG1sICs9XHRodG1sU3ViICsgXCI8L3VsPlwiICtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ICAgICAgICBcdFx0XHRcdFwiPC9kaXY+XCIgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgICAgICAgXCI8ZGl2IGNsYXNzPVxcXCJrb2gtcHJvZHVjdC10b29sc1xcXCI+XCIgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPGEgZGF0YS1ocmVmPVxcXCJcIiArIGFkZFRvQ29tcGFyZUxpbmsgKyBcIlxcXCIgY2xhc3M9XFxcImtvaC1jb21wYXJlLWFkZCBrb2gtY29tcGFyZS1idXR0b24tdGlsZSBhZGRfXCIgKyBkYXRhLml0ZW1zW2ldLml0ZW1ObyArXCJcXFwiIGRhdGEtcHJvZHVjdC1pdGVtbm89XFxcIlwiICsgZGF0YS5pdGVtc1tpXS5pdGVtTm8gK1wiXFxcIiBkYXRhLWNhdGVnb3J5PVxcXCJcIiArIHByb2R1Y3RDYXRlZ29yeUtleSArXCJcXFwiXCIrIG11bHRpQW5jZXN0b3JlZmF1bHRDYXRlZ29yeURhdGEgKyBcIj5cIisgY29tcGFyZUJ1dHRvbkxhYmxlICtcIjwvYT5cIiArXG5cdFx0XHRcdCAgICAgICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8YSBkYXRhLWhyZWY9XFxcIlwiICsgYWRkVG9Db21wYXJlTGluayArIFwiXFxcIiBjbGFzcz1cXFwia29oLWNvbXBhcmUtcmVtb3ZlcyBrb2gtY29tcGFyZS1idXR0b24tdGlsZSByZW1vdmVfXCIgKyBkYXRhLml0ZW1zW2ldLml0ZW1ObyArXCJcXFwiIGRhdGEtcHJvZHVjdC1pdGVtbm89XFxcIlwiICsgZGF0YS5pdGVtc1tpXS5pdGVtTm8gK1wiXFxcIiBkYXRhLWNhdGVnb3J5PVxcXCJcIiArIHByb2R1Y3RDYXRlZ29yeUtleSArXCJcXFwiXCIrIG11bHRpQW5jZXN0b3JlZmF1bHRDYXRlZ29yeURhdGEgKyBcIj5cIisgY29tcGFyZUJ1dHRvbkxhYmxlICtcIjwvYT5cIiArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPC9kaXY+XCIgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8L2Rpdj5cIiArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8L2Rpdj5cIiArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiPC9kaXY+XCIgK1x0XHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8YSBkYXRhLWhyZWY9J1wiKyBhZGRUb0NvbXBhcmVMaW5rICsgXCInIGNsYXNzPVxcXCJrb2gtY29tcGFyZS1hZGQga29oLWNvbXBhcmUtYnV0dG9uLXRpbGUgYWRkX1wiICsgZGF0YS5pdGVtc1tpXS5pdGVtTm8gK1wiXFxcIiBkYXRhLXByb2R1Y3QtaXRlbW5vPSdcIiArIGRhdGEuaXRlbXNbaV0uaXRlbU5vICsgXCInICBkYXRhLWNhdGVnb3J5PSdcIiArIHByb2R1Y3RDYXRlZ29yeUtleSArIFwiJ1wiKyBtdWx0aUFuY2VzdG9yZWZhdWx0Q2F0ZWdvcnlEYXRhICsgXCI+XCIrIGFkZENvbXBhcmUgK1wiPC9hPlwiKyBcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgICBcIjxhIGRhdGEtaHJlZj0nXCIgKyBhZGRUb0NvbXBhcmVMaW5rICsgXCInIGNsYXNzPVxcXCJrb2gtY29tcGFyZS1yZW1vdmVzIGtvaC1jb21wYXJlLWJ1dHRvbi10aWxlIHJlbW92ZV9cIiArIGRhdGEuaXRlbXNbaV0uaXRlbU5vICtcIlxcXCIgZGF0YS1wcm9kdWN0LWl0ZW1ubz0nXCIgKyBkYXRhLml0ZW1zW2ldLml0ZW1ObyArIFwiJyAgZGF0YS1jYXRlZ29yeT0nXCIgKyBwcm9kdWN0Q2F0ZWdvcnlLZXkgKyBcIidcIisgbXVsdGlBbmNlc3RvcmVmYXVsdENhdGVnb3J5RGF0YSArIFwiPlwiKyByZW1vdmVQcm9kdWN0ICtcIjwvYT4gXCIrXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCI8L2Rpdj5cIiArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFwiPC9kaXY+XCIgK1xuXHRcdFx0XHRcdFx0XHRcdFx0XCI8L2Rpdj5cIjtcdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW5MaXN0LmFwcGVuZChodG1sKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigoYmFubmVyUHJvZHVjdENvdW50ICUgMTEgPT0gMCkgJiYgKGJhbm5lckZsYWcgPT09ICd0cnVlJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0dmFyIHByb21vQmFubmVyID0gJChcIi5rb2gtcHJvZHVjdC10aWxlLmtvaC1ncmlkLXByb21vLWJhbm5lclwiKS5lcSgwKS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx0bWFpbkxpc3QuYXBwZW5kKHByb21vQmFubmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdGJhbm5lclByb2R1Y3RDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcdFx0fVxuICAgICAgICAgICAgICAgIFx0XHR0cnkge1xuXHQgICAgICAgICAgICAgICAgXHRcdGlmICgoY3VycmVudFBhZ2UgLSBjdXJyZW50UGFnZUNsb25lKSA+IDEgKSB7XG5cdCAgICAgICAgICAgICAgICBcdFx0XHRpZih0eXBlb2YoU3RvcmFnZSkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHQkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiB3aW5kb3dTY3JvbGxUb3B9LCAxMDAwLCBmdW5jdGlvbigpe1xuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBcdFx0fVxuICAgICAgICAgICAgICAgIFx0XHR9Y2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgXHRcdFx0XG4gICAgICAgICAgICAgICAgXHRcdH1cbiAgICAgICAgICAgICAgICBcdFx0YXhLT0gubWFpbi5wcm9kdWN0RmFjZXRlZFNlYXJjaC5pbml0aWFsaXplTGF6eSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXhLT0gubWFpbi5pc0xhenlMb2FkZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2Jhbm5lclByb2R1Y3RDb3VudCcpLnZhbChiYW5uZXJQcm9kdWN0Q291bnQpO1xuICAgICAgICAgICAgICAgIFx0fVxuICAgICAgICAgICAgICAgIH1cbiAgICBcdCAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgXHQgICAgICAgIFxuICAgIFx0ICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcbiAgICBcdCAgICAgICAgfSkgXG4gICAgXHR9Y2F0Y2goZXgpe1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB2YXIgc2hvd0hpZGVGaWx0ZXJzID0gZnVuY3Rpb24oJGNvbXBvbmVudHMpIHtcbiAgICBcdGlmICgkY29tcG9uZW50cykge1xuICAgIFx0XHR2YXIgJGxlc3NGaWx0ZXJCdXR0b24gPSAkY29tcG9uZW50cy5maW5kKFwiLmNhdGVnb3JpZXMtYW5kLWZpbHRlcnNfX2xlc3MtZmlsdGVycy1saW5rXCIpO1xuICAgIFx0XHR2YXIgJG1vcmVGaWx0ZXJCdXR0b24gPSAkY29tcG9uZW50cy5maW5kKFwiLmNhdGVnb3JpZXMtYW5kLWZpbHRlcnNfX21vcmUtZmlsdGVycy1saW5rXCIpO1xuICAgIFx0XHRpZiAoJGxlc3NGaWx0ZXJCdXR0b24gJiYgJG1vcmVGaWx0ZXJCdXR0b24pIHtcbiAgICBcdFx0XHR2YXIgJHNob3dNb3JlRHJvcERvd24gPSAkY29tcG9uZW50cy5maW5kKFwiLnNob3dNb3JlRHJvcGRvd25zXCIpO1xuICAgIFx0XHRcdGlmICgkc2hvd01vcmVEcm9wRG93bikge1xuXHQgICAgXHRcdFx0JGxlc3NGaWx0ZXJCdXR0b24ub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG5cdCAgICBcdFx0XHRcdGUucHJldmVudERlZmF1bHQgKCk7XG5cdCAgICBcdFx0XHRcdCRsZXNzRmlsdGVyQnV0dG9uLnRvZ2dsZSgpO1xuXHQgICAgXHRcdFx0XHR2YXIgbGVuZ3RoID0gJHNob3dNb3JlRHJvcERvd24ubGVuZ3RoO1xuXHQgICAgXHRcdFx0XHQkc2hvd01vcmVEcm9wRG93bi5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG5cdCAgICBcdFx0XHRcdFx0JCh0aGlzKS5zbGlkZVVwKFwic2xvd1wiLCBcInN3aW5nXCIsIGZ1bmN0aW9uKCl7XG5cdCAgICBcdFx0XHRcdFx0XHRpZiAoaW5kZXggPT09IChsZW5ndGggLSAxKSkge1xuXHRcdCAgICBcdFx0XHRcdFx0XHQkbW9yZUZpbHRlckJ1dHRvbi50b2dnbGUoKTtcblx0XHQgICAgXHRcdFx0XHRcdH1cblx0ICAgIFx0XHRcdFx0XHR9KTtcblx0ICAgIFx0XHRcdCAgICB9KTtcblx0ICAgIFx0ICAgICAgICB9KTtcblx0ICAgIFx0XHRcdFxuXHQgICAgXHRcdFx0JG1vcmVGaWx0ZXJCdXR0b24ub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG5cdCAgICBcdFx0XHRcdGUucHJldmVudERlZmF1bHQgKCk7XG5cdCAgICBcdFx0XHRcdCRtb3JlRmlsdGVyQnV0dG9uLnRvZ2dsZSgpO1xuXHQgICAgXHRcdFx0XHR2YXIgbGVuZ3RoID0gJHNob3dNb3JlRHJvcERvd24ubGVuZ3RoO1xuXHQgICAgXHRcdFx0XHQkc2hvd01vcmVEcm9wRG93bi5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XG5cdCAgICBcdFx0XHRcdFx0JCh0aGlzKS5zbGlkZURvd24oXCJzbG93XCIsIFwic3dpbmdcIiwgZnVuY3Rpb24oKXtcblx0ICAgIFx0XHRcdFx0XHRcdGlmIChpbmRleCA9PT0gKGxlbmd0aCAtIDEpKSB7XG5cdCAgICBcdFx0XHRcdFx0XHRcdCRsZXNzRmlsdGVyQnV0dG9uLnRvZ2dsZSgpO1xuXHRcdCAgICBcdFx0XHRcdFx0fVxuXHQgICAgXHRcdFx0XHRcdH0pO1xuXHQgICAgXHRcdFx0ICAgIH0pO1xuXHQgICAgXHQgICAgICAgIH0pO1xuICAgIFx0XHRcdH1cdFxuICAgIFx0XHR9XG4gICAgXHR9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkY29tcG9uZW50cyA9ICQoXCIuXCIgKyBjb21wb25lbnRDbGFzcyk7XG4gICAgICAgICAgICBpbml0U2VhcmNoTmF2KCRjb21wb25lbnRzKSwgaW5pdEZpbHRlckV4cGFuZENvbGxhcHNlKCRjb21wb25lbnRzKSwgaW5pdFJhbmdlU2xpZGVycygkY29tcG9uZW50cyksIGluaXRDb21wYXJlQnV0dG9ucygkY29tcG9uZW50cyksIGluaXRRdWlja1ZpZXcoJGNvbXBvbmVudHMpLCBpbml0VG9vbHRpcHMoJGNvbXBvbmVudHMpLCBpbml0RHJvcGRvd25zKCRjb21wb25lbnRzKSwgaW5pdFNlYXJjaEZhY2V0cygkY29tcG9uZW50cyksIGluaXRTcGVjVG9nZ2xlKCksIGluaXRQcm9kdWN0VmlkZW9zKCRjb21wb25lbnRzKSwgaW5pdE1hcmtldEF2YWlsYWJpbGl0eVRvcCAoJGNvbXBvbmVudHMpLCBpbml0UExQUHJvZHVjdENsaWNrICgkY29tcG9uZW50cyksIHNob3dIaWRlRmlsdGVycygkY29tcG9uZW50cylcbiAgICAgICAgfSxcbiAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vbG9hZFNjcm9sbFBvc2l0aW9uKClcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbGl6ZUxhenk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICRjb21wb25lbnRzID0gJChcIi5cIiArIGNvbXBvbmVudENsYXNzKTtcbiAgICAgICAgICAgIGluaXRDb21wYXJlQnV0dG9ucygkY29tcG9uZW50cyksIGluaXRRdWlja1ZpZXcoJGNvbXBvbmVudHMpLCBpbml0VG9vbHRpcHMoJGNvbXBvbmVudHMpLCBpbml0U3BlY1RvZ2dsZSgpLCAgaW5pdFBMUFByb2R1Y3RDbGljayAoJGNvbXBvbmVudHMpXG4gICAgICAgIH0sXG4gICAgICAgIHNjcm9sbFBhZ2U6IGZ1bmN0aW9uKHdpbmRvd0xhc3RTY3JvbGwpIHtcbiAgICAgICAgXHRpZiAod2luZG93TGFzdFNjcm9sbCAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93TGFzdFNjcm9sbCA+IDApIHtcbiAgICAgICAgICAgIFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJmYWNldFBhZ2VMYXN0U2Nyb2xsXCIsIHdpbmRvd0xhc3RTY3JvbGwpO1xuICAgICAgICBcdH0gZWxzZSB7XG4gICAgICAgIFx0XHRpZih0eXBlb2YoU3RvcmFnZSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJmYWNldFBhZ2VMYXN0U2Nyb2xsXCIsICQod2luZG93KS5zY3JvbGxUb3AoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICBcdH1cbiAgICAgICAgXHRcbiAgICAgICAgXHR2YXIgJGNvbXBvbmVudHMgPSAkKFwiLlwiICsgY29tcG9uZW50Q2xhc3MpO1xuICAgICAgICBcdHZhciAkbGFzdEVsZW1lbnQgPSAkKCcua29oLXByb2R1Y3QtdGlsZScpLmxhc3QoKTtcbiAgICAgICAgXHRpZigkbGFzdEVsZW1lbnQubGVuZ3RoICE9PSAwKXtcblx0ICAgICAgICBcdHZhciAkbGFzdEVsZW1lbnRIZWlnaHQgPSAkbGFzdEVsZW1lbnQuaGVpZ2h0KCk7XG5cdCAgICAgICAgICAgIHZhciB3aW5kb3dIZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG5cdCAgICAgICAgICAgIHZhciBsYXN0RWxlbWVudFRvcCA9ICgkbGFzdEVsZW1lbnQub2Zmc2V0KCkudG9wKTtcblx0ICAgICAgICAgICAgdmFyIGlzTG9hZE1vcmUgPSAkKFwiI2tvaC1sb2FkLW1vcmVcIikudmFsKCk7XG5cdCAgICAgICAgICAgXG5cdCAgICAgICAgICAgIHZhciBsYXN0VmlzaXRlZFBhZ2UgPSAkKCcjY3VycmVudFBhZ2UnKS52YWwoKTtcblx0ICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlVmFsID0gbGFzdFZpc2l0ZWRQYWdlO1xuXHQgICAgICAgICAgICBpZih0eXBlb2YoU3RvcmFnZSkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICBcdGxhc3RWaXNpdGVkUGFnZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibGFzdFZpc2l0ZWRQYWdlXCIpO1xuXHQgICAgICAgICAgICB9XG4gICAgICAgICAgICBcdFxuXHQgICAgICAgICAgICBpZiAoKCgobGFzdEVsZW1lbnRUb3AgLSAkKHdpbmRvdykuaGVpZ2h0KCkgKyAkbGFzdEVsZW1lbnRIZWlnaHQgKyAoJGxhc3RFbGVtZW50SGVpZ2h0IC8gNCkpIDw9ICQod2luZG93KS5zY3JvbGxUb3AoKSkgfHwgKChjdXJyZW50UGFnZVZhbCAhPT0gdW5kZWZpbmVkKSAmJiAoY3VycmVudFBhZ2VWYWwgIT09IGxhc3RWaXNpdGVkUGFnZSkpKSAmJiAoaXNMb2FkTW9yZSA9PSAndHJ1ZScpICAmJiBheEtPSC5tYWluLmlzTGF6eUxvYWRlcikge1x0XG5cdCAgICAgICAgICAgIFx0ZG9MYXp5TG9hZGluZygkY29tcG9uZW50cyk7XG5cdCAgICAgICAgICAgIFx0YXhLT0gubWFpbi5pc0xhenlMb2FkZXIgPSBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuICAgICAgICBcdH1cbiAgICAgICAgfVxuICAgIH07XG5cbn0oKTtcblxuJChmdW5jdGlvbigpIHtcblx0dmFyIGxhc3RWaXNpdGVkUGFnZSA9IDA7XG5cdHZhciBwcm9kdWN0RGV0YWlsUGFnZSA9IGZhbHNlO1xuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIFx0aWYodHlwZW9mKFN0b3JhZ2UpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgXHRsYXN0VmlzaXRlZFBhZ2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImxhc3RWaXNpdGVkUGFnZVwiKTtcbiAgICAgICAgXHR2YXIgY3VycmVudFBhZ2VWYWwgPSAkKCcjY3VycmVudFBhZ2UnKS52YWwoKTtcbiAgICAgICAgXHRpZiAoY3VycmVudFBhZ2VWYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJsYXN0VmlzaXRlZFBhZ2VcIiwgY3VycmVudFBhZ2VWYWwpXG4gICAgICAgIFx0fVxuICAgICAgICBcdHByb2R1Y3REZXRhaWxQYWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcm9kdWN0RGV0YWlsUGFnZVwiKTtcbiAgICAgICAgXHRpZiAocHJvZHVjdERldGFpbFBhZ2UgPT09ICd0cnVlJykge1xuICAgICAgICBcdFx0IGlmKCQoJyNiYWNrRnJvbVByb2R1Y3REZXRhaWxQYWdlJykubGVuZ3RoKVxuICAgICAgICBcdFx0IHtcbiAgICAgICAgXHRcdFx0ICQoJyNiYWNrRnJvbVByb2R1Y3REZXRhaWxQYWdlJykudmFsKHByb2R1Y3REZXRhaWxQYWdlKTtcbiAgICAgICAgXHRcdCB9XG4gICAgICAgIFx0fVxuICAgICAgICBcdHZhciBwcm9kdWN0RGV0YWlsUGFnZVZhbCA9ICQoJyNwcm9kdWN0RGV0YWlsUGFnZScpLnZhbCgpO1xuICAgICAgICBcdGlmIChwcm9kdWN0RGV0YWlsUGFnZVZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2R1Y3REZXRhaWxQYWdlXCIsIHByb2R1Y3REZXRhaWxQYWdlVmFsKVxuICAgICAgICBcdH1lbHNlIHtcbiAgICAgICAgXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHJvZHVjdERldGFpbFBhZ2VcIiwgZmFsc2UpXG4gICAgICAgIFx0fVxuICAgIFx0fVxuICAgICAgICBheEtPSC5tYWluLnByb2R1Y3RGYWNldGVkU2VhcmNoLmluaXRpYWxpemUoKTtcbiAgICB9KSwgJCh3aW5kb3cpLm9uKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgYXhLT0gubWFpbi5wcm9kdWN0RmFjZXRlZFNlYXJjaC5vbkxvYWQoKTtcbiAgICAgICAgJChcIi5rb2gtdmlkZW8tcGFuZWwgLnJlbW9kYWwtY2xvc2UsIGRpdjpub3QoLmtvaC12aWRlby1wYW5lbClcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkdlVSTD0gJChcIi5yZW1vZGFsLWlzLW9wZW5lZCAua29oLXZpZGVvLXBhbmVsIGlmcmFtZVwiKS5hdHRyKFwic3JjXCIpO1xuICAgICAgICAgICAgJChcIi5yZW1vZGFsLWlzLW9wZW5lZCAua29oLXZpZGVvLXBhbmVsIGlmcmFtZVwiKS5hdHRyKFwic3JjXCIsJHZVUkwpOyBcbiAgICAgICAgfSk7XG5cdFx0Ly9sb2NhbCBzdG9yYWdlIGFkZGRlZCBhbmQgcmVtb3ZlZCBmb3IgYWxsIHByb2R1Y3QgdmFsdWVzXG5cdFx0dmFyIGFsbFByb2RDbGlja2VkTWEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImFsbFByb2RDbGlja2VkTWFcIik7XG4gICAgICAgIGlmKGFsbFByb2RDbGlja2VkTWEpIHtcbiAgICAgICAgICAgIHZhciB3aW5kb3dTY3JvbGxUb3AgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImZhY2V0UGFnZUxhc3RTY3JvbGxcIik7XG4gICAgICAgICAgICBpZih3aW5kb3dTY3JvbGxUb3AgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZSh7IHNjcm9sbFRvcDogd2luZG93U2Nyb2xsVG9wfSwgMTAwMCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhbGxQcm9kQ2xpY2tlZE1hJyk7ICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KSxcbiAgICAkKHdpbmRvdykub24oXCJzY3JvbGxcIixheEtPSC5tYWluLnByb2R1Y3RGYWNldGVkU2VhcmNoLnNjcm9sbFBhZ2UpLFxuICAgICQod2luZG93KS51bmxvYWQoZnVuY3Rpb24oKVxuXHR7XG5cdH0pOyBcbiAgICBcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VzaG93XCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIFx0dHJ5IHtcblx0ICAgIFx0aWYgKGV2ZW50LnBlcnNpc3RlZCB8fCAoIHR5cGVvZiB3aW5kb3cucGVyZm9ybWFuY2UgIT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cucGVyZm9ybWFuY2UubmF2aWdhdGlvbi50eXBlID09PSAyICkpIHtcblx0ICAgIFx0XHR2YXIgd2luZG93TGFzdFNjcm9sbCA9ICd1bmRlZmluZWQnIDtcblx0ICAgIFx0XHRpZih0eXBlb2YoU3RvcmFnZSkgIT09IHVuZGVmaW5lZCkge1xuXHRcdCAgICBcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJsYXN0VmlzaXRlZFBhZ2VcIiwgbGFzdFZpc2l0ZWRQYWdlKVxuXHRcdCAgICBcdFx0d2luZG93TGFzdFNjcm9sbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZmFjZXRQYWdlTGFzdFNjcm9sbFwiKTtcblx0ICAgIFx0XHR9XG5cdCAgICBcdFx0aWYgKHByb2R1Y3REZXRhaWxQYWdlID09PSAnZmFsc2UnKSB7XG5cdCAgICBcdFx0XHR3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG5cdCAgICBcdFx0fSBlbHNlIHtcblx0ICAgIFx0XHRcdGF4S09ILm1haW4ucHJvZHVjdEZhY2V0ZWRTZWFyY2guc2Nyb2xsUGFnZSh3aW5kb3dMYXN0U2Nyb2xsKTtcblx0ICAgIFx0XHR9XG5cdCAgICBcdH1cbiAgICBcdH1jYXRjaCAoZXgpIHtcbiAgICBcdH1cbiAgICB9KTtcbn0pO1xuXG4kKHdpbmRvdykub24oXCJyZXNpemVcIiwgZnVuY3Rpb24gKCkge1xuICAgIC8qbWFya2V0IHNlYXJjaCBsaXN0Ki9cbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcbiAgICAgICAgJChcIi5rb2gtbWFya2V0LXZhbHVlcy1jbGlja1wiKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgJCgnLmtvaC1tYXJrZXQtYXZhaWxhYmlsaXR5JykuYWRkQ2xhc3MoJ2tvaC1tYXJrZXQtYXZhaWxhYmlsdGl5LW1vYmlsZS13cmFwJyk7XG4gICAgICAgICAgICAkKCcua29oLW1hcmtldC1saXN0LWNsb3NlLWJ1dHRvbicpLnNob3coKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJCgnLm1hcmtldC1saXN0JykuY3NzKCdoZWlnaHQnLCAkKHdpbmRvdykuaGVpZ2h0KCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgJChcImEua29oLWNvdW50cnktbmFtZVwiKS5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICQoJy5rb2gtbWFya2V0LWF2YWlsYWJpbGl0eScpLnJlbW92ZUNsYXNzKCdrb2gtbWFya2V0LWF2YWlsYWJpbHRpeS1tb2JpbGUtd3JhcCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgJChcIi5rb2gtbWFya2V0LWxpc3QtY2xvc2UtYnV0dG9uXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkKCcua29oLW1hcmtldC1hdmFpbGFiaWxpdHknKS5yZW1vdmVDbGFzcygna29oLW1hcmtldC1hdmFpbGFiaWx0aXktbW9iaWxlLXdyYXAnKTtcbiAgICAgICAgICAgICQoJy5rb2gtbWFya2V0LWxpc3QtY2xvc2UtYnV0dG9uJykuaGlkZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG59KS5yZXNpemUoKTtcbiJdfQ==
