/*
 * Copyright Â© 2000-2017 Kohler Company. All Rights Reserved.
 */
var axKOH=axKOH||{};axKOH.main=axKOH.main||{},axKOH.main.promoManager=function(){var componentClass="c-koh-promo-grid",config={breakpoint:768,masonry:{itemSelector:".koh-promo-tile",columnWidth:".koh-promo-tile-sizer",percentPosition:!0},slick:{autoplay:!1,adaptiveHeight:!0,dots:!0,dotsClass:"koh-slider-indicators",arrows:!0,pauseOnHover:!0,pauseOnDotsHover:!0,mobileFirst:!0,slide:".koh-promo-tile"}},toggleMasonry=function($tileCollection,activate){activate?($tileCollection.children(".koh-promo-tile-sizer").length<1&&$tileCollection.prepend('<div class="koh-promo-tile-sizer"></div>'),$tileCollection.imagesLoaded(function(){$tileCollection.masonry(config.masonry)})):($tileCollection.masonry("destroy"),$tileCollection.remove(".koh-promo-tile-sizer"))},timers={},waitForFinalEvent=function(callback,ms,uniqueId){uniqueId||(uniqueId="UNIQUEID"),timers[uniqueId]&&clearTimeout(timers[uniqueId]),timers[uniqueId]=setTimeout(callback,ms)},createSliderControls=function($tileCollection){var $sliderControls=$('<div class="koh-slider-controls"></div>');$sliderControls.insertBefore($tileCollection);var $movePrevious=$('<button class="koh-slider-control previous"><span class="icon"></span><span class="label">Previous</span></button>'),$moveNext=$('<button class="koh-slider-control next"><span class="icon"></span><span class="label">Next</span></button>');return $sliderControls.append($movePrevious),$sliderControls.append($moveNext),$sliderControls},destroySliderControls=function($tileCollection){$tileCollection.prev(".koh-slider-controls").remove()},onResize=function($target,useMasonry,slickConfig){var isMobile=$(window).width()<config.breakpoint,prevSize=$target.attr("data-size");if(!(isMobile&&"mobile"===prevSize||!isMobile&&"desktop"===prevSize))if(isMobile){useMasonry&&prevSize&&toggleMasonry($target,!1);var $sliderControls=createSliderControls($target);slickConfig.appendArrows=$sliderControls,slickConfig.appendDots=$sliderControls,slickConfig.prevArrow=$sliderControls.children(".koh-slider-control.previous"),slickConfig.nextArrow=$sliderControls.children(".koh-slider-control.next"),$target.slick(slickConfig),$target.attr("data-size","mobile")}else prevSize&&$target.hasClass("slick-initialized")&&($target.slick("unslick"),destroySliderControls($target)),useMasonry&&toggleMasonry($target,!0),$target.attr("data-size","desktop")},initPromos=function(){var $components=$("."+componentClass),$stackedComponents=$components.not(".m-koh-slideshow"),$sliderComponents=$components.filter(".m-koh-slideshow");$(window).width()<config.breakpoint;$stackedComponents.each(function(){var $component=$(this);if($component.hasClass("v-koh-scattered")){var $container=$component.children(".koh-promo-content"),$tileCollection=$container.children(".koh-promo-tiles");toggleMasonry($tileCollection,!0)}}),$sliderComponents.each(function(index){var $component=$(this),$container=$component.children(".koh-promo-content"),$tileCollection=$container.children(".koh-promo-tiles"),useMasonry=$component.hasClass("v-koh-scattered");onResize($tileCollection,useMasonry,config.slick),$(window).resize({target:$tileCollection,masonry:useMasonry,config:config.slick},function(e){var $target=e.data.target,masonry=e.data.masonry,config=e.data.config;waitForFinalEvent(function(){onResize($target,masonry,config)},500,"promo"+index)})})},initPromoVideos=function(){var $components=$("."+componentClass);$components.each(function(componentIndex){var $component=$(this),$tiles=$component.find(".koh-promo-tile");$tiles.each(function(tileIndex){var $tile=$(this),$videoIcons=$tile.find(".koh-video-icon");if($videoIcons.length>0){var $videoLink=$tile.children("a").first(),videoURL=$videoLink.attr("href");if(videoURL){var $videoPanel=$('<div class="koh-video-panel"><iframe width="560" height="315" src="'+videoURL+'" frameborder="0" allowfullscreen></iframe></div>');$videoPanel.insertAfter($videoLink);var remodalID="PromoVideo"+componentIndex+tileIndex;initAsModal($videoLink,$videoPanel,remodalID)}}})})},initAsModal=function($button,$panel,remodalID){$panel.data("remodal-id",remodalID),$panel.prepend('<button data-remodal-action="close" class="remodal-close"></button>'),$panel.attr("data-koh-component",componentClass),$panel.addClass(componentClass+"-modal");var $remodalPanel=$panel.remodal({hashTracking:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:""});$button.data("remodal-target",remodalID),$button.click({target:$remodalPanel},function(e){e.preventDefault(),e.stopPropagation();var $target=e.data.target;$target.open()})},tileDescStyler=function(){var $component=$("."+componentClass),$tiles=$($component).find(".koh-promo-tile");$tiles.each(function(){var $currentTile=$(this),$curTileDesc=$($currentTile).find(".koh-promo-description"),charArr=$curTileDesc.text().split(""),CHARACTER_LIMIT=48;if(charArr.length>CHARACTER_LIMIT){var delCount=charArr.length-CHARACTER_LIMIT;charArr.splice(CHARACTER_LIMIT,delCount),charArr.push("...")}var trimmedStr=charArr.join("");$curTileDesc.text(trimmedStr)})};return{initialize:function(){initPromos(),initPromoVideos()},descriptionStyler:function(){tileDescStyler()}}}(),$(function(){$(window).load(function(){axKOH.main.promoManager.initialize();var BREAKPOINT_WIDTH=768;$(window).width()<BREAKPOINT_WIDTH&&axKOH.main.promoManager.descriptionStyler()})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImMta29oLXByb21vLWdyaWQuanMiXSwibmFtZXMiOlsiYXhLT0giLCJtYWluIiwicHJvbW9NYW5hZ2VyIiwiY29tcG9uZW50Q2xhc3MiLCJjb25maWciLCJicmVha3BvaW50IiwibWFzb25yeSIsIml0ZW1TZWxlY3RvciIsImNvbHVtbldpZHRoIiwicGVyY2VudFBvc2l0aW9uIiwic2xpY2siLCJhdXRvcGxheSIsImFkYXB0aXZlSGVpZ2h0IiwiZG90cyIsImRvdHNDbGFzcyIsImFycm93cyIsInBhdXNlT25Ib3ZlciIsInBhdXNlT25Eb3RzSG92ZXIiLCJtb2JpbGVGaXJzdCIsInNsaWRlIiwidG9nZ2xlTWFzb25yeSIsIiR0aWxlQ29sbGVjdGlvbiIsImFjdGl2YXRlIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJwcmVwZW5kIiwiaW1hZ2VzTG9hZGVkIiwicmVtb3ZlIiwidGltZXJzIiwid2FpdEZvckZpbmFsRXZlbnQiLCJjYWxsYmFjayIsIm1zIiwidW5pcXVlSWQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY3JlYXRlU2xpZGVyQ29udHJvbHMiLCIkc2xpZGVyQ29udHJvbHMiLCIkIiwiaW5zZXJ0QmVmb3JlIiwiJG1vdmVQcmV2aW91cyIsIiRtb3ZlTmV4dCIsImFwcGVuZCIsImRlc3Ryb3lTbGlkZXJDb250cm9scyIsInByZXYiLCJvblJlc2l6ZSIsIiR0YXJnZXQiLCJ1c2VNYXNvbnJ5Iiwic2xpY2tDb25maWciLCJpc01vYmlsZSIsIndpbmRvdyIsIndpZHRoIiwicHJldlNpemUiLCJhdHRyIiwiYXBwZW5kQXJyb3dzIiwiYXBwZW5kRG90cyIsInByZXZBcnJvdyIsIm5leHRBcnJvdyIsImhhc0NsYXNzIiwiaW5pdFByb21vcyIsIiRjb21wb25lbnRzIiwiJHN0YWNrZWRDb21wb25lbnRzIiwibm90IiwiJHNsaWRlckNvbXBvbmVudHMiLCJmaWx0ZXIiLCJlYWNoIiwiJGNvbXBvbmVudCIsInRoaXMiLCIkY29udGFpbmVyIiwiaW5kZXgiLCJyZXNpemUiLCJ0YXJnZXQiLCJlIiwiZGF0YSIsImluaXRQcm9tb1ZpZGVvcyIsImNvbXBvbmVudEluZGV4IiwiJHRpbGVzIiwiZmluZCIsInRpbGVJbmRleCIsIiR0aWxlIiwiJHZpZGVvSWNvbnMiLCIkdmlkZW9MaW5rIiwiZmlyc3QiLCJ2aWRlb1VSTCIsIiR2aWRlb1BhbmVsIiwiaW5zZXJ0QWZ0ZXIiLCJyZW1vZGFsSUQiLCJpbml0QXNNb2RhbCIsIiRidXR0b24iLCIkcGFuZWwiLCJhZGRDbGFzcyIsIiRyZW1vZGFsUGFuZWwiLCJyZW1vZGFsIiwiaGFzaFRyYWNraW5nIiwiY2xvc2VPbkNhbmNlbCIsImNsb3NlT25Fc2NhcGUiLCJjbG9zZU9uT3V0c2lkZUNsaWNrIiwibW9kaWZpZXIiLCJjbGljayIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwib3BlbiIsInRpbGVEZXNjU3R5bGVyIiwiJGN1cnJlbnRUaWxlIiwiJGN1clRpbGVEZXNjIiwiY2hhckFyciIsInRleHQiLCJzcGxpdCIsIkNIQVJBQ1RFUl9MSU1JVCIsImRlbENvdW50Iiwic3BsaWNlIiwicHVzaCIsInRyaW1tZWRTdHIiLCJqb2luIiwiaW5pdGlhbGl6ZSIsImRlc2NyaXB0aW9uU3R5bGVyIiwibG9hZCIsIkJSRUFLUE9JTlRfV0lEVEgiXSwibWFwcGluZ3MiOiI7OztBQU1BLEdBQUlBLE9BQVFBLFNBRVpBLE9BQU1DLEtBQU9ELE1BQU1DLFNBRW5CRCxNQUFNQyxLQUFLQyxhQUFlLFdBQ3RCLEdBQUlDLGdCQUFpQixtQkFFakJDLFFBQ0FDLFdBQVksSUFDWkMsU0FDSUMsYUFBYyxrQkFDZEMsWUFBYSx3QkFDYkMsaUJBQWlCLEdBRXJCQyxPQUNJQyxVQUFVLEVBQ1ZDLGdCQUFnQixFQUNoQkMsTUFBTSxFQUNOQyxVQUFXLHdCQUNYQyxRQUFRLEVBQ1JDLGNBQWMsRUFDZEMsa0JBQWtCLEVBQ2xCQyxhQUFhLEVBQ2JDLE1BQU8sb0JBSVhDLGNBQWdCLFNBQVVDLGdCQUFpQkMsVUFDdkNBLFVBRUlELGdC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QyxVQUMvQkosUUFBUU0sS0FBSyxPQUVqQixHQUFJQyxZQUFhUCxRQUFRUSxLQUFLLEdBQzlCVCxjQUFhRSxLQUFLTSxjQUsxQixRQUNJRSxXQUFZLFdBQ1J2RCxhQUNBZSxtQkFFSnlDLGtCQUFtQixXQUNmYixzQkFLWmhFLEVBQUUsV0FDRUEsRUFBRVksUUFBUWtFLEtBQUssV0FFWG5ILE1BQU1DLEtBQUtDLGFBQWErRyxZQUN4QixJQUFJRyxrQkFBbUIsR0FFcEIvRSxHQUFFWSxRQUFRQyxRQUFVa0Usa0JBQ25CcEgsTUFBTUMsS0FBS0MsYUFBYWdIIiwiZmlsZSI6ImMta29oLXByb21vLWdyaWQubWluLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCDCqSAyMDAwLTIwMTcgS29obGVyIENvbXBhbnkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKi9cblxuLy8gSmF2YVNjcmlwdCBEb2N1bWVudFxuXG52YXIgYXhLT0ggPSBheEtPSCB8fCB7fTtcblxuYXhLT0gubWFpbiA9IGF4S09ILm1haW4gfHwge307XG5cbmF4S09ILm1haW4ucHJvbW9NYW5hZ2VyID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY29tcG9uZW50Q2xhc3MgPSBcImMta29oLXByb21vLWdyaWRcIjtcblxuICAgIHZhciBjb25maWcgPSB7XG4gICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcbiAgICAgICAgbWFzb25yeToge1xuICAgICAgICAgICAgaXRlbVNlbGVjdG9yOiAnLmtvaC1wcm9tby10aWxlJyxcbiAgICAgICAgICAgIGNvbHVtbldpZHRoOiAnLmtvaC1wcm9tby10aWxlLXNpemVyJyxcbiAgICAgICAgICAgIHBlcmNlbnRQb3NpdGlvbjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBzbGljazoge1xuICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgICAgICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWUsXG4gICAgICAgICAgICBkb3RzOiB0cnVlLFxuICAgICAgICAgICAgZG90c0NsYXNzOiAna29oLXNsaWRlci1pbmRpY2F0b3JzJyxcbiAgICAgICAgICAgIGFycm93czogdHJ1ZSxcbiAgICAgICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSxcbiAgICAgICAgICAgIHBhdXNlT25Eb3RzSG92ZXI6IHRydWUsXG4gICAgICAgICAgICBtb2JpbGVGaXJzdDogdHJ1ZSxcbiAgICAgICAgICAgIHNsaWRlOiAnLmtvaC1wcm9tby10aWxlJ1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciB0b2dnbGVNYXNvbnJ5ID0gZnVuY3Rpb24gKCR0aWxlQ29sbGVjdGlvbiwgYWN0aXZhdGUpIHtcbiAgICAgICAgaWYgKGFjdGl2YXRlKSB7XG4gICAgICAgICAgICAvLyBhZGQgc2l6ZXIgZGl2IHRoYXQgbWFzb25yeSBuZWVkcyB0byBzaXplIHRoaW5ncyBwcm9wZXJseVxuICAgICAgICAgICAgaWYgKCR0aWxlQ29sbGVjdGlvbi5jaGlsZHJlbihcIi5rb2gtcHJvbW8tdGlsZS1zaXplclwiKS5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICAgICAgJHRpbGVDb2xsZWN0aW9uLnByZXBlbmQoJzxkaXYgY2xhc3M9XCJrb2gtcHJvbW8tdGlsZS1zaXplclwiPjwvZGl2PicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkdGlsZUNvbGxlY3Rpb24uaW1hZ2VzTG9hZGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkdGlsZUNvbGxlY3Rpb24ubWFzb25yeShjb25maWcubWFzb25yeSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICR0aWxlQ29sbGVjdGlvbi5tYXNvbnJ5KCdkZXN0cm95Jyk7XG4gICAgICAgICAgICAvLyByZW1vdmUgc2l6ZXIgd2hlbiB3ZSdyZSBub3QgZG9pbmcgbWFzb25yeVxuICAgICAgICAgICAgJHRpbGVDb2xsZWN0aW9uLnJlbW92ZShcIi5rb2gtcHJvbW8tdGlsZS1zaXplclwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgdGltZXJzID0ge307XG5cbiAgICB2YXIgd2FpdEZvckZpbmFsRXZlbnQgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIG1zLCB1bmlxdWVJZCkge1xuICAgICAgICBpZiAoIXVuaXF1ZUlkKSB7XG4gICAgICAgICAgICB1bmlxdWVJZCA9IFwiVU5JUVVFSURcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZXJzW3VuaXF1ZUlkXSkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyc1t1bmlxdWVJZF0pO1xuICAgICAgICB9XG4gICAgICAgIHRpbWVyc1t1bmlxdWVJZF0gPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCBtcyk7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVTbGlkZXJDb250cm9scyA9IGZ1bmN0aW9uICgkdGlsZUNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyICRzbGlkZXJDb250cm9scyA9ICQoJzxkaXYgY2xhc3M9XCJrb2gtc2xpZGVyLWNvbnRyb2xzXCI+PC9kaXY+Jyk7XG4gICAgICAgICRzbGlkZXJDb250cm9scy5pbnNlcnRCZWZvcmUoJHRpbGVDb2xsZWN0aW9uKTtcblxuICAgICAgICB2YXIgJG1vdmVQcmV2aW91cyA9ICQoJzxidXR0b24gY2xhc3M9XCJrb2gtc2xpZGVyLWNvbnRyb2wgcHJldmlvdXNcIj48c3BhbiBjbGFzcz1cImljb25cIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYWJlbFwiPlByZXZpb3VzPC9zcGFuPjwvYnV0dG9uPicpO1xuICAgICAgICB2YXIgJG1vdmVOZXh0ID0gJCgnPGJ1dHRvbiBjbGFzcz1cImtvaC1zbGlkZXItY29udHJvbCBuZXh0XCI+PHNwYW4gY2xhc3M9XCJpY29uXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwibGFiZWxcIj5OZXh0PC9zcGFuPjwvYnV0dG9uPicpO1xuICAgICAgICAkc2xpZGVyQ29udHJvbHMuYXBwZW5kKCRtb3ZlUHJldmlvdXMpO1xuICAgICAgICAkc2xpZGVyQ29udHJvbHMuYXBwZW5kKCRtb3ZlTmV4dCk7XG5cbiAgICAgICAgcmV0dXJuICRzbGlkZXJDb250cm9scztcbiAgICB9O1xuXG4gICAgdmFyIGRlc3Ryb3lTbGlkZXJDb250cm9scyA9IGZ1bmN0aW9uICgkdGlsZUNvbGxlY3Rpb24pIHtcbiAgICAgICAgJHRpbGVDb2xsZWN0aW9uLnByZXYoXCIua29oLXNsaWRlci1jb250cm9sc1wiKS5yZW1vdmUoKTtcbiAgICB9O1xuXG4gICAgdmFyIG9uUmVzaXplID0gZnVuY3Rpb24gKCR0YXJnZXQsIHVzZU1hc29ucnksIHNsaWNrQ29uZmlnKSB7XG4gICAgICAgIHZhciBpc01vYmlsZSA9ICgkKHdpbmRvdykud2lkdGgoKSA8IGNvbmZpZy5icmVha3BvaW50KTtcbiAgICAgICAgdmFyIHByZXZTaXplID0gJHRhcmdldC5hdHRyKFwiZGF0YS1zaXplXCIpO1xuXG4gICAgICAgIGlmICgoaXNNb2JpbGUgJiYgcHJldlNpemUgPT09IFwibW9iaWxlXCIpIHx8ICghaXNNb2JpbGUgJiYgcHJldlNpemUgPT09IFwiZGVza3RvcFwiKSkge1xuICAgICAgICAgICAgLy8gaWYgd2UncmUgc3RpbGwgb24gdGhlIHNhbWUgc2lkZSBvZiB0aGUgYnJlYWtwb2ludCB0aGF0IHdlIHdlcmUgXG4gICAgICAgICAgICAvLyBiZWZvcmUsIGFuZCB0aGlzIGlzIG5vdCBmaXJzdCBsb2FkLCBkb24ndCByZS1pbml0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgICAgICAgIC8vIHR1cm4gb2ZmIG1hc29ucnkgaWYgd2UncmUgdXNpbmcgaXRcbiAgICAgICAgICAgIGlmICh1c2VNYXNvbnJ5ICYmIHByZXZTaXplKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlTWFzb25yeSgkdGFyZ2V0LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0dXJuIG9uIHNsaWNrXG4gICAgICAgICAgICB2YXIgJHNsaWRlckNvbnRyb2xzID0gY3JlYXRlU2xpZGVyQ29udHJvbHMoJHRhcmdldCk7XG4gICAgICAgICAgICBzbGlja0NvbmZpZy5hcHBlbmRBcnJvd3MgPSAkc2xpZGVyQ29udHJvbHM7XG4gICAgICAgICAgICBzbGlja0NvbmZpZy5hcHBlbmREb3RzID0gJHNsaWRlckNvbnRyb2xzO1xuICAgICAgICAgICAgc2xpY2tDb25maWcucHJldkFycm93ID0gJHNsaWRlckNvbnRyb2xzLmNoaWxkcmVuKFwiLmtvaC1zbGlkZXItY29udHJvbC5wcmV2aW91c1wiKTtcbiAgICAgICAgICAgIHNsaWNrQ29uZmlnLm5leHRBcnJvdyA9ICRzbGlkZXJDb250cm9scy5jaGlsZHJlbihcIi5rb2gtc2xpZGVyLWNvbnRyb2wubmV4dFwiKTtcblxuICAgICAgICAgICAgJHRhcmdldC5zbGljayhzbGlja0NvbmZpZyk7XG4gICAgICAgICAgICAvLyBzYXZlIHdoYXQgc2l6ZSB3ZSBpbml0aWFsaXplZCBhdCBsYXN0XG4gICAgICAgICAgICAkdGFyZ2V0LmF0dHIoXCJkYXRhLXNpemVcIiwgXCJtb2JpbGVcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB0dXJuIG9mZiBzbGlja1xuICAgICAgICAgICAgaWYgKHByZXZTaXplKSB7XG4gICAgICAgICAgICAgICAgaWYgKCR0YXJnZXQuaGFzQ2xhc3MoJ3NsaWNrLWluaXRpYWxpemVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRhcmdldC5zbGljaygndW5zbGljaycpO1xuICAgICAgICAgICAgICAgICAgICBkZXN0cm95U2xpZGVyQ29udHJvbHMoJHRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHVybiBvbiBtYXNvbnJ5IGlmIHdlJ3JlIHVzaW5nIGl0XG4gICAgICAgICAgICBpZiAodXNlTWFzb25yeSkge1xuICAgICAgICAgICAgICAgIHRvZ2dsZU1hc29ucnkoJHRhcmdldCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkdGFyZ2V0LmF0dHIoXCJkYXRhLXNpemVcIiwgXCJkZXNrdG9wXCIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBpbml0UHJvbW9zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBMb2NhdGUgYWxsIGluc3RhbmNlcyBvZiB0aGUgY29tcG9uZW50XG4gICAgICAgIHZhciAkY29tcG9uZW50cyA9ICQoXCIuXCIgKyBjb21wb25lbnRDbGFzcyk7XG5cbiAgICAgICAgLy8gRmlsdGVyIGxpc3RzIGZvciBzbGlkZXJzIHZzIHN0YWNrZWRcbiAgICAgICAgdmFyICRzdGFja2VkQ29tcG9uZW50cyA9ICRjb21wb25lbnRzLm5vdChcIi5tLWtvaC1zbGlkZXNob3dcIik7XG4gICAgICAgIHZhciAkc2xpZGVyQ29tcG9uZW50cyA9ICRjb21wb25lbnRzLmZpbHRlcihcIi5tLWtvaC1zbGlkZXNob3dcIik7XG5cbiAgICAgICAgdmFyIGlzTW9iaWxlID0gKCQod2luZG93KS53aWR0aCgpIDwgY29uZmlnLmJyZWFrcG9pbnQpO1xuICAgICAgICAvLyBJZiB0aGUgY29tcG9uZW50IHNldHRpbmdzIGluZGljYXRlIHRoYXQgaXQgc2hvdWxkIGJlIHN0YWNrZWQgYXQgbW9iaWxlLCBrZWVwIGl0IHNpbXBsZTpcbiAgICAgICAgLy8gSnVzdCBhY3RpdmF0ZSB0aGUgTWFzb25yeSBmb3IgU2NhdHRlcmVkIGFuZCBiZSBkb25lXG4gICAgICAgICRzdGFja2VkQ29tcG9uZW50cy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciAkY29tcG9uZW50ID0gJCh0aGlzKTtcbiAgICAgICAgICAgIGlmICgkY29tcG9uZW50Lmhhc0NsYXNzKFwidi1rb2gtc2NhdHRlcmVkXCIpKSB7XG4gICAgICAgICAgICAgICAgdmFyICRjb250YWluZXIgPSAkY29tcG9uZW50LmNoaWxkcmVuKFwiLmtvaC1wcm9tby1jb250ZW50XCIpO1xuICAgICAgICAgICAgICAgIHZhciAkdGlsZUNvbGxlY3Rpb24gPSAkY29udGFpbmVyLmNoaWxkcmVuKFwiLmtvaC1wcm9tby10aWxlc1wiKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVNYXNvbnJ5KCR0aWxlQ29sbGVjdGlvbiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIElmIHRoZSBjb21wb25lbnQgc2V0dGluZ3MgaW5kaWNhdGUgdGhhdCBpdCBzaG91bGQgYmUgc2xpZGVyIGF0IG1vYmlsZSwgdGhpcyBuZWVkcyBtb3JlIHN0ZXBzOlxuICAgICAgICAkc2xpZGVyQ29tcG9uZW50cy5lYWNoKGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgdmFyICRjb21wb25lbnQgPSAkKHRoaXMpO1xuICAgICAgICAgICAgdmFyICRjb250YWluZXIgPSAkY29tcG9uZW50LmNoaWxkcmVuKFwiLmtvaC1wcm9tby1jb250ZW50XCIpO1xuICAgICAgICAgICAgdmFyICR0aWxlQ29sbGVjdGlvbiA9ICRjb250YWluZXIuY2hpbGRyZW4oXCIua29oLXByb21vLXRpbGVzXCIpO1xuXG4gICAgICAgICAgICB2YXIgdXNlTWFzb25yeSA9ICRjb21wb25lbnQuaGFzQ2xhc3MoXCJ2LWtvaC1zY2F0dGVyZWRcIik7XG4gICAgICAgICAgICBvblJlc2l6ZSgkdGlsZUNvbGxlY3Rpb24sIHVzZU1hc29ucnksIGNvbmZpZy5zbGljayk7XG5cbiAgICAgICAgICAgICQod2luZG93KS5yZXNpemUoe1xuICAgICAgICAgICAgICAgIHRhcmdldDogJHRpbGVDb2xsZWN0aW9uLFxuICAgICAgICAgICAgICAgIG1hc29ucnk6IHVzZU1hc29ucnksXG4gICAgICAgICAgICAgICAgY29uZmlnOiBjb25maWcuc2xpY2tcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgdmFyICR0YXJnZXQgPSBlLmRhdGEudGFyZ2V0O1xuICAgICAgICAgICAgICAgIHZhciBtYXNvbnJ5ID0gZS5kYXRhLm1hc29ucnk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IGUuZGF0YS5jb25maWc7XG5cbiAgICAgICAgICAgICAgICB3YWl0Rm9yRmluYWxFdmVudChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uUmVzaXplKCR0YXJnZXQsIG1hc29ucnksIGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgfSwgNTAwLCBcInByb21vXCIgKyBpbmRleCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBpbml0UHJvbW9WaWRlb3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkY29tcG9uZW50cyA9ICQoXCIuXCIgKyBjb21wb25lbnRDbGFzcyk7XG5cbiAgICAgICAgJGNvbXBvbmVudHMuZWFjaChmdW5jdGlvbiAoY29tcG9uZW50SW5kZXgpIHtcbiAgICAgICAgICAgIHZhciAkY29tcG9uZW50ID0gJCh0aGlzKTtcbiAgICAgICAgICAgIHZhciAkdGlsZXMgPSAkY29tcG9uZW50LmZpbmQoXCIua29oLXByb21vLXRpbGVcIik7XG5cbiAgICAgICAgICAgICR0aWxlcy5lYWNoKGZ1bmN0aW9uICh0aWxlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHRpbGUgPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgLy8gTmVlZCB0byBkZXRlcm1pbmUgaWYgdGhpcyB0aWxlIGlzIGEgdmlkZW8gdGlsZVxuICAgICAgICAgICAgICAgIHZhciAkdmlkZW9JY29ucyA9ICR0aWxlLmZpbmQoXCIua29oLXZpZGVvLWljb25cIik7XG4gICAgICAgICAgICAgICAgaWYgKCR2aWRlb0ljb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICR2aWRlb0xpbmsgPSAkdGlsZS5jaGlsZHJlbihcImFcIikuZmlyc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZpZGVvVVJMID0gJHZpZGVvTGluay5hdHRyKFwiaHJlZlwiKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodmlkZW9VUkwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBkaXZzIHRvIGJlIHZpZGVvIG1vZGFscyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkdmlkZW9QYW5lbCA9ICQoJzxkaXYgY2xhc3M9XCJrb2gtdmlkZW8tcGFuZWxcIj48aWZyYW1lIHdpZHRoPVwiNTYwXCIgaGVpZ2h0PVwiMzE1XCIgc3JjPVwiJyArIHZpZGVvVVJMICsgJ1wiIGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICR2aWRlb1BhbmVsLmluc2VydEFmdGVyKCR2aWRlb0xpbmspO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb2RhbElEID0gXCJQcm9tb1ZpZGVvXCIgKyBjb21wb25lbnRJbmRleCArIHRpbGVJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRBc01vZGFsKCR2aWRlb0xpbmssICR2aWRlb1BhbmVsLCByZW1vZGFsSUQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKiBIZWxwZXIgRnVuY3Rpb25zICovXG4gICAgdmFyIGluaXRBc01vZGFsID0gZnVuY3Rpb24gKCRidXR0b24sICRwYW5lbCwgcmVtb2RhbElEKSB7XG4gICAgICAgICRwYW5lbC5kYXRhKFwicmVtb2RhbC1pZFwiLCByZW1vZGFsSUQpO1xuICAgICAgICAkcGFuZWwucHJlcGVuZCgnPGJ1dHRvbiBkYXRhLXJlbW9kYWwtYWN0aW9uPVwiY2xvc2VcIiBjbGFzcz1cInJlbW9kYWwtY2xvc2VcIj48L2J1dHRvbj4nKTtcbiAgICAgICAgJHBhbmVsLmF0dHIoXCJkYXRhLWtvaC1jb21wb25lbnRcIiwgY29tcG9uZW50Q2xhc3MpO1xuICAgICAgICAkcGFuZWwuYWRkQ2xhc3MoY29tcG9uZW50Q2xhc3MgKyBcIi1tb2RhbFwiKTtcblxuICAgICAgICB2YXIgJHJlbW9kYWxQYW5lbCA9ICRwYW5lbC5yZW1vZGFsKHtcbiAgICAgICAgICAgIGhhc2hUcmFja2luZzogdHJ1ZSxcbiAgICAgICAgICAgIGNsb3NlT25DYW5jZWw6IHRydWUsXG4gICAgICAgICAgICBjbG9zZU9uRXNjYXBlOiB0cnVlLFxuICAgICAgICAgICAgY2xvc2VPbk91dHNpZGVDbGljazogdHJ1ZSxcbiAgICAgICAgICAgIG1vZGlmaWVyOiAnJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBNYWtlIHRoZSBidXR0b24gYWxsIGJ1dHRvbi15IGFuZCBjbGljay15XG4gICAgICAgICRidXR0b24uZGF0YShcInJlbW9kYWwtdGFyZ2V0XCIsIHJlbW9kYWxJRCk7XG4gICAgICAgICRidXR0b24uY2xpY2soe1xuICAgICAgICAgICAgdGFyZ2V0OiAkcmVtb2RhbFBhbmVsXG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgdmFyICR0YXJnZXQgPSBlLmRhdGEudGFyZ2V0O1xuICAgICAgICAgICAgJHRhcmdldC5vcGVuKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBUaWxlcyBkZXNjcmlwdGlvbiB0cmltbWVyIGZ1bmN0aW9uXG4gICAgdmFyIHRpbGVEZXNjU3R5bGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGNvbXBvbmVudCA9ICQoXCIuXCIrY29tcG9uZW50Q2xhc3MpO1xuICAgICAgICB2YXIgJHRpbGVzID0gJCgkY29tcG9uZW50KS5maW5kKFwiLmtvaC1wcm9tby10aWxlXCIpO1xuICAgICAgICAkdGlsZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkY3VycmVudFRpbGUgPSAkKHRoaXMpO1xuICAgICAgICAgICAgdmFyICRjdXJUaWxlRGVzYyA9ICQoJGN1cnJlbnRUaWxlKS5maW5kKFwiLmtvaC1wcm9tby1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgICAgIHZhciBjaGFyQXJyID0gJGN1clRpbGVEZXNjLnRleHQoKS5zcGxpdChcIlwiKTtcbiAgICAgICAgICAgIHZhciBDSEFSQUNURVJfTElNSVQgPSA0ODtcbiAgICAgICAgICAgIGlmKGNoYXJBcnIubGVuZ3RoID4gQ0hBUkFDVEVSX0xJTUlUKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlbENvdW50ID0gY2hhckFyci5sZW5ndGggLSBDSEFSQUNURVJfTElNSVQ7XG4gICAgICAgICAgICAgICAgY2hhckFyci5zcGxpY2UoQ0hBUkFDVEVSX0xJTUlULGRlbENvdW50KTtcbiAgICAgICAgICAgICAgICBjaGFyQXJyLnB1c2goXCIuLi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdHJpbW1lZFN0ciA9IGNoYXJBcnIuam9pbihcIlwiKTtcbiAgICAgICAgICAgICRjdXJUaWxlRGVzYy50ZXh0KHRyaW1tZWRTdHIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKiBEZWZpbmVzIGZ1bmN0aW9ucyBleHBvc2VkIHRocm91Z2ggbWFuYWdlciBvYmplY3QgKi9cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpbml0UHJvbW9zKCk7XG4gICAgICAgICAgICBpbml0UHJvbW9WaWRlb3MoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVzY3JpcHRpb25TdHlsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGlsZURlc2NTdHlsZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG59KSgpO1xuXG4kKGZ1bmN0aW9uICgpIHtcbiAgICAkKHdpbmRvdykubG9hZChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGV4ZWN1dGVzIHdoZW4gSFRNTC1Eb2N1bWVudCBpcyBsb2FkZWQgYW5kIERPTSBpcyByZWFkeVxuICAgICAgICBheEtPSC5tYWluLnByb21vTWFuYWdlci5pbml0aWFsaXplKCk7XG4gICAgICAgIHZhciBCUkVBS1BPSU5UX1dJRFRIID0gNzY4OyBcbiAgICAgICAgXG4gICAgICAgIGlmKCQod2luZG93KS53aWR0aCgpIDwgQlJFQUtQT0lOVF9XSURUSCkge1xuICAgICAgICAgICAgYXhLT0gubWFpbi5wcm9tb01hbmFnZXIuZGVzY3JpcHRpb25TdHlsZXIoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG4iXX0=
